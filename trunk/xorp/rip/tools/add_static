#!/bin/sh

DIR=`dirname $0`
: ${DIR:="."}

echo $*

riptype=$1
shift

if [ ${riptype} != "rip" -a ${riptype} != "ripng" ] ; then
    echo "Expected first argument to be \"rip\" or \"ripng\": got \"${riptype}\""
    exit
fi

# Source RIP specific shell functions
. ${DIR}/xrl_${riptype}_shell_funcs.sh

# Source library shell functions
. ${DIR}/../../utils/xrl_shell_lib.sh

CALLXRL="${DIR}/../../libxipc/call_xrl"

CMDS="add static"
for i in ${CMDS} ; do
    if [ "${1}" != "${i}" ] ; then
	echo "Unexpected argument: ${1} (!= ${i})."
	exit 1
    fi
    shift
done

if [ $# -ne 3 ] ; then
    echo "Expected <net> <nexthop> <cost>, but got $*"
    exit 1
fi

RIPCMD="${riptype}_${riptype}_add_static_route"

${RIPCMD} $1 $2 $3

exit 0

