#
# $XORP: xorp/Jamfile,v 1.4 2007/04/20 07:17:40 pavlin Exp $
#

# TODO: Fix building in a directory other than source tree. Make the rules
#       heed LOCATE_TARGET, LOCATE_SOURCE and MakeLocate to achieve this.
# TODO: Fix include dependencies for autogenerated xrl targets, such
# that Jam will pick them up and generate them on a header scan.
# This is particularly noticeable in $(TOP)/bgp when trying to build
# xorp_bgp as a direct target and finding those files missing.
# TODO: Do not propagate 'clean' target recursively.
# This is difficult to fix.

JAMRULES_ALREADY_SEEN = TRUE ;
SubDir TOP ;

if ! $(JAMRULES_ALREADY_SEEN)
{
	include $(TOP)/Jamrules ;
}

SubIncludeOnce TOP libxorp ;
SubIncludeOnce TOP libcomm ;
SubIncludeOnce TOP libxipc ;
SubIncludeOnce TOP libproto ;
SubIncludeOnce TOP mrt ;
SubIncludeOnce TOP xrl ;
SubIncludeOnce TOP libfeaclient ;

SubIncludeOnce TOP cli ;
SubIncludeOnce TOP policy ;
SubIncludeOnce TOP utils ;

SubIncludeOnce TOP fea ;
SubIncludeOnce TOP rib ;

SubIncludeOnce TOP bgp ;
SubIncludeOnce TOP fib2mrib ;
SubIncludeOnce TOP mld6igmp ;
SubIncludeOnce TOP ospf ;
SubIncludeOnce TOP pim ;
SubIncludeOnce TOP rip ;
SubIncludeOnce TOP rtrmgr ;
SubIncludeOnce TOP static_routes ;

SubIncludeOnce TOP etc ;
SubIncludeOnce TOP contrib ;

# XXX NOTYET: uses separate configure script, and not supported for Windows.
#if $(OS) != "NT" {
# SubIncludeOnce TOP mibs ;
#}
