#
# $XORP$
#

# TODO: Hook up to configure script.
# Once jamrules and configure script integration is done, commit with
# feedback first.
# TODO: Fix building in a directory other than source tree.
#   ... this is going to require MakeLocate and LOCATE_TARGET magic,
# TODO: Fix include dependencies for autogenerated xrl targets, such
# that Jam will pick them up and generate them on a header scan.
# This is particularly noticeable in $(TOP)/bgp when trying to build
# xorp_bgp as a direct target and finding those files missing.
# TODO: Do not propagate 'clean' target recursively.
# This is difficult to fix.

JAMRULES_ALREADY_SEEN = TRUE ;
SubDir TOP ;

if ! $(JAMRULES_ALREADY_SEEN)
{
	include $(TOP)/Jamrules ;
}

SubIncludeOnce TOP libcomm ;
SubIncludeOnce TOP libxorp ;
SubIncludeOnce TOP libxipc ;
SubIncludeOnce TOP libproto ;
SubIncludeOnce TOP mrt ;
SubIncludeOnce TOP xrl ;
SubIncludeOnce TOP libfeaclient ;

SubIncludeOnce TOP cli ;
SubIncludeOnce TOP policy ;
SubIncludeOnce TOP utils ;

SubIncludeOnce TOP fea ;
SubIncludeOnce TOP fib2mrib ;
SubIncludeOnce TOP mld6igmp ;
SubIncludeOnce TOP rib ;

SubIncludeOnce TOP bgp ;
SubIncludeOnce TOP ospf ;
SubIncludeOnce TOP pim ;
SubIncludeOnce TOP rip ;
SubIncludeOnce TOP rtrmgr ;
SubIncludeOnce TOP static_routes ;

SubIncludeOnce TOP etc ;
#SubIncludeOnce TOP mibs ;	# XXX NOTYET: uses separate configure script.
