<!-- $XORP: www/scripts/XorpOrgGenerator.py,v 1.12 2005/04/14 10:43:17 mjh Exp $ -->
    <!-- DO NOT EDIT THIS FILE . IT IS GENERATED BY A SCRIPT -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="stylesheet" type="text/css" href="xorp.css">

<title>Operating a Mirror</title>
</head>

<body>

<div id="container">
<div id="header">
<a href="http://www.xorp.org"><img src="images/xorp-logo-medium.jpg" ALT="XORP Logo" border=0></a>
</div> <!-- end of div id="header" -->
<div id="middle">
<div id="navbar">
<dl>
<dt>XORP Project</dt>
<dd ><a href="index.html">Home</a></dd>
<dd ><a href="xorp_vision.html">The XORP Vision</a></dd>
<dd ><a href="roadmap.html">Roadmap</a></dd>
<dd ><a href="news.html">News</a></dd>
</dl>
<dl>
<dt>Getting XORP</dt>
<dd ><a href="livecd.html">Download Live CD</a></dd>
<dd ><a href="downloads.html">Download Code</a></dd>
<dd ><a href="mirrors.html">Mirror Sites</a></dd>
<dd ><a href="http://xorpc.icir.org/cgi-bin/cvsweb.cgi/xorp/">Browse Code</a></dd>
<dd ><a href="status.html">Software Status</a></dd>
</dl>
<dl>
<dt>Documentation</dt>
<dd ><a href="getting_started.html">Getting Started</a></dd>
<dd ><a href="releases/current/docs/user_manual/user_manual.pdf">User Manual (PDF)</a></dd>
<dd ><a href="faq.html">Frequently Asked Questions</a></dd>
<dd ><a href="design_docs.html">Design Documentation</a></dd>
<dd ><a href="papers.html">Papers</a></dd>
<dd ><a href="releases/current/docs/kdoc/html/index.html">API Documentation</a></dd>
<dd ><a href="porting.html">Porting Guide</a></dd>
</dl>
<dl>
<dt>Community</dt>
<dd ><a href="contributing.html">Contributing</a></dd>
<dd  id="selected"><a href="mirror_operation.html">Operating a mirror</a></dd>
<dd ><a href="people.html">Developers</a></dd>
<dd ><a href="cvs.html">Source Repository</a></dd>
<dd ><a href="mailing_lists.html">Mailing Lists</a></dd>
<dd ><a href="http://www.xorp.org/bugzilla/index.cgi">Bug Reporting</a></dd>
</dl>
</div> <!-- end of div id="navbar" -->
<div id="main">
<h1>Operating a Mirror</h1>
<p>
If you would like to run a mirror please send a request to
feedback@xorp.org, with your IP address. We require your IP address to
enable access and to create a wwwNNN.xorp.org DNS entry. We will also
require some information about your organisation for the mirror entry
and how frequently the mirror will be updated.  We strongly recommend
that you join the <a
href="http://mailman.icsi.berkeley.edu/mailman/listinfo/xorp-mirrors/">xorp
mirror mailing list</a>

<p>
Currently 600MB of disk space is required. Each additional release
will require on the order of 200MB (130MB of this is the LiveCD).

<p>
We are running an <a href="http://samba.anu.edu.au/rsync/">anonymous
rsync server</a>. You need to periodically (we suggest hourly) run the
following script (or equivalent).

<pre>
#!/bin/sh

# Pathname of the local mirror directory.
XORP_ROOT=/usr/local/www
XORP_MAIN=$XORP_ROOT/xorp
XORP_RELEASES=$XORP_ROOT/xorp-releases

rsync -a www.xorp.org::xorp $XORP_MAIN
rsync -a www.xorp.org::xorp-releases $XORP_RELEASES
</pre>

<p>
For logistic reasons we maintain two trees, one is auto-generated
(main web pages) the other (release data) is maintained manually. On
our Apache web server we use the "Alias" command to link the release
data into place. The simpler option is to copy both trees to the same
directory, but then the potentially dangerous "--delete" option could
not be used with rsync.

<p>
It would be simplest from our point of view if mirrors are run as <a
href="http://httpd.apache.org/docs/vhosts/">virtual hosts</a>, rather
than as a subtree of an existing server.

<p>
The solution (if you are running an Apache server) is:

<pre>
&lt;VirtualHost {your IP address here}&gt;
    ServerAdmin {your admin email address}
    DocumentRoot /usr/local/www/xorp
    ServerName {your xorp dns name}
    ErrorLog /var/log/www-xorp-error_log
    CustomLog /var/log/www-xorp-access_log common

    Alias /releases "/usr/local/www/xorp-releases"
&lt;/VirtualHost&gt;
</pre> <hr noshade>
<div id="feedback">
<p><em>Document id $XORP: www/scripts/XorpOrgGenerator.py,v 1.12 2005/04/14 10:43:17 mjh Exp $.
<br>Generated on 25/Apr/2005 at 10:37:47.</em>
<em>Feedback, comments, flames to feedback&#64;xorp&#46;org</em>
</div> <!-- end of div id="feedback" -->
</div> <!-- end of div id="main" -->
</div> <!-- end of div id="middle" -->
</div> <!-- end of div id="container" -->

</body>
</html>
