<!-- $XORP: www/scripts/XorpOrgGenerator.py,v 1.18 2008/07/23 03:44:40 atanu Exp $ -->
    <!-- DO NOT EDIT THIS FILE . IT IS GENERATED BY A SCRIPT -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type"/>
<link rel="stylesheet" type="text/css" href="xorp.css"/>

<title>Operating a Mirror</title>
</head>

<body>

<div id="container">
<div id="left">
<a href="http://xorp.org"><img src="images/mad/logo-xorp_org.gif" ALT="XORP Logo" border="0"/></a>
</div> <!-- end of div id="left" -->
<div id="header">
<dl>
<dd ><a href="index.html">Home<span class='separator'>&nbsp;|&nbsp;</span></a></dd>
<dd ><a href="about.html">About</a></dd>
</dl>
<div id="net"><span class="selected">.ORG</span>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="http://xorp.net">.NET</a></div>
<div id="open">eXtensible Open Router Platform</div>
</div> <!-- end of div id="header" -->
<div id="navbar">
<dl>
<dt>Get XORP</dt>
<dd ><a href="livecd.html">Download Live CD</a></dd>
<dd ><a href="downloads.html">Download Code</a></dd>
<dd ><a href="http://cvsweb.xorp.org/cgi-bin/cvsweb.cgi/xorp/">Browse Code</a></dd>
<dd ><a href="mirrors.html">Mirror Sites</a></dd>
<dd ><a href="advisories.html">Security Advisories</a></dd>
</dl>
<dl>
<dt>Documentation</dt>
<dd ><a href="getting_started.html">Getting Started</a></dd>
<dd ><a href="releases/current/docs/user_manual/user_manual.pdf">User Manual (PDF)</a></dd>
<dd ><a href="design_docs.html">Design Documentation</a></dd>
<dd ><a href="releases/current/docs/kdoc/html/index.html">API Documentation</a></dd>
<dd ><a href="porting.html">Porting Guide</a></dd>
<dd ><a href="papers.html">Publications</a></dd>
</dl>
<dl>
<dt>Community</dt>
<dd ><a href="mailing_lists.html">Mailing Lists</a></dd>
<dd ><a href="cvs.html">Source Repository</a></dd>
<dd ><a href="http://bugzilla.xorp.org/bugzilla/index.cgi">Bug Reporting</a></dd>
<dd  id="selected"><a href="mirror_operation.html">Operating a mirror</a></dd>
<dd ><a href="news.html">News</a></dd>
</dl>
</div> <!-- end of div id="navbar" -->
<div id="main">
<h1>Operating a Mirror</h1>
<p>
If you would like to run a mirror please send a request to
feedback@xorp.org, with your IP address. We require your IP address to
enable access and to create a wwwNNN.xorp.org DNS entry. We will also
require some information about your organisation for the mirror entry
and how frequently the mirror will be updated.  We strongly recommend
that you join the <a
href="http://mailman.icsi.berkeley.edu/mailman/listinfo/xorp-mirrors/">xorp
mirror mailing list</a>

<p>
As of August 2006 (XORP Release 1.3) 1.2 GB of disk space is required.
Each additional release (every 3-4 months) will require on the order of
300 MB (110 MB of this is the LiveCD, and 100 MB for the pre-compiled
Windows binary).

<p>
We are running an <a href="http://samba.anu.edu.au/rsync/">anonymous
rsync server</a>. You need to periodically (we suggest hourly) run the
following script (or equivalent).

<pre>
#!/bin/sh

# Pathname of the local mirror directory.
XORP_ROOT=/usr/local/www
XORP_MAIN=$XORP_ROOT/xorp
XORP_RELEASES=$XORP_ROOT/xorp-releases

rsync -a www.xorp.org::xorp $XORP_MAIN
rsync -a www.xorp.org::xorp-releases $XORP_RELEASES
</pre>

<p>
For logistic reasons we maintain two trees, one is auto-generated
(main web pages) the other (release data) is maintained manually. On
our Apache web server we use the "Alias" command to link the release
data into place. The simpler option is to copy both trees to the same
directory, but then the potentially dangerous "--delete" option could
not be used with rsync.

<p>
It would be simplest from our point of view if mirrors are run as <a
href="http://httpd.apache.org/docs/vhosts/">virtual hosts</a>, rather
than as a subtree of an existing server.

<p>
The solution (if you are running an Apache server) is:

<pre>
&lt;VirtualHost {your IP address here}&gt;
    ServerAdmin {your admin email address}
    DocumentRoot /usr/local/www/xorp
    ServerName {your xorp dns name}
    ErrorLog /var/log/www-xorp-error_log
    CustomLog /var/log/www-xorp-access_log common

    Alias /releases "/usr/local/www/xorp-releases"
&lt;/VirtualHost&gt;
</pre>
</div> <!-- end of div id="main" -->
<div id="footer">
&copy; 2008 XORP, Inc. All Rights Reserved
</div> <!-- end of div id="footer" -->
</div> <!-- end of div id="container" -->

</body>
</html>
