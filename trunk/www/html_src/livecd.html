<h1>XORP Live CD</h1>

<P>
The XORP Live CD is a bootable CD for x86 PCs.

<P>
The Live CD serves a number of purposes:
<UL>
<LI> It's an easy way to try out XORP without needing to
compile anything or reformat the disk on your PC.
<LI> It's a quick way to get a relatively secure router on demand.
<LI> It's a great tool for a student lab session, requiring no installation.
</UL>

<!--
<P>FreeBSD boots off the CD into a memory filesystem, and then starts up
XORP directly.  If there is a DOS floppy in the floppy drive, the XORP
configuration file can be taken from the floppy and
used for the router configuration.  If the PC has a hard
disk, that disk will not be modified by running the Live CD.
-->

<P>
This page provides the following information about the XORP Live CD:
<UL>
<LI><a href="#getting">Getting the Live CD</a>
<LI><a href="#running">Running the Live CD</a>
<LI><a href="#firsttime">Starting the Live CD the First Time</a>
<LI><a href="#quirks">Live CD Quirks</a>
</UL>

<a name="getting"></a><h2>Getting the Live CD</h2>

<P>
XORP version: Release-1.3-RC (Release Candidate)
<br>
To appear soon...
<!--
<a href="releases/1.3-RC/LiveCD.iso.gz">Download</a> the Live CD ISO
compressed image (107 MB).
<br>
Or try the nearest <a href="mirrors.html">mirror site</a>.
<br>
MD5 (LiveCD.iso.gz) = d13252b9d118d36dbe2fd59a4ce48ed1
-->

<P>
XORP version: Release-1.2
<br>
<a href="releases/1.2/LiveCD.iso.gz">Download</a> the Live CD ISO compressed
image (89MB).  
<br>
Or try the nearest <a href="mirrors.html">mirror site</a>.
<br>
MD5 (LiveCD.iso.gz) = de2d6445f2f1e6df49543df58ad8640a

<P>
Once you've downloaded the CD image, you will need to burn it using a
CD-R or CD-RW drive.  Some instructions on how to burn CD images
are available:
<UL>
<LI><a href="http://users.owt.com/kstewart/freebsd/iso-images.html">Instructions for Windows</a>.
<LI><a href=http://www-128.ibm.com/developerworks/linux/library/l-cdburn.html">Instructions for Linux</a> using <a href="http://freshmeat.net/projects/cdrecord/">cdrecord</a> (aka cdrtools). cdrtools also works on FreeBSD and can be installed from ports.
<LI><a href="http://www.redantigua.com/burncd.html">Instructions for FreeBSD</a> using burncd.  The <tt>burncd</tt> program comes with FreeBSD and to burn a CD in an an ATAPI CD drive, you can simply run:
<br>
<pre>

burncd -f /dev/acd0c -e data LiveCD.iso fixate

</pre>
</UL>

<a name="running"></a><h2>Running the Live CD</h2>

<p>To boot from the Live CD, your PC needs to have the CD-ROM device
set as the primary boot device.  If this is not already the case, you will need to modify the settings in the BIOS.  The boot order should along the lines of:

<OL>
<LI>CD drive.
<LI>Floppy Disk.
<LI>Hard Disk.
</OL>
The order of the floppy and hard disk are unimportant, just so
long as they're after the CD drive in the boot order.  This is usually
pretty easy to change in the BIOS - you might want to make a note of
the original boot order in case you want to switch it back afterwards.
Typically to change BIOS settings, you hold down Delete or F2
(depending on your PC) just after you restart your PC.
<P>
If you want the router to store any configuration changes you have made
when it is rebooted, you'll also need a floppy disk, but you can try
the Live CD without this.
<P>
Then reboot the PC.  The PC should boot from the CD.  Normally it will
display a low resolution XORP logo for 30 seconds to a minute while
booting completes.  Sorry - there's no progress bar to let you know
anything is happening.
<P>
If you've got a floppy in the floppy drive, and you've done this
before, then the XORP configuration will be copied into the memory
filesystem, along with passwords, sshd keys, etc.  Then the XORP
routing protocols will be started.
<P>
If there's no floppy in the drive, or it doesn't have the files on it
that XORP expects, then a simple interactive script will run to allow
you to configure passwords and decide which network interfaces you
want XORP to use.

<a name="firsttime"></a><h2>Starting XORP the First Time</h2>
<P>
The startup script that runs the first time you run XORP is quite
simple. If there's no floppy in the floppy drive, or it's not
DOS-formatted, you'll be presented with a warning similar to this one:
<P>
<img src="images/livecd/cd1.gif" alt="screenshot1">
<P>
Hit enter, and you'll be given the following choices:
<P>
<img src="images/livecd/cd2.gif" alt="screenshot2">
<P>
Use the cursor keys to move up and down to choose an option, and hit enter.
<P>
If you hadn't got a floppy in the drive, you can add one now, and select 1.
<P>
If your floppy is not DOS formatted, you can reformat it (erasing all the data on it) by selecting 3.
<P>
If you don't have a floppy to hand, you can continue by selecting 2,
but you won't be able to preserve any configuration changes you make
later.

<P>
If you now have a blank writable DOS formatted floppy in the floppy
drive, you'll get the following notice:
<P>
<img src="images/livecd/cd3.gif" alt="screenshot3">
<P>
Hit Enter, and you will be prompted to enter the root password for the
FreeBSD system.  This will allow you to login to the machine as the
superuser to diagnose any problems, or to see how XORP works behind
the scenes.
<P>
Next you will be prompted to enter the password for the "xorp" user
account.  On a normal XORP router, you might have many user accounts
for the different router administrators, but on the Live CD we just
create one user called "xorp".  Please do enter a reasonable password,
as this user will be able to login over the network using the ssh
secure shell and this password.

<P>
Finally you will be prompted as to which network interfaces you wish
XORP to manage.  These interfaces will show up in the default XORP
configuration file, ready to have IP addresses assigned.  The menu
looks like:
<P>
<img src="images/livecd/cd4.gif" alt="screenshot4">
<P>
Typically you will only want XORP to manage Ethernet interfaces and
the loopback interface from the Live CD at this stage, because currently
XORP has no built-in support for dial-up links.  Move up and down using the
cursor keys, and hit space to select or unselect an option (an "X"
implies the option is selected).  When you are finished, hit Tab, to
select the "OK" button, and hit Enter.
<P>
That's it.  XORP will now finish booting.
<P>
Once XORP has finished booting, you will be presented with a login
prompt, and you can login to XORP as the "xorp" user with the password
you have chosen, and interact with the XORP command line interface to
complete the configuration, assign IP addresses, etc.

<a name="quirks"></a><h2>Live CD quirks</h2>
<h3>Saving Config</H3>
<P>
The location of the router configuration file used by XORP can be set
using command line parameters, so different XORP systems might choose
to use a different location for this file.  On the Live CD, the
configuration file is stored in <B>/etc/xorp.cfg</B>
<P>
If you change the router configuration using the XORP shell, and want
to save it, you need to enter the following in configuration mode:
<P>
xorp@LiveCD# <B>save /etc/xorp.cfg</B>
<P>
If you want to preserve the configuration on a floppy, you would
have to explicitly specify a filename on the mounted floppy, or just
copy (by using the <B>cp</B> program within the UNIX prompt) the saved
configuration from the memory filesystem to the floppy.

<!---
XXX: text commented-out because currently the automatic saving to
     a floppy doesn't work (the rtrmgr doesn't support the -s flag anymore).

If you save to any other location, the file will still be preserved on
the floppy, but will not be loaded automatically the next time XORP reboots.
-->


<!--
XXX: Debugging text commented-out because since Release-1.2 the size of
the LiveCD ISO image is too large to fit in a CD, hence the
XORP binaries had to be stripped.

<P>
<H3>Debugging</H3>
<P>
The Live CD includes two versions of the XORP system binaries.  The
normal version is mounted in a memory filesystem in
<B>/usr/local/xorp</B>.  This version has had the debugging systems
stripped so that the binaries are small enough to reside in a memory
filesystem.  This allows them to load quickly, and to run on a PC with
less memory.
<P>
If you need a debugging version, you can <B>umount
/usr/local/xorp</B>.  A second copy of /usr/local/xorp with debugging
binaries resides on the CD, and is revealed when the memory filesystem
is unmounted.  These binaries are rather large, and load slowly, so
don't use them unless you really need them.  Using them rather assumes
you know how XORP works internally, so is beyond the scope of this
tutorial.
-->

<P>
<h3>Interface Naming</h3>
<P>
If you're used to Linux, you may be surprised that FreeBSD names it's
Ethernet interfaces with names like <B>fxp0</B>, <B>fxp1</B>,
<B>dc0</B> and <B>xl3</B>, rather than <B>eth0</B>, <B>eth1</B>, etc.
The advantage is that you can tell exactly what the device driver is
that's being used, and that if you know you have one Intel 10/100 and one
DEC Tulip in the machine, you know they'll be called <B>fxp0</B> and
<B>dc0</B>, no matter which PCI slot they're in.  The disadvantage is
that it's more confusing for beginners who don't want to know this detail.
<P>
Some people get religious about such things.  We don't - this just
reflects the underlying operating system's naming convention.  If you
ran XORP on Linux, you'd see eth0, etc.
