# -*- mode: shell-script -*-
#
# Tinderbox configurations
#
# A configuration consists of a set of configuration name postfixed variables:
#
# 	host_X       = host to run configuration on
# 	home_X       = directory for the tinderbox build and execution
# 	env_X        = environment variable to set when running the tinderbox
#	buildflags_X = flags to pass to GNU Make during build phase
#	sshflags_X   = flags to pass to SSH when login
#
# Configurations must be named in the variable TINDERBOX_CONFIGS in order
# to become part of the tinderbox build.
#

host_fbsd410_gcc295="panther.icir.org"
home_fbsd410_gcc295="tinderbox/gcc295"
env_fbsd410_gcc295="MALLOC_OPTIONS=AJ CONFIGURE_ARGS=--with-snmp"
buildflags_fbsd410_gcc295="-j 2"
sshflags_fbsd410_gcc295="-i ${HOME}/.ssh/tinderbox"

host_fbsd410_gcc33="panther.icir.org"
home_fbsd410_gcc33="tinderbox/gcc33"
env_fbsd410_gcc33="CC=gcc33 CXX=g++33 MALLOC_OPTIONS=AJ"
buildflags_fbsd410_gcc33="-j 2"
sshflags_fbsd410_gcc33="-i ${HOME}/.ssh/tinderbox"

host_fbsd410_gcc34="panther.icir.org"
home_fbsd410_gcc34="tinderbox/gcc34"
env_fbsd410_gcc34="CC=gcc34 CXX=g++34 MALLOC_OPTIONS=AJ"
buildflags_fbsd410_gcc34="-j 2"
sshflags_fbsd410_gcc34="-i ${HOME}/.ssh/tinderbox"

host_fbsd410_gcc34_stldebug="panther.icir.org"
home_fbsd410_gcc34_stldebug="tinderbox/gcc34"
env_fbsd410_gcc34_stldebug="CC=gcc34 CXX=g++34 MALLOC_OPTIONS=AJ CXXFLAGS='-D_GLIBCXX_DEBUG -D_GLIBCXX_DEBUG_PEDANTIC'"
buildflags_fbsd410_gcc34_stldebug="-j 2"
sshflags_fbsd410_gcc34_stldebug="-i ${HOME}/.ssh/tinderbox"

host_linux24_gcc296="koala.icir.org"
home_linux24_gcc296="tinderbox"
env_linux24_gcc296="MALLOC_CHECK_=2"
buildflags_linux24_gcc296="-j 4"
sshflags_linux24_gcc296="-i ${HOME}/.ssh/tinderbox"

host_linux26g_gcc34="xorpv.icir.org"
home_linux26g_gcc34="tinderbox"
env_linux26g_gcc34="MALLOC_CHECK_=2"
buildflags_linux26g_gcc34="-j 2"
sshflags_linux26g_gcc34="-i ${HOME}/.ssh/tinderbox"

host_linux26g_gcc34_opt="xorpv.icir.org"
home_linux26g_gcc34_opt="tinderbox"
env_linux26g_gcc34_opt="CONFIGURE_ARGS='--disable-debug --enable-optimize'"
buildflags_linux26g_gcc34_opt="-j 2"
sshflags_linux26g_gcc34_opt="-i ${HOME}/.ssh/tinderbox"

#host_linux26_gcc33="uakari.cs.ucl.ac.uk"
#home_linux26_gcc33="tinderbox"
#env_linux26_gcc33="MALLOC_CHECK_=2"
#buildflags_linux26_gcc33="-j 2"
#sshflags_linux26_gcc33="-i ${HOME}/.ssh/tinderbox"

#host_fbsd61_gcc344="ibex.cs.ucl.ac.uk"
#home_fbsd61_gcc344="tinderbox"
#env_fbsd61_gcc344="MALLOC_CHECK_=2"
#buildflags_fbsd61_gcc344="-j 2"
#sshflags_fbsd61_gcc344="-i ${HOME}/.ssh/tinderbox"

host_vm_windows2003_gcc34="xorpv-vm.icir.org"
home_vm_windows2003_gcc34="tinderbox"
env_vm_windows2003_gcc34=""
buildflags_vm_windows2003_gcc34="-j 2"
sshflags_vm_windows2003_gcc34="-i ${HOME}/.ssh/tinderbox -p 1128"

host_vm_openbsd39_gcc335="xorpv-vm.icir.org"
home_vm_openbsd39_gcc335="tinderbox"
env_vm_openbsd39_gcc335="CFLAGS=-fno-stack-protector CXXFLAGS=-fno-stack-protector"
buildflags_vm_openbsd39_gcc335="-j 2"
sshflags_vm_openbsd39_gcc335="-i ${HOME}/.ssh/tinderbox -p 49128"

host_vm_netbsd301_gcc333="xorpv-vm.icir.org"
home_vm_netbsd301_gcc333="tinderbox"
env_vm_netbsd301_gcc333=""
buildflags_vm_netbsd301_gcc333="-j 2"
sshflags_vm_netbsd301_gcc333="-i ${HOME}/.ssh/tinderbox -p 49129"

host_vm_dragonflybsd16_gcc345="xorpv-vm.icir.org"
home_vm_dragonflybsd16_gcc345="tinderbox"
env_vm_dragonflybsd16_gcc345=""
buildflags_vm_dragonflybsd16_gcc345="-j 2"
sshflags_vm_dragonflybsd16_gcc345="-i ${HOME}/.ssh/tinderbox -p 49130"

host_vm_freebsd61_gcc344="xorpv-vm.icir.org"
home_vm_freebsd61_gcc344="tinderbox"
env_vm_freebsd61_gcc344=""
buildflags_vm_freebsd61_gcc344="-j 2"
sshflags_vm_freebsd61_gcc344="-i ${HOME}/.ssh/tinderbox -p 49131"

host_vm_fedora6_gcc41="xorpv-vm.icir.org"
home_vm_fedora6_gcc41="tinderbox"
env_vm_fedora6_gcc41=""
buildflags_vm_fedora6_gcc41="-j 2"
sshflags_vm_fedora6_gcc41="-i ${HOME}/.ssh/tinderbox -p 49132"

host_vm_solaris10_gcc343="xorpv-vm.icir.org"
home_vm_solaris10_gcc343="tinderbox"
env_vm_solaris10_gcc343=""
buildflags_vm_solaris10_gcc343="-j 2"
sshflags_vm_solaris10_gcc343="-i ${HOME}/.ssh/tinderbox -p 49133"

host_vm_debian31_gcc33="xorpv-vm.icir.org"
home_vm_debian31_gcc33="tinderbox"
env_vm_debian31_gcc33="CC=gcc-3.3 CXX=g++-3.3"
buildflags_vm_debian31_gcc33="-j 2"
sshflags_vm_debian31_gcc33="-i ${HOME}/.ssh/tinderbox -p 49134"

TINDERBOX_CONFIGS="fbsd410_gcc295 fbsd410_gcc33 fbsd410_gcc34 fbsd410_gcc34_stldebug linux24_gcc296 linux26g_gcc34 linux26g_gcc34_opt vm_windows2003_gcc34 vm_openbsd39_gcc335 vm_netbsd301_gcc333 vm_dragonflybsd16_gcc345 vm_freebsd61_gcc344 vm_fedora6_gcc41 vm_debian31_gcc33"

TINDERBOX_CONFIG_UNUSED="vm_solaris10_gcc343"

#
# Configuration variables for tinderbox
#

SCRIPTSDIR=$(dirname $0)

ROOTDIR=${SCRIPTSDIR}/..
LOGDIR=${ROOTDIR}/log

LOCALHOST=$(hostname)

# Successful build mail address
REPORTOKADDR="Xorp Tinderbox <xorp-tinderbox@xorp.org>"

# Badness Reporting Address
REPORTBADADDR="${REPORTOKADDR}"

# Feedback address
REPLYTOADDR="Xorp TinderBox <xorp-tinderbox@xorp.org>"

# From address
FROMADDR="Xorp TinderBox <xorp-tinderbox@xorp.org>"

# Post command
POST="/usr/local/libexec/nmh/post"

# make and make check timeout and timeout check interval, both in seconds
TIMEOUT=21600
TIMEOUT_CHECK=24
