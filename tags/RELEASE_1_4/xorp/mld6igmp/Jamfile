#
# $XORP$
#

SubDir TOP mld6igmp ;
SubIncludeOnce TOP libcomm ;
SubIncludeOnce TOP libxorp ;
SubIncludeOnce TOP xrl interfaces ;
SubIncludeOnce TOP xrl targets ;
SubIncludeOnce TOP libxipc ;
SubIncludeOnce TOP libproto ;
SubIncludeOnce TOP libfeaclient ;
SubIncludeOnce TOP mrt ;
SubIncludeOnce TOP cli ;
SubIncludeOnce TOP cli libtecla ;
SubIncludeOnce TOP fea ;
SubDir TOP mld6igmp ;

Library libmld6igmp :
	mld6igmp_config.cc mld6igmp_group_record.cc
	mld6igmp_node.cc mld6igmp_node_cli.cc
	mld6igmp_proto.cc mld6igmp_source_record.cc
	mld6igmp_vif.cc xrl_mld6igmp_node.cc
	;

MLD6IGMP_LINKLIBS_COMMON = 
	libmld6igmp
	libfindereventnotifierxif
	libmfeaxif
	libmld6igmpclientxif
	libmld6igmpbase
	libfea
	libfeafibclientxif
	libfeaifmgrclientxif
	libfearawpkt4client
	libfearawpkt6client
	libfeabase
	libfeaifmgrxif
	libclimanagerxif
	libmfeaclientxif
	libmfeabase
	libmrt
	libcli
	libtecla
	libcliprocessorxif
	libclibase
	libproto
	libfinder
	libxipc
	libcomm
	libxorp
	;

Main xorp_igmp : xorp_igmp.cc ;
LinkLibraries xorp_igmp :
	$(MLD6IGMP_LINKLIBS_COMMON)
	;

Main xorp_mld : xorp_mld.cc ;
LinkLibraries xorp_mld :
	$(MLD6IGMP_LINKLIBS_COMMON)
	;

if $(MAKE_CHECK) {
 Main test_mld6igmp : test_mld6igmp.cc ;

 LinkLibraries test_mld6igmp :
	libmld6igmp
	libfindereventnotifierxif
	libmfeaxif
	libmld6igmpclientxif
	libmld6igmpbase
	libfea
	libfeafibclientxif
	libfeaifmgrclientxif
	libfearawpkt4client
	libfearawpkt6client
	libfeabase
	libfeaifmgrclientxif
	libfeaifmgrxif
	libfeaclient
	libfeaifmgrmirrorxif
	libfeaifmgrreplicatorxif
	libfeaifmgrmirrorbase
	libclimanagerxif
	libmfeaclientxif
	libmfeabase
	libmrt
	libcli
	libtecla
	libcliprocessorxif
	libclibase
	libsocket4userxif
	libsocket4xif
	libsocket6userxif
	libsocket6xif
	libsocketserverbase
	libprofileclientxif
	libproto
	libfinder
	libxipc
	libxorp
	libcomm
	;
}

InstallBin $(PREFIX)/mld6igmp : xorp_igmp xorp_mld ;
