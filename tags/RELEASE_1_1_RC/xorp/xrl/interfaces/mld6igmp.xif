/* $XORP: xorp/xrl/interfaces/mld6igmp.xif,v 1.4 2003/12/16 23:35:15 pavlin Exp $ */

/*
 * Multicast Listener Discovery/Internet Group Management Protocol
 * XRL interface.
 */


interface mld6igmp/0.1 {

	/**
	 * Enable/disable/start/stop a MLD6IGMP vif interface.
	 *
	 * @param vif_name the name of the vif to enable/disable/start/stop.
	 * @param enable if true, then enable the vif, otherwise
	 * disable it.
	 */
	enable_vif	? vif_name:txt & enable:bool
	start_vif	? vif_name:txt
	stop_vif	? vif_name:txt

	/**
	 * Enable/disable/start/stop all MLD6IGMP vif interfaces.
	 *
	 * @param enable if true, then enable the vifs, otherwise
	 * disable them.
	 */
	enable_all_vifs	? enable:bool
	start_all_vifs
	stop_all_vifs
	
	/**
	 * Enable/disable/start/stop the MLD6IGMP protocol.
	 *
	 * @param enable if true, then enable the MLD6IGMP protocol, otherwise
	 * disable it.
	 */
	enable_mld6igmp	? enable:bool
	start_mld6igmp
	stop_mld6igmp

	/**
	 * Enable/disable/start/stop the MLD6IGMP CLI access.
	 *
	 * @param enable if true, then enable the MLD6IGMP CLI access,
	 * otherwise disable it.
	 */
	enable_cli	? enable:bool
	start_cli
	stop_cli

	/**
	 * Configure MLD6IGMP interface-related metrics.
	 * 
	 * The 'set_foo' XRLs set the particular values. The 'reset_foo'
	 * XRLs reset the metrics to their default values.
	 *
	 * @param vif_name the name of the vif to configure.
	 * @param proto_version the protocol version.
	 */
	get_vif_proto_version		? vif_name:txt			\
					-> proto_version:u32
	set_vif_proto_version		? vif_name:txt			\
					& proto_version:u32
	reset_vif_proto_version		? vif_name:txt

	/**
	 * Enable/disable the MLD6IGMP trace log for all operations.
	 *
	 * @param enable if true, then enable the trace log, otherwise
	 * disable it.
	 */
	log_trace_all	? enable:bool

	/**
	 * Add/delete a client protocol in the MLD/IGMP protocol.
	 *
	 * @param xrl_sender_name the XRL name of the originator of this XRL.
	 * @param protocol_name the name of the protocol to add/delete.
	 * @param protocol_id the ID of the protocol to add/delete
	 * (both sides must agree on the particular values).
	 * @param vif_name the name of the vif the protocol add/delete to
	 * apply to.
	 * @param vif_index the index of the vif the protocol add/delete to
	 * apply to.
	 *
	 * The added protocol will receive Join/Leave membership information
	 * about same-LAN members for the particular vif.
	 */
	/* TODO: the protocol names have to be globally defined */
	add_protocol4	? xrl_sender_name:txt				\
			& protocol_name:txt & protocol_id:u32		\
			& vif_name:txt & vif_index:u32
	add_protocol6	? xrl_sender_name:txt				\
			& protocol_name:txt & protocol_id:u32		\
			& vif_name:txt & vif_index:u32
	
	delete_protocol4 ? xrl_sender_name:txt				\
			& protocol_name:txt & protocol_id:u32		\
			& vif_name:txt & vif_index:u32
	delete_protocol6 ? xrl_sender_name:txt				\
			& protocol_name:txt & protocol_id:u32		\
			& vif_name:txt & vif_index:u32
}
