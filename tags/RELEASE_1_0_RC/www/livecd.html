<!-- $XORP: www/livecd.html,v 1.7 2004/06/15 02:22:22 atanu Exp $ -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<html>
<HEAD>
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<TITLE>XORP Live CD</TITLE>
</HEAD>
<BODY BGCOLOR="white">
<table border="0" cellspacing="0" cellpadding="8"><tr><td>
<a href="/"><img src="images/xorp-logo-medium.jpg" alt="XORP logo"  border="0"></a>
<h2>XORP Live CD</h2>
<P>
The XORP Live CD is a bootable CD containing the FreeBSD Unix operating
system and the XORP routing code.  It runs on an x86 PC only.
<P>
FreeBSD boots off the CD into a memory filesystem, and then starts up
XORP directly.  If there is a DOS floppy in the floppy drive, the XORP
configuration file can be taken from the floppy and
used for the router configuration.  If the PC has a hard
disk, that disk will not be modified by running the Live CD.
<P>
The Live CD serves a number of purposes:
<UL>
<LI> It's an easy way to try out XORP without needing to
compile anything or reformat the disk on your PC.
<LI> It's a quick way to get a relatively secure router on demand -
you don't need to know anything about FreeBSD.
<LI> It's a great tool for a student lab session, requiring no installation.
</UL>
<P>
This page provides the following information about the XORP Live CD:
<UL>
<LI><a href="#getting">Getting the XORP Live CD</a>
<LI><a href="#running">Running the XORP Live CD</a>
<LI><a href="#firsttime">Starting the LiveCD the First Time</a>
<LI><a href="#quirks">XORP Live CD Quirks</a>
</UL>
<P>
<table border="0" cellpadding="5"  cellspacing="1"
width="100%" bgcolor="#b0b0b0">
<tr><td bgcolor="#b0b0b0">
  <a name="getting"><b>Getting the XORP Live CD</b></a>
</td></tr>
<tr><td bgcolor="#ffffff">
<!--
<B><font color="red">The Live CD is not yet available.  It will be available from this
page when the XORP 1.0 release is made</font></B>.
-->
<P>
The XORP Release Candidate 1.0 <a href="LiveCD.iso.gz">Live CD</a> is
available as an ISO image. You need to download it and burn it onto a
CD.
<P>
Some instructions on how to burn an ISO to a CD-R or CD-RW disk are here:
<UL>
<LI>On <a href="http://users.owt.com/kstewart/freebsd/iso-images.html">Windows</a>
<LI>On <a href="http://www-106.ibm.com/developerworks/linux/library/l-cdburn.html#heading_e">Linux</a> using <a href="http://freshmeat.net/projects/cdrecord/">cdrecord</a> (aka cdrtools).
<LI>cdrtools also works on FreeBSD.  It's in /usr/ports/sysutils/cdrtools.
<LI><a href="http://www.redantigua.com/burncd.html">burncd</a> ships by default with FreeBSD.  To burn an ISO in the file LiveCD.iso to a CD in the default ATAPI CD drive, you simply run:
<br>
<B>burncd -f /dev/acd0c -e data LiveCD.iso fixate</B>
</UL>
</td></tr></table>

<P>
<table border="0" cellpadding="5"  cellspacing="1"
width="100%" bgcolor="#b0b0b0">
<tr><td bgcolor="#b0b0b0">
  <a name="running"><b>Running the XORP Live CD</b></a>
</td></tr>
<tr><td bgcolor="#ffffff">
To run the Live CD may require you to modify your PC's BIOS settings.
In particular, the boot order should be:
<OL>
<LI>CD drive.
<LI>Floppy Disk.
<LI>Hard Disk.
</OL>
Actually it doesn't matter what order the floppy and hard disk are, so
long as they're after the CD drive in the boot order.  This is usually
pretty easy to change in the BIOS - you might want to make a note of
the original boot order in case you want to switch it back afterwards.
Typically to change BIOS settings, you hold down Delete or F2
(depending on your PC) just after you restart your PC.
<P>
If you want the router to store any configuration changes you have made
when it is rebooted, you'll also need a floppy disk, but you can try
the LiveCD without this.
<P>
Then reboot the PC.  The PC should boot from the CD.  Normally it will
display a low resolution XORP logo for 30 seconds to a minute while
booting completes.  Sorry - there's no progress bar to let you know
anything is happening.  
<P>
If you've got a floppy in the floppy drive, and you've done this
before, then the XORP configuration will be copied into the memory
filesystem, along with passwords, sshd keys, etc.  Then the XORP
routing protocols will be started.
<P>
If there's no floppy in the drive, or it doesn't have the files on it
that XORP expects, then a simple interactive script will run to allow
you to configure passwords and decide which network interfaces you
want XORP to use.  
</td></tr></table>

<P>
<table border="0" cellpadding="5"  cellspacing="1"
width="100%" bgcolor="#b0b0b0">
<tr><td bgcolor="#b0b0b0">
  <a name="firsttime"><b>Starting XORP the First Time</b></a>
</td></tr>
<tr><td bgcolor="#ffffff">
<P>
The startup script that runs the first time you run XORP is quite
simple. If there's no floppy in the floppy drive, or it's not
DOS-formatted, you'll be presented with a warning similar to this one:
<P>
<img src="images/livecd/cd1.gif">
<P>
Hit enter, and you'll be given the following choices:
<P>
<img src="images/livecd/cd2.gif">
<P>
Use the cursor keys to move up and down to choose an option, and hit enter.
<P>
If you hadn't got a floppy in the drive, you can add one now, and select 1.
<P>
If your floppy is not DOS formatted, you can reformat it (erasing all the data on it) by selecting 3.
<P>
If you don't have a floppy to hand, you can continue by selecting 2,
but you won't be able to preserve any configuration changes you make
later.
<P>
<hr>
<P>
If you now have a blank writable DOS formatted floppy in the floppy
drive, you'll get the following notice:
<P>
<img src="images/livecd/cd3.gif">
<P>
Hit Enter, and you will be prompted to enter the root password for the
FreeBSD system.  This will allow you to login to the machine as the
superuser to diagnose any problems, or to see how XORP works behind
the scenes.
<P>
Next you will be prompted to enter the password for the "xorp" user
account.  On a normal XORP router, you might have many user accounts
for the different router administrators, but on the LiveCD we just
create one user called "xorp".  Please do enter a reasonable password,
as this user will be able to login over the network using the ssh
secure shell and this password.
<P>
<hr>
<P>
Finally you will be prompted as to which network interfaces you wish
XORP to manage.  These interfaces will show up in the default XORP
configuration file, ready to have IP addresses assigned.  The menu
looks like:
<P>
<img src="images/livecd/cd4.gif">
<P>
Typically you will only want XORP to manage Ethernet interfaces and
the loopback interface from the LiveCD at this stage, because XORP 1.0
has no built-in support for dial-up links.  Move up and down using the
cursor keys, and hit space to select or unselect an option (an "X"
implies the option is selected).  When you are finished, hit Tab, to
select the "OK" button, and hit Enter.
<P>
That's it.  XORP will now finish booting.
<P>
Once XORP has finished booting, you will be presented with a login
prompt, and you can login to XORP as the "xorp" user with the password
you have chosen, and interact with the XORP command line interface to
complete the configuration, assign IP addresses, etc.
</td></tr></table>

<P>
<table border="0" cellpadding="5"  cellspacing="1"
width="100%" bgcolor="#b0b0b0">
<tr><td bgcolor="#b0b0b0">
  <a name="quirks"><b>LiveCD quirks</b></a>
</td></tr>
<tr><td bgcolor="#ffffff">
<h3>Saving Config</H3> 
<P>
The location of the router configuration file used by XORP can be set
using command line parameters, so different XORP systems might choose
to use a different location for this file.  On the XORP LiveCD, the
configuration file is stored in <B>/etc/xorp.cfg</B>
<P>
If you change the router configuration using the XORP shell, and want
to save it, you need to enter the following in configuration mode:
<P>
XORP> <B>save /etc/xorp.cfg</B>
<P>
If you save to any other location, the file will still be preserved on
the floppy, but will not be loaded automatically the next time XORP reboots.
<P>
<H3>Debugging</H3>
<P>
The LiveCD includes two versions of the XORP system binaries.  The
normal version is mounted in a memory filesystem in
<B>/usr/local/xorp</B>.  This version has had the debugging systems
stripped so that the binaries are small enough to reside in a memory
filesystem.  This allows them to load quickly, and to run on a PC with
less memory.
<P>
If you need a debugging version, you can <B>umount
/usr/local/xorp</B>.  A second copy of /usr/local/xorp with debugging
binaries resides on the CD, and is revealed when the memory filesystem
is unmounted.  These binaries are rather large, and load slowly, so
don't use them unless you really need them.  Using them rather assumes
you know how XORP works internally, so is beyond the scope of this
tutorial.
<P>
<h3>Interface Naming</h3>
<P>
If you're used to Linux, you may be surprised that FreeBSD names it's
ethernet interfaces with names like <B>fxp0</B>, <B>fxp1</B>,
<B>dc0</B> and <B>xl3</B>, rather than <B>eth0</B>, <B>eth1</B>, etc.
The advantage is that you can tell exactly what the device driver is
that's being used, and that if you know you have one Intel 10/100 and one
DEC Tulip in the machine, you know they'll be called <B>fxp0</B> and
<B>dc0</B>, no matter which PCI slot they're in.  The disadvantage is
that it's more confusing for beginners who don't want to know this detail.
<P>
Some people get religious about such things.  We don't - this just
reflects the underlying operating system's naming convention.  If you
ran XORP on Linux, you'd see eth0, etc.
</td></tr></table>
</td>
<td valign="top" width="20%">
      <table border="0" cellspacing="0" cellpadding="1"  bgcolor="#b0b0b0" width="100%">
         <tr>
            <td>
            <table border="0" bgcolor="#ffffff" width="100%" cellspacing="0" cellpadding="1">
  	    <tr><td bgcolor="#b0b0b0" colspan="2"><b>Quick&nbsp;Links</b></td></tr>
  	    <tr><td></td>
	      <td><small><a href="index.html">XORP Home</a></small></td></tr>
  	    <tr><td></td>
	      <td><small><a href="news.html">News</a></small></td></tr>
  	    <tr><td></td>
	      <td><small><a href="downloads.html">Downloads</a></small></td></tr>
  	    <tr><td></td>
	      <td><small><a href="cvs.html">Anonymous&nbsp;CVS</a></small></td></tr>
  	    <tr><td></td>
	      <td><small><a href="http://xorpc.icir.org/cgi-bin/cvsweb.cgi/">CVSweb&nbsp;access</a></small></td></tr>
  	    <tr><td></td>
	      <td><small><a href="releases/current/docs/status.html">Software&nbsp;Status</a></small></td></tr>
  	    <tr><td></td>
	      <td bgcolor="#d0d0d0" ><small><a href="docs.html"><B>Documentation</B></a></small></td></tr>
  	    <tr><td></td>
	      <td bgcolor="#d0d0d0" ><small><a href="getting_started.html">Getting&nbsp;Started</a></small></td></tr>
  	    <tr><td width="10" bgcolor="#d00000"></td>
	      <td bgcolor="#d0d0d0" ><small><a href="livecd.html">Live CD</a></small></td></tr>
  	    <tr><td></td>
	      <td bgcolor="#d0d0d0" ><small><a href="releases/current/docs/index.html">Design&nbsp;Docs</a></small></td></tr>
  	    <tr><td></td>
	      <td bgcolor="#d0d0d0" ><small><a href="releases/current/docs/kdoc/html/index.html">Software&nbsp;Docs</a></small></td></tr>
  	    <tr><td></td>
	      <td><small><a href="index.html#mail">Mailing&nbsp;Lists</a></small></td></tr>
  	    <tr><td></td>
	      <td><small><a href="contributing.html">Contributing</a></small></td></tr>
  	    <tr><td></td>
	      <td><small><a href="people.html">People</a></small></td></tr>
            </table>
  	  </td>
          </tr>
      </table>
</td>
</table>

<hr>
<address>feedback&#64;xorp&#46;org</address>
<!-- Created: Tue Dec 10 16:03:16 PST 2002 -->
<!-- hhmts start -->
Last modified: Tue Jun 15 11:07:34 PDT 2004
<!-- hhmts end -->

  </body>
</html>

