%!PS-Adobe-3.0
%%Creator: groff version 1.17.2
%%CreationDate: Wed Jun 26 16:55:20 2002
%%DocumentNeededResources: font Courier-Bold
%%+ font Times-Bold
%%+ font Times-Roman
%%+ font Courier
%%+ font Times-Italic
%%DocumentSuppliedResources: file dfelect.ps
%%+ file upstream.ps
%%+ file downstream.ps
%%+ procset grops 1.17 2
%%Pages: 29
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.17 2
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Courier-Bold
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Roman
%%IncludeResource: font Courier
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Courier@0 ENC0/Courier RE
/Times-Roman@0 ENC0/Times-Roman RE/Times-Bold@0 ENC0/Times-Bold RE
/Courier-Bold@0 ENC0/Courier-Bold RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Courier-Bold@0 SF(Internet Engineering Task Force)72 85 Q(PIM WG)
210 E 240(INTERNET-DRAFT Mark)72 98 R(Handley/ICIR)6 E 144
(draft-ietf-pim-bidir-05.ps Isidor)72 111 R(Kouvelas/Cisco)6 E
(Tony Speakman/Cisco)390 124 Q(Lorenzo Vicisano/Cisco)372 137 Q
(26 June 2002)432 150 Q(Expires: December 2002)372 163 Q/F1 14
/Times-Bold@0 SF(Bi-dir)107.82 188 Q(ectional Pr)-.252 E
(otocol Independent Multicast \(BIDIR-PIM\))-.252 E/F2 11/Times-Bold@0
SF(Status of this Document)72 220 Q/F3 11/Times-Roman@0 SF(This documen\
t is an Internet-Draft and is in full conformance with all pro)72 236.6
Q(visions of Section 10 of)-.165 E(RFC2026.)72 249.6 Q
(Internet-Drafts are w)72 266.2 Q
(orking documents of the Internet Engineering T)-.11 E(ask F)-.88 E
(orce \(IETF\), its areas,)-.165 E(and its w)72 279.2 Q(orking groups.)
-.11 E(Note that other groups may also distrib)5.5 E(ute w)-.22 E
(orking documents as)-.11 E(Internet-Drafts.)72 292.2 Q
(Internet-Drafts are draft documents v)72 308.8 Q
(alid for a maximum of six months and may be updated,)-.275 E
(replaced, or obsoleted by other documents at an)72 321.8 Q 2.75(yt)
-.165 G 2.75(ime. It)-2.75 F(is inappropriate to use Internet-Drafts)
2.75 E(as reference material or to cite them other than as "w)72 334.8 Q
(ork in progress.")-.11 E
(The list of current Internet-Drafts can be accessed at http://www)72
351.4 Q(.ietf.or)-.715 E(g/ietf/1id-abstracts.txt)-.198 E
(The list of Internet-Draft Shado)72 368 Q 2.75(wD)-.275 G
(irectories can be accessed at http://www)-2.75 E(.ietf.or)-.715 E
(g/shado)-.198 E -.715(w.)-.275 G(html.).715 E
(This document is a product of the IETF PIM WG.)72 384.6 Q
(Comments should be addressed to the authors,)5.5 E(or the WG')72 397.6
Q 2.75(sm)-.605 G(ailing list at pim@catarina.usc.edu.)-2.75 E F2
(Abstract)267.534 416.6 Q F3
(This document discusses Bi-directional PIM, a v)97 439.2 Q
(ariant of PIM Sparse-Mode [9] that)-.275 E -.22(bu)97 452.2 S(ilds bi-\
directional shared trees connecting multicast sources and recei).22 E
-.165(ve)-.275 G(rs. Bi-).165 E(directional trees are b)97 465.2 Q
(uilt using a f)-.22 E(ail-safe Designated F)-.11 E(orw)-.165 E
(arder \(DF\) election)-.11 E
(mechanism operating on each link of a multicast topology)97 478.2 Q 5.5
(.W)-.715 G(ith the assistance of the)-5.94 E(DF)97 491.2 Q 2.75(,m)-.88
G(ulticast data is nati)-2.75 E -.165(ve)-.275 G(ly forw).165 E
(arded from sources to the Rendezv)-.11 E(ous-Point and)-.22 E
(hence along the shared tree to recei)97 504.2 Q -.165(ve)-.275 G
(rs without requiring source-speci\214c state.).165 E(The)5.5 E
(DF election tak)97 517.2 Q(es place at RP disco)-.11 E -.165(ve)-.165 G
(ry time and pro).165 E(vides a def)-.165 E(ault route to the RP)-.11 E
(thus eliminating the requirement for data-dri)97 530.2 Q -.165(ve)-.275
G 2.75(np).165 G(rotocol e)-2.75 E -.165(ve)-.275 G(nts.).165 E F2
(Note on BIDIR-PIM status)72 556.2 Q F3(The dif)72 572.8 Q
(ferences between this v)-.275 E
(ersion of the BIDIR-PIM speci\214cation and draft-ietf-pim-bidir)-.165
E(-)-.22 E(ne)72 585.8 Q(w-00.txt are mostly in the format of the infor\
mation presented. As BIDIR-PIM has man)-.275 E(y)-.165 E
(similarities in operation to Sparse-Mode PIM, the earlier v)72 598.8 Q
(ersion of this spec relied hea)-.165 E(vily on the)-.22 E(no)72 611.8 Q
2.75(wo)-.275 G(bsolete PIM-SM [11] speci\214cation. This re)-2.75 E
(vision remo)-.275 E -.165(ve)-.165 G 2.75(st).165 G(his dependenc)-2.75
E 2.75(ya)-.165 G(nd instead)-2.75 E(references the ne)72 624.8 Q 2.75
(wS)-.275 G(parse-Mode documentation [9] where necessary)-2.75 E 2.75
(.I)-.715 G 2.75(na)-2.75 G(ddition the method in)-2.75 E(which the pro\
tocol speci\214cation is presented has been updated to follo)72 637.8 Q
2.75(wt)-.275 G(he format of [9].)-2.75 E(Handle)72 769 Q(y/K)-.165 E
(ouv)-.385 E(elas/Speakman/V)-.165 E 220.91(icisano [P)-.66 F(age 1])
-.165 E EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E/F1 13/Times-Bold@0 SF -1.196
(Ta)239.126 85 S(ble of Contents)1.196 E/F2 10/Times-Roman@0 SF
(1. Introduction)72 123 Q F0 11(.........................)12.31 G F2(3)
11.5 E(2. T)72 135 Q(erminology)-.7 E F0 11(.........................)
10.23 G F2(3)11.5 E(2.1. De\214nitions)82 147 Q F0 11
(........................)13.55 G F2(3)11.5 E(2.2. Pseudocode Notation)
82 159 Q F0 11(......................).23 G F2(4)11.5 E
(3. Protocol Speci\214cation)72 171 Q F0 11(.......................).64
G F2(5)11.5 E(3.1. BIDIR-PIM Protocol State)82 183 Q F0 11
(....................)5.78 G F2(5)11.5 E(3.1.1. General Purpose State)92
195 Q F0 11(....................)6.63 G F2(5)11.5 E(3.1.2. RP State)92
207 Q F0 11(........................)5.77 G F2(6)11.5 E
(3.1.3. Group State)92 219 Q F0 11(.......................)6.2 G F2(6)
11.5 E(3.1.4. State Summarization Macros)92 231 Q F0 11
(..................)6.9 G F2(7)11.5 E(3.2. PIM Neighbor Disco)82 243 Q
-.15(ve)-.15 G(ry).15 E F0 11(....................)11.65 G F2(7)11.5 E
(3.3. Data P)82 255 Q(ack)-.15 E(et F)-.1 E(orw)-.15 E(arding Rules)-.1
E F0 11(...................)4.77 G F2(8)11.5 E
(3.3.1. Source-Only Branches)92 267 Q F0 11(....................)4.69 G
F2(8)11.5 E(3.4. PIM Join/Prune Messages)82 279 Q F0 11
(....................)8.56 G F2(9)11.5 E(3.4.1. Recei)92 291 Q
(ving \(*,G\) Join/Prune Messages)-.25 E F0 11(...............)13.41 G
F2(9)11.5 E(3.4.2. Sending Join/Prune Messages)92 303 Q F0 11
(..................)3.56 G F2(11)6.5 E(3.5. Designated F)82 315 Q(orw)
-.15 E(arder \(DF\) Election)-.1 E F0 11(.................)7.59 G F2(13)
6.5 E(3.5.1. DF Requirements)92 327 Q F0 11(.....................)10.92
G F2(13)6.5 E(3.5.2. DF Election description)92 339 Q F0 11
(...................)13.7 G F2(13)6.5 E(3.5.2.1. Bootstrap Election)102
351 Q F0 11(....................)3.28 G F2(14)6.5 E
(3.5.2.2. Loser Metric Changes)102 363 Q F0 11(...................)2.88
G F2(14)6.5 E(3.5.2.3. W)102 375 Q(inner Metric Changes)-.4 E F0 11
(..................)9.81 G F2(15)6.5 E(3.5.2.4. W)102 387 Q
(inner Loses P)-.4 E(ath)-.15 E F0 11(....................)2.45 G F2(15)
6.5 E(3.5.2.5. Late Router Starting Up)102 399 Q F0 11
(..................)9.12 G F2(15)6.5 E(3.5.2.6. W)102 411 Q(inner Dies)
-.4 E F0 11(......................).08 G F2(15)6.5 E
(3.5.3. Election Protocol Speci\214cation)92 423 Q F0 11
(.................)12.31 G F2(15)6.5 E(3.5.3.1. Election State)102 435 Q
F0 11(.....................)8.42 G F2(16)6.5 E
(3.5.3.2. Election Messages)102 447 Q F0 11(....................)3.29 G
F2(16)6.5 E(3.5.3.3. Election Ev)102 459 Q(ents)-.15 E F0 11
(.....................)1.35 G F2(17)6.5 E(3.5.3.4. Election Notation)102
471 Q F0 11(....................)7.17 G F2(17)6.5 E
(3.5.3.5. Election State T)102 483 Q(ransitions)-.35 E F0 11
(..................)2.52 G F2(17)6.5 E(3.6. T)82 495 Q
(imers and Constants)-.35 E F0 11(.....................)12.38 G F2(20)
6.5 E(3.7. BIDIR PIM P)82 507 Q(ack)-.15 E(et F)-.1 E(ormats)-.15 E F0
11(....................)1.46 G F2(22)6.5 E(3.7.1. DF Election P)92 519 Q
(ack)-.15 E(et F)-.1 E(ormats)-.15 E F0 11(..................)10.35 G F2
(22)6.5 E(3.7.2. Back)92 531 Q(of)-.1 E 2.5(fM)-.25 G(essage)-2.5 E F0
11(.....................)12.4 G F2(23)6.5 E(3.7.3. P)92 543 Q
(ass Message)-.15 E F0 11(......................)12.88 G F2(24)6.5 E
(3.7.4. Bidir Capable PIM-Hello Option)92 555 Q F0 11(.................)
4.81 G F2(24)6.5 E(4. RP Disco)72 567 Q -.15(ve)-.15 G(ry).15 E F0 11
(.........................)6.22 G F2(25)6.5 E
(5. Security Considerations)72 579 Q F0 11(......................)7.17 G
F2(25)6.5 E(5.1. Appendix A: Election Reliability Enhancements)82 591 Q
F0 11(..............)2.18 G F2(25)6.5 E(5.1.1. A.1 Missing P)92 603 Q
(ass)-.15 E F0 11(.....................)12.17 G F2(25)6.5 E
(5.1.2. A.2 Periodic W)92 615 Q(inner Announcement)-.4 E F0 11
(................)4.26 G F2(25)6.5 E
(5.2. Appendix B: Interoperability with le)82 627 Q -.05(ga)-.15 G .3
-.15(cy c).05 H(ode).15 E F0 11(..............)9.49 G F2(26)6.5 E
(5.3. Appendix C: Comparison with PIM-SM)82 639 Q F0 11
(................)6.88 G F2(26)6.5 E(6. T)72 651 Q(odo list...)-.8 E F0
11(..........................)5.46 G F2(27)6.5 E(7. Authors' Addresses)
72 663 Q F0 11(.......................)10.1 G F2(27)6.5 E(8. Ackno)72
675 Q(wledgments)-.25 E F0 11(........................).76 G F2(27)6.5 E
(9. References)72 687 Q F0 11(..........................)3.58 G F2(27)
6.5 E(10. Inde)72 699 Q(x)-.15 E F0 11(...........................)6.63
G F2(29)6.5 E F0(Handle)72 769 Q(y/K)-.165 E(ouv)-.385 E
(elas/Speakman/V)-.165 E 220.91(icisano [P)-.66 F(age 2])-.165 E EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E/F1 11/Times-Bold@0 SF(1.)72 85
Q/F2 14/Times-Bold@0 SF(Intr)5.5 E(oduction)-.252 E F0
(This document speci\214es Bi-directional PIM, a v)72 101.6 Q
(ariant of PIM Sparse-Mode \(PIM-SM\) [9] that)-.275 E -.22(bu)72 114.6
S(ilds bi-directional shared trees connecting multicast sources and rec\
ei).22 E -.165(ve)-.275 G(rs.).165 E
(PIM-SM constructs uni-directional shared trees that are used to forw)72
131.2 Q(ard data from senders to)-.11 E(recei)72 144.2 Q -.165(ve)-.275
G(rs of a multicast group.).165 E(PIM-SM also allo)5.5 E
(ws the construction of source speci\214c trees, b)-.275 E(ut)-.22 E(th\
is capability is not related to the protocol described in this document\
.)72 157.2 Q(The shared tree for each multicast group is rooted at a mu\
lticast router called the Rendezv)72 173.8 Q(ous)-.22 E
(Point \(RP\). Dif)72 186.8 Q(ferent multicast group ranges can use sep\
arate RPs within a PIM domain.)-.275 E
(In unidirectional PIM-SM, there are tw)72 203.4 Q 2.75(op)-.11 G
(ossible methods for distrib)-2.75 E(uting data pack)-.22 E(ets on the)
-.11 E(shared tree. These dif)72 216.4 Q(fer in the w)-.275 E(ay pack)
-.11 E(ets are forw)-.11 E(arded from a source to the RP:)-.11 E 7.15
<8349>72 233 S(nitially when a source starts transmitting, its \214rst \
hop router encapsulates data pack)-7.15 E(ets in)-.11 E
(special control messages \(Re)83 246 Q
(gisters\) which are unicast to the RP)-.165 E 2.75(.A)-1.221 G
(fter reaching the RP the)-2.75 E(pack)83 259 Q
(ets are decapsulated and distrib)-.11 E(uted on the shared tree.)-.22 E
7.15<8341>72 275.6 S(transition from the abo)-4.4 E .33 -.165(ve d)-.165
H(istrib).165 E(ution mode can be made at a later stage.)-.22 E
(This is achie)5.5 E -.165(ve)-.275 G 2.75(db).165 G(y)-2.75 E -.22(bu)
83 288.6 S(ilding source speci\214c state on all routers along the path\
 between the source and the RP).22 E 5.5(.T)-1.221 G(his)-5.5 E
(state is then used to nati)83 301.6 Q -.165(ve)-.275 G(ly forw).165 E
(ard pack)-.11 E(ets from that source.)-.11 E(Both these mechanisms suf)
72 318.2 Q
(fer from problems. Encapsulation results in signi\214cant processing,)
-.275 E(bandwidth and delay o)72 331.2 Q -.165(ve)-.165 G(rheads. F).165
E(orw)-.165 E
(arding using source speci\214c state has additional protocol)-.11 E
(and memory requirements.)72 344.2 Q(Bi-directional PIM dispenses with \
both encapsulation and source state by allo)72 360.8 Q(wing pack)-.275 E
(ets to be)-.11 E(nati)72 373.8 Q -.165(ve)-.275 G(ly forw).165 E
(arded from a source to the RP using shared tree state. F)-.11 E
(or a complete discussion of)-.165 E
(the pros and cons of Bi-directional PIM consult appendix C.)72 386.8 Q
F1(2.)72 416.4 Q F2 -1.288(Te)5.5 G(rminology)1.288 E F0
(In this document, the k)72 433 Q .33 -.165(ey w)-.11 H
(ords "MUST", "MUST NO).055 E(T", "REQ)-.44 E(UIRED", "SHALL", "SHALL)
-.11 E(NO)72 446 Q(T", "SHOULD", "SHOULD NO)-.44 E
(T", "RECOMMENDED", "MA)-.44 E(Y", and "OPTION)-1.155 E(AL" are to)-.385
E(be interpreted as described in RFC 2119 and indicate requirement le)72
459 Q -.165(ve)-.275 G(ls for compliant PIM-SM).165 E(implementations.)
72 472 Q F1(2.1.)72 498 Q/F3 13/Times-Bold@0 SF(De\214nitions)5.5 E F0(\
This speci\214cation uses a number of terms to refer to the roles of ro\
uters participating in BIDIR-)72 514.6 Q 2.75(PIM. The)72 527.6 R(follo)
2.75 E(wing terms ha)-.275 E .33 -.165(ve s)-.22 H
(pecial signi\214cance for BIDIR-PIM:).165 E(MRIB)72 544.2 Q
(Multicast Routing Information Base.)105 557.2 Q
(This is the multicast topology table, which is)5.5 E(typically deri)105
570.2 Q -.165(ve)-.275 G 2.75(df).165 G
(rom the unicast routing table, or routing protocols such as MBGP that)
-2.75 E(carry multicast-speci\214c topology information. It is used by \
PIM for establishing the RPF)105 583.2 Q(interf)105 596.2 Q
(ace \(used in the forw)-.11 E
(arding rules\). In PIM-SM the MRIB is also used to mak)-.11 E(e)-.11 E
(decisions re)105 609.2 Q -.055(ga)-.165 G(rding where to forw).055 E
(ard Join/Prune messages whereas in BIDIR-PIM it is)-.11 E
(used as a source for routing metrics for the DF election process.)105
622.2 Q(Rendezv)72 638.8 Q(ous Point \(RP\):)-.22 E(An RP is a router t\
hat has been con\214gured to be used as the root of the distrib)105
651.8 Q(ution tree for)-.22 E 2.75(ar)105 664.8 S
(ange of multicast groups. Join messages from recei)-2.75 E -.165(ve)
-.275 G(rs for a group are sent to).165 E -.11(wa)-.275 G(rds the).11 E
(RP)105 677.8 Q(.)-1.221 E(Upstream)72 694.4 Q -1.265 -.88(To w)105
707.4 T(ards the root \(Rendezv).77 E
(ous-Point\) of the tree. The direction used by pack)-.22 E(ets tra)-.11
E -.165(ve)-.22 G(ling).165 E(from sources to the RP)105 720.4 Q(.)
-1.221 E(Handle)72 769 Q(y/K)-.165 E(ouv)-.385 E(elas/Speakman/V)-.165 E
163.16(icisano Section)-.66 F 2.75(2.1. [P)2.75 F(age 3])-.165 E EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E(Do)72 85 Q(wnstream)-.275 E
-.836 -1.012(Aw a)105 98 T 2.75(yf)1.012 G
(rom the root of the tree. The direction on which pack)-2.75 E(ets tra)
-.11 E -.165(ve)-.22 G 2.75(lf).165 G(rom the RP to)-2.75 E(recei)105
111 Q -.165(ve)-.275 G(rs.).165 E(Designated F)72 127.6 Q(orw)-.165 E
(arder \(DF\):)-.11 E(The protocol presented in this document is lar)105
140.6 Q(gely based on the concept of a Designated)-.198 E -.165(Fo)105
153.6 S(rw).165 E(arder \(DF\). A single DF e)-.11 E
(xists for each RP on e)-.165 E -.165(ve)-.275 G
(ry link within a BIDIR-PIM).165 E(domain \(this includes both multi-ac\
cess and point-to-point links\). The DF is the router on)105 166.6 Q
(the link with the best unicast route to the RP)105 179.6 Q 5.5(.A)
-1.221 G(DF for a gi)-2.75 E -.165(ve)-.275 G 2.75(nR).165 G 2.75(Pi)
-2.75 G 2.75(si)-2.75 G 2.75(nc)-2.75 G(har)-2.75 E(ge of)-.198 E(forw)
105 192.6 Q(arding do)-.11 E(wnstream traf)-.275 E
(\214c onto the link, and forw)-.275 E(arding upstream traf)-.11 E
(\214c from the link)-.275 E(to)105 205.6 Q -.11(wa)-.275 G(rds the RP)
.11 E 5.5(.I)-1.221 G 2.75(td)-5.5 G
(oes this for all the bi-directional groups serv)-2.75 E(ed by the RP)
-.165 E 2.75(.T)-1.221 G(he DF on)-2.75 E 2.75(al)105 218.6 S(ink is al\
so responsible for interpreting IGMP information from local recei)-2.75
E -.165(ve)-.275 G(rs and).165 E
(processing Join messages from other routers on the link.)105 231.6 Q
(RPF Interf)72 248.2 Q(ace)-.11 E(RPF stands for "Re)105 261.2 Q -.165
(ve)-.275 G(rse P).165 E(ath F)-.165 E(orw)-.165 E 2.75(arding". The)
-.11 F(RPF Interf)2.75 E(ace of a router with respect to)-.11 E
(an address is the interf)105 274.2 Q
(ace that the MRIB indicates should be used to forw)-.11 E(ard pack)-.11
E(ets to)-.11 E(that address.)105 287.2 Q
(In the case of a BIDIR-PIM multicast group, the RPF interf)5.5 E
(ace is the)-.11 E(interf)105 300.2 Q(ace that w)-.11 E
(ould be used to send pack)-.11 E(ets to the RP for the group.)-.11 E
(RPF Neighbor)72 316.8 Q(The RPF Neighbor of a router with respect to a\
n address is the neighbor that the MRIB)105 329.8 Q
(indicates should be used to forw)105 342.8 Q(ard pack)-.11 E
(ets to that address. Note that in BIDIR-PIM, the)-.11 E(RPF neighbor f\
or a group is not necessarily the router on the RPF interf)105 355.8 Q
(ace that Join)-.11 E(messages for that group w)105 368.8 Q
(ould be directed to \(Join messages are directed to the DF on the)-.11
E(RPF interf)105 381.8 Q(ace for the group\).)-.11 E 12.529(TIB T)72
398.4 R(ree Information Base.)-.385 E
(This is the collection of state at a PIM router that has been created)
5.5 E(by recei)105 411.4 Q(ving PIM Join/Prune messages, PIM DF electio\
n messages and IGMP information)-.275 E(from local hosts.)105 424.4 Q
(It essentially stores the state of all multicast distrib)5.5 E
(ution trees at that)-.22 E(router)105 437.4 Q(.)-.605 E 3.355
(MFIB Multicast)72 454 R -.165(Fo)2.75 G(rw).165 E
(arding Information Base.)-.11 E
(The TIB holds all the state that is necessary to)5.5 E(forw)105 467 Q
(ard multicast pack)-.11 E(ets at a router)-.11 E 5.5(.H)-.605 G -.275
(ow)-5.5 G -2.365 -.275(ev e).275 H .88 -.44(r, a).275 H
(lthough this speci\214cation de\214nes).44 E(forw)105 480 Q
(arding in terms of the TIB, to actually forw)-.11 E(ard pack)-.11 E
(ets using the TIB is v)-.11 E(ery)-.165 E(inef)105 493 Q 2.75
(\214cient. Instead)-.275 F 2.75(ar)2.75 G
(eal router implementation will normally b)-2.75 E(uild an ef)-.22 E
(\214cient MFIB)-.275 E(from the TIB state to perform forw)105 506 Q
2.75(arding. Ho)-.11 F 2.75(wt)-.275 G
(his is done is implementation-speci\214c,)-2.75 E
(and is not discussed in this document.)105 519 Q/F1 11/Times-Bold@0 SF
(2.2.)72 548.6 Q/F2 13/Times-Bold@0 SF(Pseudocode Notation)5.5 E F0 1.76
-.88(We u)72 565.2 T(se set notation in se).88 E -.165(ve)-.275 G
(ral places in this speci\214cation.).165 E/F3 11/Courier@0 SF 6.6(A\()
72 581.8 S(+\) B)-6.6 E F0(is the union of tw)94 594.8 Q 2.75(os)-.11 G
(ets A and B.)-2.75 E F3 6.6(A\()72 611.4 S(-\) B)-6.6 E F0
(is the elements of set A that are not in set B.)94 624.4 Q F3(NULL)72
641 Q F0(is the empty set or list.)94 654 Q(In addition we use C-lik)72
670.6 Q 2.75(es)-.11 G(yntax:)-2.75 E 15.796(=d)72 687.2 S
(enotes assignment of a v)-15.796 E(ariable.)-.275 E 6.842(== denotes)72
703.8 R 2.75(ac)2.75 G(omparison for equality)-2.75 E(.)-.715 E(Handle)
72 769 Q(y/K)-.165 E(ouv)-.385 E(elas/Speakman/V)-.165 E 163.16
(icisano Section)-.66 F 2.75(2.2. [P)2.75 F(age 4])-.165 E EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E 9.383(!= denotes)72 85 R 2.75
(ac)2.75 G(omparison for inequality)-2.75 E(.)-.715 E
(Braces { and } are used for grouping.)72 101.6 Q/F1 11/Times-Bold@0 SF
(3.)72 140.6 Q/F2 14/Times-Bold@0 SF(Pr)5.5 E(otocol Speci\214cation)
-.252 E F0(The speci\214cation of BIDIR-PIM is brok)72 157.2 Q
(en into se)-.11 E -.165(ve)-.275 G(ral parts:).165 E 7.15<8353>72 173.8
S(ection 3.1 details the protocol state stored.)-7.15 E 7.15<8353>72
190.4 S(ection 3.3 speci\214es the data pack)-7.15 E(et forw)-.11 E
(arding rules.)-.11 E 7.15<8353>72 207 S(ection 3.4 speci\214es the BID\
IR-PIM Join/Prune generation and processing rules.)-7.15 E 7.15<8344>72
223.6 S(esignated F)-7.15 E(orw)-.165 E
(arder \(DF\) election is speci\214ed in Section 3.5.)-.11 E 7.15<8350>
72 240.2 S(IM pack)-7.15 E(et formats are speci\214ed in Section 3.7.)
-.11 E 7.15<8341>72 256.8 S(summary of BIDIR-PIM timers and their def)
-4.4 E(ault v)-.11 E(alues is gi)-.275 E -.165(ve)-.275 G 2.75(ni).165 G
2.75(nS)-2.75 G(ection 3.6.)-2.75 E F1(3.1.)72 286.4 Q/F3 13
/Times-Bold@0 SF(BIDIR-PIM Pr)5.5 E(otocol State)-.234 E F0(This sectio\
n speci\214es all the protocol state that a BIDIR-PIM implementation sh\
ould maintain in)72 303 Q(order to function correctly)72 316 Q 5.5(.W)
-.715 G 2.75(et)-6.38 G(erm this state the)-2.75 E/F4 11/Times-Italic@0
SF -1.947 -.605(Tr e)2.75 H 2.75(eI).605 G(nformation Base)-2.75 E F0
(or TIB, as it holds the)2.75 E(state of all the multicast distrib)72
329 Q(ution trees at this router)-.22 E 5.5(.I)-.605 G 2.75(nt)-5.5 G
(his speci\214cation we de\214ne PIM)-2.75 E
(mechanisms in terms of the TIB.)72 342 Q(Ho)5.5 E(we)-.275 E -.165(ve)
-.275 G .88 -.44(r, o).165 H(nly a v).44 E(ery simple implementation w)
-.165 E(ould actually)-.11 E(implement pack)72 355 Q(et forw)-.11 E
(arding operations in terms of this state.)-.11 E
(Most implementations will use)5.5 E(this state to b)72 368 Q
(uild a multicast forw)-.22 E(arding table, which w)-.11 E
(ould then be updated when the rele)-.11 E -.275(va)-.275 G(nt).275 E
(state in the TIB changes.)72 381 Q
(Although we specify precisely the state to be k)72 397.6 Q
(ept, this does not mean that an implementation of)-.11 E
(PIM-SM needs to hold the state in this form.)72 410.6 Q
(This is actually an abstract state de\214nition, which is)5.5 E
(needed in order to specify the router')72 423.6 Q 2.75(sb)-.605 G(eha)
-2.75 E(vior)-.22 E 5.5(.A)-.605 G
(BIDIR-PIM implementation is free to hold)-2.75 E(whate)72 436.6 Q -.165
(ve)-.275 G 2.75(ri).165 G(nternal state it requires, and will still be\
 conformant with this speci\214cation so long as it)-2.75 E
(results in the same e)72 449.6 Q(xternally visible protocol beha)-.165
E(vior as an abstract router that holds the)-.22 E(follo)72 462.6 Q
(wing state.)-.275 E 1.76 -.88(We d)72 479.2 T -.275(iv).88 G
(ide TIB state into tw).275 E 2.75(os)-.11 G(ections:)-2.75 E(RP state)
72 495.8 Q(State that maintains the DF election information for each RP)
97 508.8 Q(.)-1.221 E(Group state)72 525.4 Q(State that maintains a gro\
up-speci\214c tree for groups that map to a gi)97 538.4 Q -.165(ve)-.275
G 2.75(nR).165 G -1.221(P.)-2.75 G(The state that should be k)72 555 Q
(ept is described belo)-.11 E 4.18 -.715(w. O)-.275 H 2.75(fc).715 G
(ourse, implementations will only maintain)-2.75 E
(state when it is rele)72 568 Q -.275(va)-.275 G(nt to forw).275 E
(arding operations - for e)-.11 E(xample, the "NoInfo" state might be)
-.165 E(assumed from the lack of other state information, rather than b\
eing held e)72 581 Q(xplicitly)-.165 E(.)-.715 E F1 2.75(3.1.1. General)
72 607 R(Pur)2.75 E(pose State)-.11 E F0 2.75(Ar)72 623.6 S
(outer holds the follo)-2.75 E
(wing state that is not speci\214c to a RP or group:)-.275 E F1
(Neighbor State:)97 640.2 Q F0 -.165(Fo)122 656.8 S 2.75(re).165 G
(ach neighbor:)-2.75 E 7.15<8349>147 673.4 S(nformation from neighbor')
-7.15 E 2.75(sH)-.605 G(ello)-2.75 E 7.15<834e>147 690 S(eighbor')-7.15
E 2.75(sG)-.605 G(en ID.)-2.75 E 7.15<834e>147 706.6 S(eighbor li)-7.15
E -.165(ve)-.275 G(ness timer \(NL).165 E(T\))-1.012 E(Handle)72 769 Q
(y/K)-.165 E(ouv)-.385 E(elas/Speakman/V)-.165 E 154.91(icisano Section)
-.66 F 2.75(3.1.1. [P)2.75 F(age 5])-.165 E EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E/F1 11/Times-Bold@0 SF 2.75
(3.1.2. RP)72 85 R(State)2.75 E F0 2.75(Ar)72 101.6 S
(outer maintains a multicast-group to RP mapping which is b)-2.75 E
(uilt through static con\214guration or)-.22 E
(by using an automatic RP disco)72 114.6 Q -.165(ve)-.165 G
(ry mechanism lik).165 E 2.75(eB)-.11 G(SR or A)-2.75 E(UT)-.605 E
(O-RP \(see section 4 \). F)-.198 E(or each)-.165 E
(BIDIR-PIM RP a router holds the follo)72 127.6 Q(wing state:)-.275 E
7.15<8352>97 144.2 S 2.75(Pa)-7.15 G(ddress)-2.75 E F1(Designated F)97
160.8 Q(orwarder \(DF\) State:)-.275 E F0 -.165(Fo)133 177.4 S 2.75(re)
.165 G(ach router interf)-2.75 E(ace:)-.11 E F1(Acting DF inf)133 194 Q
(ormation:)-.275 E F0 7.15<8344>158 210.6 S 2.75(FI)-7.15 G 2.75(PA)
-2.75 G(ddress)-2.75 E 7.15<8344>158 227.2 S 2.75(Fm)-7.15 G(etric)-2.75
E F1(Election inf)133 243.8 Q(ormation:)-.275 E F0 7.15<8345>158 260.4 S
(lection State)-7.15 E 7.15<8344>158 277 S 2.75(FE)-7.15 G(lection-T)
-2.75 E(imer \(DFT\))-.385 E 7.15<834f>158 293.6 S -.275(ff)-7.15 G(er)
.275 E(-Count \(OC\))-.22 E(Current best of)169 310.2 Q(fer:)-.275 E
7.15<8349>169 326.8 S 2.75(Pa)-7.15 G(ddress of best of)-2.75 E
(fering router)-.275 E 7.15<8342>169 343.4 S(est of)-7.15 E
(fering router metric)-.275 E(Designated F)72 360 Q(orw)-.165 E
(arder state is described in section 3.5.)-.11 E F1 2.75(3.1.3. Gr)72
389.6 R(oup State)-.198 E F0 -.165(Fo)72 406.2 S 2.75(re).165 G -.165
(ve)-3.025 G(ry group G a router k).165 E(eeps the follo)-.11 E
(wing state:)-.275 E(Group state:)122 422.8 Q -.165(Fo)147 439.4 S 2.75
(re).165 G(ach interf)-2.75 E(ace:)-.11 E F1(Local Membership:)147 456 Q
F0 7.15<8353>172 472.6 S(tate: One of {"NoInfo", "Include"})-7.15 E F1
(PIM J)147 489.2 Q(oin/Prune State:)-.165 E F0 7.15<8353>172 505.8 S
(tate: One of {"NoInfo" \(NI\), "Join" \(J\), "PrunePending" \(PP\)})
-7.15 E 7.15<8350>172 522.4 S(rune Pending T)-7.15 E(imer \(PPT\))-.385
E 7.15<834a>172 539 S(oin/Prune Expiry T)-7.15 E(imer \(ET\))-.385 E
(Not interf)122 555.6 Q(ace speci\214c:)-.11 E 7.15<8355>147 572.2 S
(pstream Join/Prune T)-7.15 E(imer \(JT\))-.385 E 7.15<834c>147 588.8 S
(ast RP Used)-7.15 E(Local membership is the result of the local member\
ship mechanism \(such as IGMP\) running on)72 605.4 Q(that interf)72
618.4 Q(ace. This information is used by the)-.11 E/F2 11/Courier@0 SF
(pim_include\(*,G\))2.75 E F0(macro described in section)2.75 E(3.1.4.)
72 631.4 Q(PIM Join/Prune state is the result of recei)72 648 Q
(ving PIM \(*,G\) Join/Prune messages on this interf)-.275 E(ace,)-.11 E
(and is speci\214ed in section 3.4.1. The state is used by the macros t\
hat calculate the outgoing)72 661 Q(interf)72 674 Q
(ace list in section 3.1.4, and in the)-.11 E F2(JoinDesired\(G\))2.75 E
F0(macro \(de\214ned in section 3.4.2\) that)2.75 E
(is used in deciding whether a Join\(*,G\) should be sent upstream.)72
687 Q(The upstream Join/Prune timer is used to send out periodic Join\(\
*,G\) messages, and to o)72 703.6 Q -.165(ve)-.165 G(rride).165 E
(Prune\(*,G\) messages from peers on an upstream LAN interf)72 716.6 Q
(ace.)-.11 E(Handle)72 769 Q(y/K)-.165 E(ouv)-.385 E(elas/Speakman/V)
-.165 E 154.91(icisano Section)-.66 F 2.75(3.1.3. [P)2.75 F(age 6])-.165
E EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E(The last RP used must be stor\
ed because if the RP Set changes [9] then state must be torn do)72 85 Q
(wn)-.275 E(and reb)72 98 Q(uilt for groups whose RP changes.)-.22 E/F1
11/Times-Bold@0 SF 2.75(3.1.4. State)72 140.6 R(Summarization Macr)2.75
E(os)-.198 E F0(Using this state, we de\214ne the follo)72 157.2 Q
(wing "macro" de\214nitions which we will use in the descriptions)-.275
E(of the state machines and pseudocode in the follo)72 170.2 Q
(wing sections.)-.275 E/F2 11/Courier@0 SF(olist\(G\) =)72 199.8 Q
(RPF_interface\(RP\(G\)\) \(+\) joins\(G\) \(+\) pim_include\(G\))98.4
212.8 Q(RPF_interface\(RP\))72 242.4 Q F0(is the interf)2.75 E
(ace the MRIB indicates w)-.11 E(ould be used to route pack)-.11 E
(ets to)-.11 E(RP)72 255.4 Q 2.75(.T)-1.221 G
(he olist\(G\) is the list of interf)-2.75 E(aces on which pack)-.11 E
(ets to group G must be forw)-.11 E(arded.)-.11 E
(The macro pim_include\(G\) indicates the interf)72 272 Q
(aces to which traf)-.11 E(\214c might be forw)-.275 E(arded because)
-.11 E(of hosts that are local members on that interf)72 285 Q(ace.)-.11
E F2(pim_include\(G\) =)72 314.6 Q 6.6({a)98.4 327.6 S
(ll interfaces I such that:)-6.6 E(I_am_DF\(RP\(G\),I\) AND)111.6 340.6
Q(local_receiver_include\(G,I\) })13.2 E F0(The clause "I_am_DF\(RP)72
370.2 Q(,I\)" is TR)-1.221 E(UE if the router is in the)-.44 E F2(Win)
2.75 E F0(or)2.75 E F2(Backoff)2.75 E F0(states in the DF)2.75 E
(election state machine for interf)72 383.2 Q
(ace I \(described in section 3.5 \).)-.11 E(Otherwise it is F)5.5 E
(ALSE.)-.814 E(The clause "local_recei)72 399.8 Q -.165(ve)-.275 G
(r_include\(G,I\)" is true if the IGMP module or other local membership)
.165 E(mechanism has determined that there are local members on interf)
72 412.8 Q(ace I that desire to recei)-.11 E .33 -.165(ve t)-.275 H(raf)
.165 E<8c63>-.275 E(sent to group G.)72 425.8 Q
(The set "joins\(G\)" is the set of all interf)72 442.4 Q
(aces on which the router has recei)-.11 E -.165(ve)-.275 G 2.75(d\()
.165 G(*,G\) Joins:)-2.75 E F2(joins\(G\) =)72 459 Q 6.6({a)98.4 472 S
(ll interfaces I such that)-6.6 E(I_am_DF\(RP\(G\),I\) AND)111.6 485 Q
(DownstreamJPState\(G,I\) is either Joined or PrunePending })111.6 498 Q
F0(Do)72 514.6 Q(wnstreamJPState\(G,I\) is the state of the \214nite st\
ate machine in section 3.4.1.)-.275 E F2(RPF_DF\(RP\))72 531.2 Q F0(is \
the neighbor that Join messages must be sent to in order to reach the R\
P)2.75 E 2.75(.T)-1.221 G(his is)-2.75 E(the Designated-F)72 544.2 Q
(orw)-.165 E(arder on the)-.11 E F2(RPF_interface\(RP\))2.75 E F0(.)A F1
(3.2.)72 570.2 Q/F3 13/Times-Bold@0 SF(PIM Neighbor Disco)5.5 E -.13(ve)
-.13 G(ry).13 E F0(PIM routers e)72 586.8 Q(xchange PIM-Hello messages \
with their neighboring PIM routers. These messages)-.165 E
(are used to update the)72 599.8 Q F2(Neighbor State)2.75 E F0
(described in section 3.1. The procedures for)2.75 E
(generating and processing recei)72 612.8 Q -.165(ve)-.275 G 2.75(dH)
.165 G(ello messages as well as maintaining)-2.75 E F2(Neighbor State)
2.75 E F0(are speci\214ed in the PIM-SM [9] documentation.)72 625.8 Q(B\
idir PIM introduces the Bidir_Capable PIM-Hello option that MUST be inc\
luded in all Hello)72 642.4 Q(messages from a Bidir)72 655.4 Q
(-PIM capable router)-.22 E 5.5(.T)-.605 G(he Bidir_Capable option adv)
-5.5 E(ertises the router')-.165 E(s)-.605 E
(ability to participate in the Bidir)72 668.4 Q
(-PIM protocol. The format of the Bidir_Capable option is)-.22 E
(described in section 3.7.)72 681.4 Q(Handle)72 769 Q(y/K)-.165 E(ouv)
-.385 E(elas/Speakman/V)-.165 E 163.16(icisano Section)-.66 F 2.75
(3.2. [P)2.75 F(age 7])-.165 E EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E/F1 11/Times-Bold@0 SF(3.3.)72
85 Q/F2 13/Times-Bold@0 SF(Data P)5.5 E(ack)-.13 E(et F)-.13 E
(orwarding Rules)-.325 E F0 -.165(Fo)72 101.6 S 2.75(rg).165 G
(roups mapping to a gi)-2.75 E -.165(ve)-.275 G 2.75(nR).165 G 2.442
-1.221(P, t)-2.75 H(he follo)1.221 E
(wing responsibilities are uniquely assigned to the DF)-.275 E
(for that RP on each link:)72 114.6 Q 7.15<8354>72 131.2 S
(he DF is the only router that forw)-7.15 E(ards pack)-.11 E(ets tra)
-.11 E -.165(ve)-.22 G(ling do).165 E(wnstream onto the link.)-.275 E
7.15<8354>72 147.8 S
(he DF is the only router that picks-up upstream tra)-7.15 E -.165(ve)
-.22 G(ling pack).165 E(ets of)-.11 E 2.75(ft)-.275 G(he link to forw)
-2.75 E(ard)-.11 E(to)83 160.8 Q -.11(wa)-.275 G(rds the RP).11 E(.)
-1.221 E
(Non-DF routers on a link, that use that link as their RPF interf)72
177.4 Q(ace to reach the RP)-.11 E 2.75(,m)-1.221 G(ay perform)-2.75 E
(the follo)72 190.4 Q(wing forw)-.275 E
(arding actions for bidirectional groups:)-.11 E 7.15<8346>72 207 S(orw)
-7.315 E(ard pack)-.11 E(ets from the link to)-.11 E -.11(wa)-.275 G
(rds do).11 E(wnstream recei)-.275 E -.165(ve)-.275 G(rs.).165 E 7.15
<8346>72 223.6 S(orw)-7.315 E(ard pack)-.11 E(ets from do)-.11 E
(wnstream sources onto the link \(pro)-.275 E(vided the)-.165 E 2.75(ya)
-.165 G(re the DF for the)-2.75 E(do)83 236.6 Q
(wnstream link from which the pack)-.275 E(et w)-.11 E(as pick)-.11 E
(ed-up\).)-.11 E(The BIDIR-PIM pack)72 253.2 Q(et forw)-.11 E
(arding rules are de\214ned belo)-.11 E 2.75(wi)-.275 G 2.75(np)-2.75 G
(seudocode.)-2.75 E/F3 11/Courier@0 SF(iif)97 269.8 Q F0
(is the incoming interf)2.75 E(ace of the pack)-.11 E(et.)-.11 E F3(G)97
282.8 Q F0(is the destination address of the pack)2.75 E
(et \(group address\).)-.11 E F3(RP)97 295.8 Q F0
(is the address of the Rendezv)2.75 E(ous Point for this group.)-.22 E
(First we check to see whether the pack)72 312.4 Q
(et should be accepted based on TIB state and the interf)-.11 E(ace)-.11
E(that the pack)72 325.4 Q(et arri)-.11 E -.165(ve)-.275 G 2.75(do).165
G(n. A pack)-2.75 E(et is accepted if it arri)-.11 E -.165(ve)-.275 G
2.75(so).165 G 2.75(nt)-2.75 G(he RPF_interf)-2.75 E
(ace to reach the RP)-.11 E(\(do)72 338.4 Q(wnstream tra)-.275 E -.165
(ve)-.22 G(ling pack).165 E
(et\) or if the router is the DF on the interf)-.11 E(ace the pack)-.11
E(et arri)-.11 E -.165(ve)-.275 G(s).165 E(\(upstream tra)72 351.4 Q
-.165(ve)-.22 G(ling pack).165 E(et\).)-.11 E(If the pack)72 368 Q
(et should be forw)-.11 E(arded we b)-.11 E(uild an outgoing interf)-.22
E(ace list for the pack)-.11 E(et.)-.11 E(Finally we remo)72 384.6 Q .33
-.165(ve t)-.165 H(he incoming interf).165 E
(ace from the outgoing interf)-.11 E(ace list we')-.11 E .33 -.165(ve c)
-.55 H(reated, and if).165 E(the resulting outgoing interf)72 397.6 Q
(ace list is not empty)-.11 E 2.75(,w)-.715 G 2.75(ef)-2.75 G(orw)-2.75
E(ard the pack)-.11 E(et out of those interf)-.11 E(aces.)-.11 E
(On receipt on a data to G on interf)72 416.6 Q(ace iif:)-.11 E F3
(if\( iif == RPF_interface\(RP\) || I_am_DF\(RP,I\) \) {)78.6 442.6 Q
(oiflist = olist\(G\) \(-\) iif)98.4 455.6 Q
(forward packet on all interfaces in oiflist)98.4 468.6 Q(})78.6 481.6 Q
F0(Note: A major adv)72 517.2 Q(antage of using a Designated F)-.275 E
(orw)-.165 E(arder in BIDIR-PIM compared to PIM-SM)-.11 E(is that speci\
al treatment is no longer required for sources that are directly connec\
ted to a router)72 530.2 Q(.)-.605 E
(Data from such sources does not need to be dif)72 543.2 Q
(ferentiated from other multicast traf)-.275 E(\214c and will)-.275 E
(automatically be pick)72 556.2 Q(ed up by the DF)-.11 E 2.75(.T)-.88 G
(his remo)-2.75 E -.165(ve)-.165 G 2.75(st).165 G
(he need for performing a directly-)-2.75 E
(connected-source check for data to groups that do not ha)72 569.2 Q .33
-.165(ve ex)-.22 H(isting state.).165 E F1 2.75(3.3.1. Sour)72 598.8 R
(ce-Only Branches)-.198 E F0(Source-only branches of the distrib)72
615.4 Q(ution tree for a group G are branches which do not lead to an)
-.22 E(y)-.165 E(recei)72 628.4 Q -.165(ve)-.275 G(rs, b).165 E
(ut which are used to forw)-.22 E(ard pack)-.11 E(ets tra)-.11 E -.165
(ve)-.22 G(ling upstream from sources to).165 E -.11(wa)-.275 G
(rds the RP).11 E(.)-1.221 E(Routers along source-only branches only ha)
72 641.4 Q .33 -.165(ve t)-.22 H(he RPF_interf).165 E
(ace to the RP in their olist for G and)-.11 E
(hence do not need to maintain an)72 654.4 Q 2.75(yg)-.165 G
(roup speci\214c state. Upstream forw)-2.75 E(arding can be performed)
-.11 E(using RP state.)72 667.4 Q(An implementation may decide to maint\
ain group state for source-only branches)5.5 E
(for accounting or performance reasons.)72 680.4 Q(Handle)72 769 Q(y/K)
-.165 E(ouv)-.385 E(elas/Speakman/V)-.165 E 154.91(icisano Section)-.66
F 2.75(3.3.1. [P)2.75 F(age 8])-.165 E EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E/F1 11/Times-Bold@0 SF(3.4.)72
85 Q/F2 13/Times-Bold@0 SF(PIM J)5.5 E(oin/Prune Messages)-.195 E F0
2.75(AB)72 101.6 S(IDIR-PIM Join/Prune message consists of a list of Jo\
ined and Pruned Groups. When)-2.75 E(processing a recei)72 114.6 Q -.165
(ve)-.275 G 2.75(dJ).165 G
(oin/Prune message, each Joined or Pruned Group is ef)-2.75 E(fecti)
-.275 E -.165(ve)-.275 G(ly considered).165 E(indi)72 127.6 Q
(vidually by applying the follo)-.275 E(wing state machines.)-.275 E
(When considering a Join/Prune message)5.5 E
(whose PIM Destination \214eld addresses this router)72 140.6 Q 2.75
(,\()-.44 G(*,G\) Joins and Prunes can af)-2.75 E(fect the)-.275 E(do)72
153.6 Q(wnstream state machine.)-.275 E
(When considering a Join/Prune message whose PIM Destination \214eld)5.5
E(addresses another router)72 166.6 Q 2.75(,m)-.44 G
(ost Join or Prune entries could af)-2.75 E
(fect the upstream state machine.)-.275 E F1 2.75(3.4.1. Recei)72 205.6
R(ving \(*,G\) J)-.11 E(oin/Prune Messages)-.165 E F0
(When a router recei)72 222.2 Q -.165(ve)-.275 G 2.75(saJ).165 G(oin\(*\
,G\) or Prune\(*,G\) it must \214rst check to see whether the RP in the)
-2.75 E(message matches RP\(G\) \(the router')72 235.2 Q 2.75(si)-.605 G
(dea of who the RP is\). If the RP in the message does not)-2.75 E(matc\
h RP\(G\) the Join or Prune MUST be silently dropped. In addition a rou\
ter MUST NO)72 248.2 Q(T)-.44 E(process Join\(*,G\) messages tar)72
261.2 Q(geted to itself if it is not the DF for RP\(G\) on the interf)
-.198 E(ace on)-.11 E(which the message w)72 274.2 Q(as recei)-.11 E
-.165(ve)-.275 G(d.).165 E(The per)72 290.8 Q(-interf)-.22 E
(ace state-machine for recei)-.11 E
(ving \(*,G\) Join/Prune Messages is gi)-.275 E -.165(ve)-.275 G 2.75
(nb).165 G(elo)-2.75 E 1.43 -.715(w. T)-.275 H(here).715 E
(are three states:)72 303.8 Q F1(NoInf)97 320.4 Q 2.75(o\()-.275 G(NI\))
-2.75 E F0(The interf)122 333.4 Q
(ace has no \(*,G\) Join state and no timers running.)-.11 E F1 -.165
(Jo)97 350 S(in \(J\)).165 E F0(The interf)122 363 Q
(ace has \(*,G\) Join state which will cause us to forw)-.11 E(ard pack)
-.11 E(ets destined for)-.11 E 2.75(Gf)122 376 S(rom this interf)-2.75 E
(ace.)-.11 E F1(PruneP)97 392.6 Q(ending \(PP\))-.22 E F0
(The router has recei)122 405.6 Q -.165(ve)-.275 G 2.75(daP).165 G
(rune\(*,G\) on this interf)-2.75 E(ace from a do)-.11 E
(wnstream neighbor)-.275 E(and is w)122 418.6 Q
(aiting to see whether the prune will be o)-.11 E -.165(ve)-.165 G
(rridden by another do).165 E(wnstream)-.275 E(router)122 431.6 Q 5.5
(.F)-.605 G(or forw)-5.665 E
(arding purposes, the PrunePending state functions e)-.11 E(xactly lik)
-.165 E 2.75(et)-.11 G(he)-2.75 E(Join state.)122 444.6 Q
(In addition the state-machine uses tw)72 461.2 Q 2.75(ot)-.11 G(imers:)
-2.75 E F1(ExpiryT)97 477.8 Q(imer \(ET\))-.198 E F0
(This timer is restarted when a v)122 490.8 Q(alid Join\(*,G\) is recei)
-.275 E -.165(ve)-.275 G 2.75(d. Expiry).165 F(of the ExpiryT)2.75 E
(imer)-.385 E(causes the interf)122 503.8 Q(ace state to re)-.11 E -.165
(ve)-.275 G(rt to NoInfo for this group.).165 E F1(PruneP)97 520.4 Q
(endingT)-.22 E(imer \(PPT\))-.198 E F0(This timer is set when a v)122
533.4 Q(alid Prune\(*,G\) is recei)-.275 E -.165(ve)-.275 G 2.75
(d. Expiry).165 F(of the)2.75 E(PrunePendingT)122 546.4 Q
(imer causes the interf)-.385 E(ace state to re)-.11 E -.165(ve)-.275 G
(rt to NoInfo for this group.).165 E(Handle)72 769 Q(y/K)-.165 E(ouv)
-.385 E(elas/Speakman/V)-.165 E 154.91(icisano Section)-.66 F 2.75
(3.4.1. [P)2.75 F(age 9])-.165 E EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E 295 365 239 239 -208 208 186.5
293 PBEGIN
%%BeginDocument: downstream.ps
%%Creator: idraw
%%DocumentFonts: Helvetica
%%Pages: 1
%%BoundingBox: 295 365 534 573
%%EndComments

%%BeginIdrawPrologue
/arrowhead {
0 begin
transform originalCTM itransform
/taily exch def
/tailx exch def
transform originalCTM itransform
/tipy exch def
/tipx exch def
/dy tipy taily sub def
/dx tipx tailx sub def
/angle dx 0 ne dy 0 ne or { dy dx atan } { 90 } ifelse def
gsave
originalCTM setmatrix
tipx tipy translate
angle rotate
newpath
arrowHeight neg arrowWidth 2 div moveto
0 0 lineto
arrowHeight neg arrowWidth 2 div neg lineto
patternNone not {
originalCTM setmatrix
/padtip arrowHeight 2 exp 0.25 arrowWidth 2 exp mul add sqrt brushWidth mul
arrowWidth div def
/padtail brushWidth 2 div def
tipx tipy translate
angle rotate
padtip 0 translate
arrowHeight padtip add padtail add arrowHeight div dup scale
arrowheadpath
ifill
} if
brushNone not {
originalCTM setmatrix
tipx tipy translate
angle rotate
arrowheadpath
istroke
} if
grestore
end
} dup 0 9 dict put def

/arrowheadpath {
newpath
arrowHeight neg arrowWidth 2 div moveto
0 0 lineto
arrowHeight neg arrowWidth 2 div neg lineto
} def

/leftarrow {
0 begin
y exch get /taily exch def
x exch get /tailx exch def
y exch get /tipy exch def
x exch get /tipx exch def
brushLeftArrow { tipx tipy tailx taily arrowhead } if
end
} dup 0 4 dict put def

/rightarrow {
0 begin
y exch get /tipy exch def
x exch get /tipx exch def
y exch get /taily exch def
x exch get /tailx exch def
brushRightArrow { tipx tipy tailx taily arrowhead } if
end
} dup 0 4 dict put def

%%EndIdrawPrologue

/arrowHeight 8 def
/arrowWidth 4 def

/IdrawDict 51 dict def
IdrawDict begin

/reencodeISO {
dup dup findfont dup length dict begin
{ 1 index /FID ne { def }{ pop pop } ifelse } forall
/Encoding ISOLatin1Encoding def
currentdict end definefont
} def

/ISOLatin1Encoding [
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/space/exclam/quotedbl/numbersign/dollar/percent/ampersand/quoteright
/parenleft/parenright/asterisk/plus/comma/minus/period/slash
/zero/one/two/three/four/five/six/seven/eight/nine/colon/semicolon
/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N
/O/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright
/asciicircum/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m
/n/o/p/q/r/s/t/u/v/w/x/y/z/braceleft/bar/braceright/asciitilde
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/dotlessi/grave/acute/circumflex/tilde/macron/breve
/dotaccent/dieresis/.notdef/ring/cedilla/.notdef/hungarumlaut
/ogonek/caron/space/exclamdown/cent/sterling/currency/yen/brokenbar
/section/dieresis/copyright/ordfeminine/guillemotleft/logicalnot
/hyphen/registered/macron/degree/plusminus/twosuperior/threesuperior
/acute/mu/paragraph/periodcentered/cedilla/onesuperior/ordmasculine
/guillemotright/onequarter/onehalf/threequarters/questiondown
/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE/Ccedilla
/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute
/Thorn/germandbls/agrave/aacute/acircumflex/atilde/adieresis
/aring/ae/ccedilla/egrave/eacute/ecircumflex/edieresis/igrave
/iacute/icircumflex/idieresis/eth/ntilde/ograve/oacute/ocircumflex
/otilde/odieresis/divide/oslash/ugrave/uacute/ucircumflex/udieresis
/yacute/thorn/ydieresis
] def
/Helvetica reencodeISO def

/none null def
/numGraphicParameters 17 def
/stringLimit 65535 def

/Begin {
save
numGraphicParameters dict begin
} def

/End {
end
restore
} def

/SetB {
dup type /nulltype eq {
pop
false /brushRightArrow idef
false /brushLeftArrow idef
true /brushNone idef
} {
/brushDashOffset idef
/brushDashArray idef
0 ne /brushRightArrow idef
0 ne /brushLeftArrow idef
/brushWidth idef
false /brushNone idef
} ifelse
} def

/SetCFg {
/fgblue idef
/fggreen idef
/fgred idef
} def

/SetCBg {
/bgblue idef
/bggreen idef
/bgred idef
} def

/SetF {
/printSize idef
/printFont idef
} def

/SetP {
dup type /nulltype eq {
pop true /patternNone idef
} {
dup -1 eq {
/patternGrayLevel idef
/patternString idef
} {
/patternGrayLevel idef
} ifelse
false /patternNone idef
} ifelse
} def

/BSpl {
0 begin
storexyn
newpath
n 1 gt {
0 0 0 0 0 0 1 1 true subspline
n 2 gt {
0 0 0 0 1 1 2 2 false subspline
1 1 n 3 sub {
/i exch def
i 1 sub dup i dup i 1 add dup i 2 add dup false subspline
} for
n 3 sub dup n 2 sub dup n 1 sub dup 2 copy false subspline
} if
n 2 sub dup n 1 sub dup 2 copy 2 copy false subspline
patternNone not brushLeftArrow not brushRightArrow not and and { ifill } if
brushNone not { istroke } if
0 0 1 1 leftarrow
n 2 sub dup n 1 sub dup rightarrow
} if
end
} dup 0 4 dict put def

/Circ {
newpath
0 360 arc
patternNone not { ifill } if
brushNone not { istroke } if
} def

/CBSpl {
0 begin
dup 2 gt {
storexyn
newpath
n 1 sub dup 0 0 1 1 2 2 true subspline
1 1 n 3 sub {
/i exch def
i 1 sub dup i dup i 1 add dup i 2 add dup false subspline
} for
n 3 sub dup n 2 sub dup n 1 sub dup 0 0 false subspline
n 2 sub dup n 1 sub dup 0 0 1 1 false subspline
patternNone not { ifill } if
brushNone not { istroke } if
} {
Poly
} ifelse
end
} dup 0 4 dict put def

/Elli {
0 begin
newpath
4 2 roll
translate
scale
0 0 1 0 360 arc
patternNone not { ifill } if
brushNone not { istroke } if
end
} dup 0 1 dict put def

/Line {
0 begin
2 storexyn
newpath
x 0 get y 0 get moveto
x 1 get y 1 get lineto
brushNone not { istroke } if
0 0 1 1 leftarrow
0 0 1 1 rightarrow
end
} dup 0 4 dict put def

/MLine {
0 begin
storexyn
newpath
n 1 gt {
x 0 get y 0 get moveto
1 1 n 1 sub {
/i exch def
x i get y i get lineto
} for
patternNone not brushLeftArrow not brushRightArrow not and and { ifill } if
brushNone not { istroke } if
0 0 1 1 leftarrow
n 2 sub dup n 1 sub dup rightarrow
} if
end
} dup 0 4 dict put def

/Poly {
3 1 roll
newpath
moveto
-1 add
{ lineto } repeat
closepath
patternNone not { ifill } if
brushNone not { istroke } if
} def

/Rect {
0 begin
/t exch def
/r exch def
/b exch def
/l exch def
newpath
l b moveto
l t lineto
r t lineto
r b lineto
closepath
patternNone not { ifill } if
brushNone not { istroke } if
end
} dup 0 4 dict put def

/Text {
ishow
} def

/idef {
dup where { pop pop pop } { exch def } ifelse
} def

/ifill {
0 begin
gsave
patternGrayLevel -1 ne {
fgred bgred fgred sub patternGrayLevel mul add
fggreen bggreen fggreen sub patternGrayLevel mul add
fgblue bgblue fgblue sub patternGrayLevel mul add setrgbcolor
eofill
} {
eoclip
originalCTM setmatrix
pathbbox /t exch def /r exch def /b exch def /l exch def
/w r l sub ceiling cvi def
/h t b sub ceiling cvi def
/imageByteWidth w 8 div ceiling cvi def
/imageHeight h def
bgred bggreen bgblue setrgbcolor
eofill
fgred fggreen fgblue setrgbcolor
w 0 gt h 0 gt and {
l w add b translate w neg h scale
w h true [w 0 0 h neg 0 h] { patternproc } imagemask
} if
} ifelse
grestore
end
} dup 0 8 dict put def

/istroke {
gsave
brushDashOffset -1 eq {
[] 0 setdash
1 setgray
} {
brushDashArray brushDashOffset setdash
fgred fggreen fgblue setrgbcolor
} ifelse
brushWidth setlinewidth
originalCTM setmatrix
stroke
grestore
} def

/ishow {
0 begin
gsave
fgred fggreen fgblue setrgbcolor
/fontDict printFont printSize scalefont dup setfont def
/descender fontDict begin 0 [FontBBox] 1 get FontMatrix end
transform exch pop def
/vertoffset 1 printSize sub descender sub def {
0 vertoffset moveto show
/vertoffset vertoffset printSize sub def
} forall
grestore
end
} dup 0 3 dict put def
/patternproc {
0 begin
/patternByteLength patternString length def
/patternHeight patternByteLength 8 mul sqrt cvi def
/patternWidth patternHeight def
/patternByteWidth patternWidth 8 idiv def
/imageByteMaxLength imageByteWidth imageHeight mul
stringLimit patternByteWidth sub min def
/imageMaxHeight imageByteMaxLength imageByteWidth idiv patternHeight idiv
patternHeight mul patternHeight max def
/imageHeight imageHeight imageMaxHeight sub store
/imageString imageByteWidth imageMaxHeight mul patternByteWidth add string def
0 1 imageMaxHeight 1 sub {
/y exch def
/patternRow y patternByteWidth mul patternByteLength mod def
/patternRowString patternString patternRow patternByteWidth getinterval def
/imageRow y imageByteWidth mul def
0 patternByteWidth imageByteWidth 1 sub {
/x exch def
imageString imageRow x add patternRowString putinterval
} for
} for
imageString
end
} dup 0 12 dict put def

/min {
dup 3 2 roll dup 4 3 roll lt { exch } if pop
} def

/max {
dup 3 2 roll dup 4 3 roll gt { exch } if pop
} def

/midpoint {
0 begin
/y1 exch def
/x1 exch def
/y0 exch def
/x0 exch def
x0 x1 add 2 div
y0 y1 add 2 div
end
} dup 0 4 dict put def

/thirdpoint {
0 begin
/y1 exch def
/x1 exch def
/y0 exch def
/x0 exch def
x0 2 mul x1 add 3 div
y0 2 mul y1 add 3 div
end
} dup 0 4 dict put def

/subspline {
0 begin
/movetoNeeded exch def
y exch get /y3 exch def
x exch get /x3 exch def
y exch get /y2 exch def
x exch get /x2 exch def
y exch get /y1 exch def
x exch get /x1 exch def
y exch get /y0 exch def
x exch get /x0 exch def
x1 y1 x2 y2 thirdpoint
/p1y exch def
/p1x exch def
x2 y2 x1 y1 thirdpoint
/p2y exch def
/p2x exch def
x1 y1 x0 y0 thirdpoint
p1x p1y midpoint
/p0y exch def
/p0x exch def
x2 y2 x3 y3 thirdpoint
p2x p2y midpoint
/p3y exch def
/p3x exch def
movetoNeeded { p0x p0y moveto } if
p1x p1y p2x p2y p3x p3y curveto
end
} dup 0 17 dict put def

/storexyn {
/n exch def
/y n array def
/x n array def
n 1 sub -1 0 {
/i exch def
y i 3 2 roll put
x i 3 2 roll put
} for
} def

/SSten {
fgred fggreen fgblue setrgbcolor
dup true exch 1 0 0 -1 0 6 -1 roll matrix astore
} def

/FSten {
dup 3 -1 roll dup 4 1 roll exch
newpath
0 0 moveto
dup 0 exch lineto
exch dup 3 1 roll exch lineto
0 lineto
closepath
bgred bggreen bgblue setrgbcolor
eofill
SSten
} def

/Rast {
exch dup 3 1 roll 1 0 0 -1 0 6 -1 roll matrix astore
} def


%I Idraw 10 Grid 7.56686e-15 7.25873e-43 


Begin
%I b u
%I cfg u
%I cbg u
%I f u
%I p u
%I t
[ 0.956649 0 0 0.956649 0 0 ] concat
/originalCTM matrix currentmatrix def

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 39.5 192 ] concat
%I 3
897 575
917 407
701 461
3 BSpl
%I 2
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 39.5 192 ] concat
%I 4
897 576
977 608
977 544
929 560
4 BSpl
%I 2
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 65.5 177.5 ] concat
%I 4
621 701
589 781
653 781
637 733
4 BSpl
%I 2
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 65.5 177.5 ] concat
%I 5
621 509
653 445
621 429
589 445
605 477
5 BSpl
%I 2
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 65.5 177.5 ] concat
%I 3
845 605
749 525
653 525
3 BSpl
%I 2
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 65.5 177.5 ] concat
%I 3
845 605
717 621
653 685
3 BSpl
%I 2
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 65.5 177.5 ] concat
%I 3
621 701
781 701
829 637
3 BSpl
%I 2
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 65.5 177.5 ] concat
%I 3
621 509
669 605
637 669
3 BSpl
%I 2
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 65.5 177.5 ] concat
%I 3
621 701
573 605
605 541
3 BSpl
%I 2
End

Begin %I Pict
%I b u
%I cfg u
%I cbg u
%I f u
%I p u
%I t u

Begin %I Elli
%I b 65535
0 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 289.5 129.5 ] concat
%I
173 605 32 32 Elli
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -*-helvetica-medium-r-normal-*-12-*-*-*-*-*-*-*
Helvetica 12 SetF
%I t
[ 1 0 0 1 369.5 437.5 ] concat
%I
[
(NI)
] Text
End

End %I eop

Begin %I Pict
%I b u
%I cfg u
%I cbg u
%I f u
%I p u
%I t u

Begin %I Elli
%I b 65535
0 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 289.5 225.5 ] concat
%I
173 605 32 32 Elli
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -*-helvetica-medium-r-normal-*-12-*-*-*-*-*-*-*
Helvetica 12 SetF
%I t
[ 1 0 0 1 372 533 ] concat
%I
[
(J)
] Text
End

End %I eop

Begin %I Pict
%I b u
%I cfg u
%I cbg u
%I f u
%I p u
%I t u

Begin %I Elli
%I b 65535
0 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 401.5 177.5 ] concat
%I
173 605 32 32 Elli
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -*-helvetica-medium-r-normal-*-12-*-*-*-*-*-*-*
Helvetica 12 SetF
%I t
[ 1 0 0 1 480 484.5 ] concat
%I
[
(PP)
] Text
End

End %I eop

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 346 595 ] concat
%I
[
(\(*,G\) Join)
([Refresh ET])
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 506 500 ] concat
%I
[
(\(*,G\) Prune)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 432.98 419.497 ] concat
%I
[
(ET Expires)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 401 511 ] concat
%I
[
(\(*,G\) Join)
([Refresh ET])
([Cancel PPT])
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 348.008 502.503 ] concat
%I
[
(ET )
(Expires)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 377.5 473 ] concat
%I
[
(\(*,G\) Join)
([Start ET])
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 350.5 392 ] concat
%I
[
(\(*,G\) Prune)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 419 546.5 ] concat
%I
[
(\(*,G\) Prune)
([Start PPT])
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 402.495 447.502 ] concat
%I
[
(PPT Expires)
([Send PruneEcho])
] Text
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 0.500173 -0 -0 0.500173 343.119 281.097 ] concat
%I 3
310 371
329 207
87 277
3 BSpl
%I 2
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 424.99 405 ] concat
%I
[
(Stop being DF)
] Text
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 0.500173 -0 -0 0.500173 245.585 262.591 ] concat
%I 3
228 531
143 428
229 351
3 BSpl
%I 2
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 309.498 483.994 ] concat
%I
[
(Stop)
(being DF)
] Text
End

End %I eop

showpage


end
%%EndDocument
end PEND/F1 11/Times-Bold@0 SF(Figur)172.295 319 Q 2.75(e1)-.198 G 2.75
(:D)-2.75 G -.11(ow)-2.75 G(nstr).11 E(eam gr)-.198 E(oup per)-.198 E
(-interface state-machine)-.407 E F0(In tab)72 341.6 Q
(ular form, the group per)-.22 E(-interf)-.22 E(ace state-machine is:)
-.11 E .44 LW 503.999 352.35 72 352.35 DL F1(Ev)276.295 362.6 Q(ent)-.11
E 503.999 367.35 142.447 367.35 DL(Pr)78.57 389.6 Q .33 -.165(ev S)-.198
H(tate).165 E(Recei)153.302 377.6 Q -.11(ve)-.11 G -.165(Jo)153.302
390.6 S(in\(*,G\)).165 E(Recei)233.193 377.6 Q -.11(ve)-.11 G
(Prune\(*,G\))233.193 390.6 Q(Prune)305.758 377.6 Q -.22(Pe)305.758
390.6 S(nding).22 E -.198(Ti)305.758 403.6 S(mer).198 E(Expir)305.758
416.6 Q(es)-.198 E(Expiry)379.544 377.6 Q -.198(Ti)379.544 390.6 S(mer)
.198 E(Expir)379.544 403.6 Q(es)-.198 E(Stop Being)446.389 377.6 Q
(DF on I)446.389 390.6 Q 503.999 421.35 72 421.35 DL 503.999 423.35 72
423.35 DL F0(-> J state)153.302 433.6 Q(-> NI state)40.082 E 70.123(--)
25.43 G(-)-6.941 E F1(NoInf)78.57 446.6 Q 2.75(o\()-.275 G(NI\))-2.75 E
F0(start Expiry)153.302 446.6 Q -.385(Ti)153.302 459.6 S(mer).385 E
503.999 464.35 72 464.35 DL(-> J state)153.302 474.6 Q(-> PP state)
40.082 E 70.123(--)24.803 G 2.75(>N)-70.123 G 2.75(Is)-2.75 G 16.96
(tate ->)-2.75 F(NI state)2.75 E F1 -.165(Jo)78.57 494.1 S(in \(J\)).165
E F0(restart Expiry)153.302 487.6 Q -.385(Ti)153.302 500.6 S(mer).385 E
(start Prune)233.193 487.6 Q(Pending)233.193 500.6 Q -.385(Ti)233.193
513.6 S(mer).385 E 503.999 518.35 72 518.35 DL(-> J state)153.302 528.6
Q(-> PP state)40.082 E(-> NI state)24.803 E(-> NI state)26.651 E
(-> NI state)19.71 E F1(Prune)78.57 548.1 Q -.22(Pe)78.57 561.1 S(nding)
.22 E(\(PP\))78.57 574.1 Q F0(restart Expiry)153.302 541.6 Q -.385(Ti)
153.302 554.6 S(mer; stop).385 E(Prune)153.302 567.6 Q(Pending)153.302
580.6 Q -.385(Ti)153.302 593.6 S(mer).385 E(Send Prune-)305.758 541.6 Q
(Echo\(*,G\))305.758 554.6 Q 503.999 598.35 72 598.35 DL 436.534 367.35
436.534 598.35 DL 369.689 367.35 369.689 598.35 DL 295.903 367.35
295.903 598.35 DL 223.338 367.35 223.338 598.35 DL 142.447 352.35
142.447 598.35 DL 144.447 352.35 144.447 598.35 DL 503.999 352.35
503.999 598.35 DL 72 352.35 72 598.35 DL(The transition e)72 616.2 Q
-.165(ve)-.275 G(nts "Recei).165 E .33 -.165(ve J)-.275 H
(oin\(*,G\)" and "Recei).165 E .33 -.165(ve P)-.275 H
(rune\(*,G\)" imply recei).165 E(ving a Join or)-.275 E(Prune tar)72
629.2 Q(geted to this router')-.198 E 2.75(sa)-.605 G
(ddress on the recei)-2.75 E -.165(ve)-.275 G 2.75(di).165 G(nterf)-2.75
E 2.75(ace. If)-.11 F(the destination address is not)2.75 E
(correct, these state transitions in this state machine must not occur)
72 642.2 Q 2.75(,a)-.44 G(lthough seeing such a pack)-2.75 E(et)-.11 E
(may cause state transitions in other state machines.)72 655.2 Q
(On unnumbered interf)72 671.8 Q
(aces on point-to-point links, the router')-.11 E 2.75(sa)-.605 G
(ddress should be the same as the)-2.75 E
(source address it chose for the hello pack)72 684.8 Q(et it sent o)-.11
E -.165(ve)-.165 G 2.75(rt).165 G(hat interf)-2.75 E 2.75(ace. Ho)-.11 F
(we)-.275 E -.165(ve)-.275 G 2.75(ro).165 G 2.75(np)-2.75 G
(oint-to-point)-2.75 E(links we also recommend that PIM messages with a\
 0.0.0.0 destination address are also accepted.)72 697.8 Q(Handle)72 769
Q(y/K)-.165 E(ouv)-.385 E(elas/Speakman/V)-.165 E 149.41
(icisano Section)-.66 F 2.75(3.4.1. [P)2.75 F(age 10])-.165 E EP
%%Page: 11 11
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E(The transition e)72 85 Q -.165
(ve)-.275 G(nt "Stop being DF" implies a DF re-election taking place on\
 this router interf).165 E(ace)-.11 E
(and the router changing status from being the acti)72 98 Q .33 -.165
(ve D)-.275 H 2.75(Ft).165 G 2.75(ob)-2.75 G
(eing a non-DF router \(the v)-2.75 E(alue of the)-.275 E/F1 11
/Courier@0 SF(I_am_DF)72 111 Q F0(macro changing to F)2.75 E(ALSE\).)
-.814 E(When ExpiryT)72 127.6 Q
(imer is started or restarted, it is set to the HoldT)-.385 E
(ime from the triggering Join/Prune)-.385 E(message.)72 140.6 Q
(When PrunePendingT)72 157.2 Q(imer is started, it is set to the J/P_Ov)
-.385 E(erride_Interv)-.165 E(al if the router has more)-.275 E
(than one neighbor on that interf)72 170.2 Q
(ace; otherwise it is set to zero causing it to e)-.11 E
(xpire immediately)-.165 E(.)-.715 E(The action "Send PruneEcho\(*,G\)"\
 is triggered when the router stops forw)72 186.8 Q(arding on an interf)
-.11 E(ace)-.11 E(as a result of a prune.)72 199.8 Q 2.75(AP)5.5 G
(runeEcho\(*,G\) is simply a Prune\(*,G\) message sent by the upstream)
-2.75 E(router to itself on a LAN.)72 212.8 Q(Its purpose is to add add\
itional reliability so that if a Prune that should)5.5 E(ha)72 225.8 Q
.33 -.165(ve b)-.22 H(een o).165 E -.165(ve)-.165 G(rridden by another \
router is lost locally on the LAN, then the PruneEcho may be).165 E
(recei)72 238.8 Q -.165(ve)-.275 G 2.75(da).165 G(nd cause the o)-2.75 E
-.165(ve)-.165 G(rride to happen.).165 E 2.75(AP)5.5 G
(runeEcho\(*,G\) need not be sent on a point-to-)-2.75 E(point interf)72
251.8 Q(ace.)-.11 E/F2 11/Times-Bold@0 SF 2.75(3.4.2. Sending)72 290.8 R
-.165(Jo)2.75 G(in/Prune Messages).165 E F0(The do)72 307.4 Q
(wnstream per)-.275 E(-interf)-.22 E(ace state-machines described abo)
-.11 E .33 -.165(ve h)-.165 H(old join state from do).165 E(wnstream)
-.275 E(PIM routers. This state then determines whether a router needs \
to propag)72 320.4 Q(ate a Join\(*,G\) upstream)-.055 E(to)72 333.4 Q
-.11(wa)-.275 G(rds the RP).11 E 5.5(.S)-1.221 G
(uch Join\(*,G\) messages are sent on the RPF_interf)-5.5 E(ace to)-.11
E -.11(wa)-.275 G(rds the RP and are).11 E(tar)72 346.4 Q
(geted at the DF on that interf)-.198 E(ace.)-.11 E
(If a router wishes to propag)72 363 Q
(ate a Join\(*,G\) upstream, it must also w)-.055 E
(atch for messages on its)-.11 E(upstream interf)72 376 Q
(ace from other routers on that subnet, and these may modify its beha)
-.11 E(vior)-.22 E 5.5(.I)-.605 G 2.75(fi)-5.5 G 2.75(ts)-2.75 G(ees)
-2.75 E 2.75(aJ)72 389 S(oin\(*,G\) to the correct upstream neighbor)
-2.75 E 2.75(,i)-.44 G 2.75(ts)-2.75 G(hould suppress its o)-2.75 E
(wn Join\(*,G\).)-.275 E(If it sees a)5.5 E
(Prune\(*,G\) to the correct upstream neighbor)72 402 Q 2.75(,i)-.44 G
2.75(ts)-2.75 G(hould be prepared to o)-2.75 E -.165(ve)-.165 G
(rride that prune by).165 E(sending a Join\(*,G\) almost immediately)72
415 Q 5.5(.F)-.715 G(inally)-5.5 E 2.75(,i)-.715 G 2.75(fi)-2.75 G 2.75
(ts)-2.75 G(ees the Generation ID \(see PIM-SM)-2.75 E
(speci\214cation [9]\) of the correct upstream neighbor change, it kno)
72 428 Q(ws that the upstream neighbor)-.275 E(has lost state, and it s\
hould be prepared to refresh the state by sending a Join\(*,G\) almost)
72 441 Q(immediately)72 454 Q(.)-.715 E(In addition changes in the ne)72
470.6 Q(xt hop to)-.165 E -.11(wa)-.275 G(rds the RP trigger a prune of)
.11 E 2.75(ff)-.275 G(rom the old ne)-2.75 E(xt hop, and)-.165 E
(join to)72 483.6 Q -.11(wa)-.275 G(rds the ne).11 E 2.75(wn)-.275 G
-.165(ex)-2.75 G 2.75(th).165 G
(op. Such a change can be cause by the follo)-2.75 E(wing tw)-.275 E
2.75(or)-.11 G(easons:)-2.75 E 7.15<8354>97 500.2 S
(he MRIB indicates that the RPF_interf)-7.15 E(ace to)-.11 E -.11(wa)
-.275 G(rds the RP has changed.).11 E 7.15<8354>97 516.8 S
(here is a DF re-election on the RPF_interf)-7.15 E(ace and a ne)-.11 E
2.75(wr)-.275 G(outer emer)-2.75 E(ges as the DF)-.198 E(.)-.88 E
(The upstream \(*,G\) state-machine only contains tw)72 533.4 Q 2.75(os)
-.11 G(tates:)-2.75 E F2(Not J)72 550 Q(oined)-.165 E F0(The do)97 563 Q
(wnstream state-machines indicate that the router does not need to join\
 the RP tree for)-.275 E(this group.)97 576 Q F2 -.165(Jo)72 592.6 S
(ined).165 E F0(The do)97 605.6 Q
(wnstream state-machines indicate that the router w)-.275 E(ould lik)
-.11 E 2.75(et)-.11 G 2.75(oj)-2.75 G(oin the RP tree for)-2.75 E
(this group.)97 618.6 Q(In addition, one timer JT\(G\) is k)72 635.2 Q
(ept which is used to trigger the sending of a Join\(*,G\) to the)-.11 E
(upstream ne)72 648.2 Q(xt hop to)-.165 E -.11(wa)-.275 G
(rds the RP \(the DF on the RPF_interf).11 E(ace for RP\(G\)\).)-.11 E
(Handle)72 769 Q(y/K)-.165 E(ouv)-.385 E(elas/Speakman/V)-.165 E 149.41
(icisano Section)-.66 F 2.75(3.4.2. [P)2.75 F(age 11])-.165 E EP
%%Page: 12 12
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E 106 361 396 498 -168.578 212
108 253.578 PBEGIN
%%BeginDocument: upstream.ps
%%Creator: idraw
%%DocumentFonts: Helvetica
%%Pages: 1
%%BoundingBox: 106 361 604 573
%%EndComments

%%BeginIdrawPrologue
/arrowhead {
0 begin
transform originalCTM itransform
/taily exch def
/tailx exch def
transform originalCTM itransform
/tipy exch def
/tipx exch def
/dy tipy taily sub def
/dx tipx tailx sub def
/angle dx 0 ne dy 0 ne or { dy dx atan } { 90 } ifelse def
gsave
originalCTM setmatrix
tipx tipy translate
angle rotate
newpath
arrowHeight neg arrowWidth 2 div moveto
0 0 lineto
arrowHeight neg arrowWidth 2 div neg lineto
patternNone not {
originalCTM setmatrix
/padtip arrowHeight 2 exp 0.25 arrowWidth 2 exp mul add sqrt brushWidth mul
arrowWidth div def
/padtail brushWidth 2 div def
tipx tipy translate
angle rotate
padtip 0 translate
arrowHeight padtip add padtail add arrowHeight div dup scale
arrowheadpath
ifill
} if
brushNone not {
originalCTM setmatrix
tipx tipy translate
angle rotate
arrowheadpath
istroke
} if
grestore
end
} dup 0 9 dict put def

/arrowheadpath {
newpath
arrowHeight neg arrowWidth 2 div moveto
0 0 lineto
arrowHeight neg arrowWidth 2 div neg lineto
} def

/leftarrow {
0 begin
y exch get /taily exch def
x exch get /tailx exch def
y exch get /tipy exch def
x exch get /tipx exch def
brushLeftArrow { tipx tipy tailx taily arrowhead } if
end
} dup 0 4 dict put def

/rightarrow {
0 begin
y exch get /tipy exch def
x exch get /tipx exch def
y exch get /taily exch def
x exch get /tailx exch def
brushRightArrow { tipx tipy tailx taily arrowhead } if
end
} dup 0 4 dict put def

%%EndIdrawPrologue

/arrowHeight 8 def
/arrowWidth 4 def

/IdrawDict 51 dict def
IdrawDict begin

/reencodeISO {
dup dup findfont dup length dict begin
{ 1 index /FID ne { def }{ pop pop } ifelse } forall
/Encoding ISOLatin1Encoding def
currentdict end definefont
} def

/ISOLatin1Encoding [
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/space/exclam/quotedbl/numbersign/dollar/percent/ampersand/quoteright
/parenleft/parenright/asterisk/plus/comma/minus/period/slash
/zero/one/two/three/four/five/six/seven/eight/nine/colon/semicolon
/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N
/O/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright
/asciicircum/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m
/n/o/p/q/r/s/t/u/v/w/x/y/z/braceleft/bar/braceright/asciitilde
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/dotlessi/grave/acute/circumflex/tilde/macron/breve
/dotaccent/dieresis/.notdef/ring/cedilla/.notdef/hungarumlaut
/ogonek/caron/space/exclamdown/cent/sterling/currency/yen/brokenbar
/section/dieresis/copyright/ordfeminine/guillemotleft/logicalnot
/hyphen/registered/macron/degree/plusminus/twosuperior/threesuperior
/acute/mu/paragraph/periodcentered/cedilla/onesuperior/ordmasculine
/guillemotright/onequarter/onehalf/threequarters/questiondown
/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE/Ccedilla
/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute
/Thorn/germandbls/agrave/aacute/acircumflex/atilde/adieresis
/aring/ae/ccedilla/egrave/eacute/ecircumflex/edieresis/igrave
/iacute/icircumflex/idieresis/eth/ntilde/ograve/oacute/ocircumflex
/otilde/odieresis/divide/oslash/ugrave/uacute/ucircumflex/udieresis
/yacute/thorn/ydieresis
] def
/Helvetica reencodeISO def

/none null def
/numGraphicParameters 17 def
/stringLimit 65535 def

/Begin {
save
numGraphicParameters dict begin
} def

/End {
end
restore
} def

/SetB {
dup type /nulltype eq {
pop
false /brushRightArrow idef
false /brushLeftArrow idef
true /brushNone idef
} {
/brushDashOffset idef
/brushDashArray idef
0 ne /brushRightArrow idef
0 ne /brushLeftArrow idef
/brushWidth idef
false /brushNone idef
} ifelse
} def

/SetCFg {
/fgblue idef
/fggreen idef
/fgred idef
} def

/SetCBg {
/bgblue idef
/bggreen idef
/bgred idef
} def

/SetF {
/printSize idef
/printFont idef
} def

/SetP {
dup type /nulltype eq {
pop true /patternNone idef
} {
dup -1 eq {
/patternGrayLevel idef
/patternString idef
} {
/patternGrayLevel idef
} ifelse
false /patternNone idef
} ifelse
} def

/BSpl {
0 begin
storexyn
newpath
n 1 gt {
0 0 0 0 0 0 1 1 true subspline
n 2 gt {
0 0 0 0 1 1 2 2 false subspline
1 1 n 3 sub {
/i exch def
i 1 sub dup i dup i 1 add dup i 2 add dup false subspline
} for
n 3 sub dup n 2 sub dup n 1 sub dup 2 copy false subspline
} if
n 2 sub dup n 1 sub dup 2 copy 2 copy false subspline
patternNone not brushLeftArrow not brushRightArrow not and and { ifill } if
brushNone not { istroke } if
0 0 1 1 leftarrow
n 2 sub dup n 1 sub dup rightarrow
} if
end
} dup 0 4 dict put def

/Circ {
newpath
0 360 arc
patternNone not { ifill } if
brushNone not { istroke } if
} def

/CBSpl {
0 begin
dup 2 gt {
storexyn
newpath
n 1 sub dup 0 0 1 1 2 2 true subspline
1 1 n 3 sub {
/i exch def
i 1 sub dup i dup i 1 add dup i 2 add dup false subspline
} for
n 3 sub dup n 2 sub dup n 1 sub dup 0 0 false subspline
n 2 sub dup n 1 sub dup 0 0 1 1 false subspline
patternNone not { ifill } if
brushNone not { istroke } if
} {
Poly
} ifelse
end
} dup 0 4 dict put def

/Elli {
0 begin
newpath
4 2 roll
translate
scale
0 0 1 0 360 arc
patternNone not { ifill } if
brushNone not { istroke } if
end
} dup 0 1 dict put def

/Line {
0 begin
2 storexyn
newpath
x 0 get y 0 get moveto
x 1 get y 1 get lineto
brushNone not { istroke } if
0 0 1 1 leftarrow
0 0 1 1 rightarrow
end
} dup 0 4 dict put def

/MLine {
0 begin
storexyn
newpath
n 1 gt {
x 0 get y 0 get moveto
1 1 n 1 sub {
/i exch def
x i get y i get lineto
} for
patternNone not brushLeftArrow not brushRightArrow not and and { ifill } if
brushNone not { istroke } if
0 0 1 1 leftarrow
n 2 sub dup n 1 sub dup rightarrow
} if
end
} dup 0 4 dict put def

/Poly {
3 1 roll
newpath
moveto
-1 add
{ lineto } repeat
closepath
patternNone not { ifill } if
brushNone not { istroke } if
} def

/Rect {
0 begin
/t exch def
/r exch def
/b exch def
/l exch def
newpath
l b moveto
l t lineto
r t lineto
r b lineto
closepath
patternNone not { ifill } if
brushNone not { istroke } if
end
} dup 0 4 dict put def

/Text {
ishow
} def

/idef {
dup where { pop pop pop } { exch def } ifelse
} def

/ifill {
0 begin
gsave
patternGrayLevel -1 ne {
fgred bgred fgred sub patternGrayLevel mul add
fggreen bggreen fggreen sub patternGrayLevel mul add
fgblue bgblue fgblue sub patternGrayLevel mul add setrgbcolor
eofill
} {
eoclip
originalCTM setmatrix
pathbbox /t exch def /r exch def /b exch def /l exch def
/w r l sub ceiling cvi def
/h t b sub ceiling cvi def
/imageByteWidth w 8 div ceiling cvi def
/imageHeight h def
bgred bggreen bgblue setrgbcolor
eofill
fgred fggreen fgblue setrgbcolor
w 0 gt h 0 gt and {
l w add b translate w neg h scale
w h true [w 0 0 h neg 0 h] { patternproc } imagemask
} if
} ifelse
grestore
end
} dup 0 8 dict put def

/istroke {
gsave
brushDashOffset -1 eq {
[] 0 setdash
1 setgray
} {
brushDashArray brushDashOffset setdash
fgred fggreen fgblue setrgbcolor
} ifelse
brushWidth setlinewidth
originalCTM setmatrix
stroke
grestore
} def

/ishow {
0 begin
gsave
fgred fggreen fgblue setrgbcolor
/fontDict printFont printSize scalefont dup setfont def
/descender fontDict begin 0 [FontBBox] 1 get FontMatrix end
transform exch pop def
/vertoffset 1 printSize sub descender sub def {
0 vertoffset moveto show
/vertoffset vertoffset printSize sub def
} forall
grestore
end
} dup 0 3 dict put def
/patternproc {
0 begin
/patternByteLength patternString length def
/patternHeight patternByteLength 8 mul sqrt cvi def
/patternWidth patternHeight def
/patternByteWidth patternWidth 8 idiv def
/imageByteMaxLength imageByteWidth imageHeight mul
stringLimit patternByteWidth sub min def
/imageMaxHeight imageByteMaxLength imageByteWidth idiv patternHeight idiv
patternHeight mul patternHeight max def
/imageHeight imageHeight imageMaxHeight sub store
/imageString imageByteWidth imageMaxHeight mul patternByteWidth add string def
0 1 imageMaxHeight 1 sub {
/y exch def
/patternRow y patternByteWidth mul patternByteLength mod def
/patternRowString patternString patternRow patternByteWidth getinterval def
/imageRow y imageByteWidth mul def
0 patternByteWidth imageByteWidth 1 sub {
/x exch def
imageString imageRow x add patternRowString putinterval
} for
} for
imageString
end
} dup 0 12 dict put def

/min {
dup 3 2 roll dup 4 3 roll lt { exch } if pop
} def

/max {
dup 3 2 roll dup 4 3 roll gt { exch } if pop
} def

/midpoint {
0 begin
/y1 exch def
/x1 exch def
/y0 exch def
/x0 exch def
x0 x1 add 2 div
y0 y1 add 2 div
end
} dup 0 4 dict put def

/thirdpoint {
0 begin
/y1 exch def
/x1 exch def
/y0 exch def
/x0 exch def
x0 2 mul x1 add 3 div
y0 2 mul y1 add 3 div
end
} dup 0 4 dict put def

/subspline {
0 begin
/movetoNeeded exch def
y exch get /y3 exch def
x exch get /x3 exch def
y exch get /y2 exch def
x exch get /x2 exch def
y exch get /y1 exch def
x exch get /x1 exch def
y exch get /y0 exch def
x exch get /x0 exch def
x1 y1 x2 y2 thirdpoint
/p1y exch def
/p1x exch def
x2 y2 x1 y1 thirdpoint
/p2y exch def
/p2x exch def
x1 y1 x0 y0 thirdpoint
p1x p1y midpoint
/p0y exch def
/p0x exch def
x2 y2 x3 y3 thirdpoint
p2x p2y midpoint
/p3y exch def
/p3x exch def
movetoNeeded { p0x p0y moveto } if
p1x p1y p2x p2y p3x p3y curveto
end
} dup 0 17 dict put def

/storexyn {
/n exch def
/y n array def
/x n array def
n 1 sub -1 0 {
/i exch def
y i 3 2 roll put
x i 3 2 roll put
} for
} def

/SSten {
fgred fggreen fgblue setrgbcolor
dup true exch 1 0 0 -1 0 6 -1 roll matrix astore
} def

/FSten {
dup 3 -1 roll dup 4 1 roll exch
newpath
0 0 moveto
dup 0 exch lineto
exch dup 3 1 roll exch lineto
0 lineto
closepath
bgred bggreen bgblue setrgbcolor
eofill
SSten
} def

/Rast {
exch dup 3 1 roll 1 0 0 -1 0 6 -1 roll matrix astore
} def


%I Idraw 10 Grid 7.56686e-15 7.25873e-43 


Begin
%I b u
%I cfg u
%I cbg u
%I f u
%I p u
%I t
[ 0.956649 0 0 0.956649 0 0 ] concat
/originalCTM matrix currentmatrix def

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 -12.5 270.5 ] concat
%I 4
697 435
699 577
777 547
724 466
4 BSpl
%I 2
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 -12.5 270.5 ] concat
%I 4
697 435
583 528
670 588
681 467
4 BSpl
%I 2
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 -12.5 270.5 ] concat
%I 4
697 435
769 298
626 305
672 405
4 BSpl
%I 2
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 -12.5 270.5 ] concat
%I 4
697 435
857 563
871 451
750 454
4 BSpl
%I 2
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 -12.5 270.5 ] concat
%I 4
697 435
873 446
857 323
749 413
4 BSpl
%I 2
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 39.5 192 ] concat
%I 3
593 592
385 528
273 576
3 BSpl
%I 2
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 39.5 192 ] concat
%I 3
209 592
401 656
529 608
3 BSpl
%I 2
End

Begin %I Elli
%I b 65535
0 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 39.5 192 ] concat
%I
209 592 64 32 Elli
End

Begin %I Elli
%I b 65535
0 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 231.5 192 ] concat
%I
209 592 64 32 Elli
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 134.5 497.5 ] concat
%I
[
(not)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 128 487.5 ] concat
%I
[
(joined)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 324 491.5 ] concat
%I
[
(joined)
] Text
End

Begin %I BSpl
%I b 65535
0 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg Black
0 0 0 SetCBg
none SetP %I p n
%I t
[ 0.142361 -0 -0 0.0953237 401.226 424.701 ] concat
%I 8
677 1262
733 1262
733 802
815 704
813 705
733 618
733 158
677 158
8 BSpl
%I 8
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 520.625 519 ] concat
%I
[
([Lower timer to)
(randomized)
(prune-override interval])
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 199 595.5 ] concat
%I
[
(Timer Expires)
([Send \(*,G\) Join])
([Set timer to J/P periodic])
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 171 531 ] concat
%I
[
(JoinDesired\(G\)->TRUE)
([Send \(*,G\) Join])
([Set timer to J/P period])
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 175 466 ] concat
%I
[
(JoinDesired\(G\)->FALSE)
([Send \(*,G\) Prune])
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 339 587.5 ] concat
%I
[
(See \(*,G\) Join to RPF_DF\(RP\(G\)\))
([Raise timer to J/P suppressed])
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 421.5 538 ] concat
%I
[
(See \(*,G\) Prune)
(to RPF_DF\(RP\(G\)\))
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 424.001 472.502 ] concat
%I
[
(RPF_DF\(RP\(G\)\))
(GenID changes)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 250.5 418 ] concat
%I
[
(Change of RPF_DF\(RP\(G\)\))
([Send \(*,G\) Join to new DF])
([Send \(*,G\) Prune to old DF])
([Set timer to J/P periodic])
] Text
End

End %I eop

showpage


end
%%EndDocument
end PEND/F1 11/Times-Bold@0 SF(Figur)210.674 279.578 Q 2.75(e2)-.198 G
2.75(:U)-2.75 G(pstr)-2.75 E(eam gr)-.198 E(oup state-machine)-.198 E F0
(In tab)72 302.178 Q(ular form, the state machine is:)-.22 E .44 LW
503.995 312.928 72 312.928 DL F1(Ev)343.793 323.178 Q(ent)-.11 E 503.995
327.928 198.757 327.928 DL(Pr)94.45 337.178 Q .33 -.165(ev S)-.198 H
(tate).165 E -.165(Jo)233.432 338.178 S(inDesir).165 E(ed\(G\) ->T)-.198
E(rue)-.814 E -.165(Jo)407.614 338.178 S(inDesir).165 E(ed\(G\))-.198 E
(->F)407.614 351.178 Q(alse)-.275 E 503.995 355.928 72 355.928 DL
503.995 357.928 72 357.928 DL F0(-)407.614 368.178 Q(-> J state)233.432
368.178 Q F1(NotJ)94.45 381.178 Q(oined \(NJ\))-.165 E F0
(Send Join\(*,G\); Set)233.432 381.178 Q -.385(Ti)233.432 394.178 S
(mer to t_periodic).385 E 503.995 398.928 72 398.928 DL(-)233.432
409.178 Q(-> NJ state)407.614 409.178 Q(Send Prune\(*,G\))407.614
422.178 Q F1 -.165(Jo)94.45 415.678 S(ined \(J\)).165 E 503.995 426.928
72 426.928 DL 373.939 327.928 373.939 426.928 DL 198.757 312.928 198.757
426.928 DL 200.757 312.928 200.757 426.928 DL 503.995 312.928 503.995
426.928 DL 72 312.928 72 426.928 DL F0(In addition, we ha)72 444.778 Q
.33 -.165(ve t)-.22 H(he follo).165 E
(wing transitions which occur within the Joined state:)-.275 E 503.992
455.528 72 455.528 DL F1(In J)244.843 465.778 Q(oined \(J\) State)-.165
E 503.992 470.528 72 470.528 DL 503.992 472.528 72 472.528 DL -.198(Ti)
82.786 482.778 S(mer Expir).198 E(es)-.198 E(See J)184.807 482.778 Q
(oin\(*,G\) to)-.165 E(RPF_DF\(RP\(G\)\))184.807 495.778 Q
(See Prune\(*,G\) to)296.585 482.778 Q(RPF_DF\(RP\(G\)\))296.585 495.778
Q(RPF_DF\(RP\(G\)\))412.345 482.778 Q(changes)412.345 495.778 Q 503.992
500.528 72 500.528 DL 503.992 502.528 72 502.528 DL F0
(Send Join\(*,G\);)82.786 512.778 Q(Set T)82.786 525.778 Q(imer to)-.385
E(t_periodic)82.786 538.778 Q(Increase T)184.807 512.778 Q(imer to)-.385
E(t_suppressed)184.807 525.778 Q(Decrease T)296.585 512.778 Q(imer to)
-.385 E(t_o)296.585 525.778 Q -.165(ve)-.165 G(rride).165 E(Decrease T)
412.345 512.778 Q(imer to)-.385 E(t_o)412.345 525.778 Q -.165(ve)-.165 G
(rride).165 E 503.992 543.528 72 543.528 DL 396.166 472.528 396.166
543.528 DL 280.406 472.528 280.406 543.528 DL 168.628 472.528 168.628
543.528 DL 503.992 455.528 503.992 543.528 DL 72 455.528 72 543.528 DL
503.996 555.528 72 555.528 DL F1(In J)244.845 565.778 Q
(oined \(J\) State)-.165 E 503.996 570.528 72 570.528 DL 503.996 572.528
72 572.528 DL(Change of RPF_DF\(RP\(G\)\))104.035 582.778 Q
(RPF_DF\(RP\(G\)\) GenID)343.47 582.778 Q(changes)343.47 595.778 Q
503.996 600.528 72 600.528 DL 503.996 602.528 72 602.528 DL F0
(Send Join\(*,G\) to ne)104.035 612.778 Q 2.75(wD)-.275 G(F; Send)-2.75
E(Prune\(*,G\) to old DF; set T)104.035 625.778 Q(imer)-.385 E
(to t_periodic)104.035 638.778 Q(Decrease T)343.47 612.778 Q
(imer to t_o)-.385 E -.165(ve)-.165 G(rride).165 E 503.996 643.528 72
643.528 DL 295.417 572.528 295.417 643.528 DL 503.996 555.528 503.996
643.528 DL 72 555.528 72 643.528 DL(Handle)72 769 Q(y/K)-.165 E(ouv)
-.385 E(elas/Speakman/V)-.165 E 149.41(icisano Section)-.66 F 2.75
(3.4.2. [P)2.75 F(age 12])-.165 E EP
%%Page: 13 13
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E
(This state machine uses the follo)72 85 Q(wing macro:)-.275 E/F1 11
/Courier@0 SF(bool JoinDesired\(G\) {)85.2 104 Q
(if \(olist\(G\) \(-\) RPF_interface\(RP\(G\)\)\) != NULL)105 117 Q
(return TRUE)131.4 130 Q(else)105 143 Q(return FALSE)131.4 156 Q(})85.2
169 Q/F2 11/Times-Bold@0 SF(3.5.)72 201 Q/F3 13/Times-Bold@0 SF
(Designated F)5.5 E(orwarder \(DF\) Election)-.325 E F0
(This section presents a f)72 217.6 Q
(ail-safe mechanism for electing a per)-.11 E
(-RP designated router on each link)-.22 E(in a BIDIR-PIM domain. W)72
230.6 Q 2.75(ec)-.88 G(all this router the Designated F)-2.75 E(orw)
-.165 E(arder \(DF\).)-.11 E F2 2.75(3.5.1. DF)72 260.2 R(Requir)2.75 E
(ements)-.198 E F0(The DF election chooses the best router on a link to\
 assume the responsibility of forw)72 276.8 Q(arding)-.11 E(traf)72
289.8 Q(\214c between the RP and the link for the range of multicast gr\
oups serv)-.275 E(ed by the RP)-.165 E 5.5(.D)-1.221 G(if)-5.5 E(ferent)
-.275 E(multicast groups that share a common RP must use the same bi-di\
rectional tree for data)72 302.8 Q(forw)72 315.8 Q
(arding. Hence, the election of an upstream forw)-.11 E
(arder on each link does not ha)-.11 E .33 -.165(ve t)-.22 H 2.75(ob)
.165 G 2.75(ea)-2.75 G(group speci\214c decision b)72 328.8 Q(ut instea\
d can be RP-speci\214c. As the number of RPs is typically small,)-.22 E
(the number of elections that ha)72 341.8 Q .33 -.165(ve t)-.22 H 2.75
(ob).165 G 2.75(ep)-2.75 G
(erformed is signi\214cantly reduced by this observ)-2.75 E(ation.)-.275
E 1.76 -.88(To o)72 358.4 T(ptimise tree creation, it is desirable that\
 the winner of the election process should be the).88 E(router on the l\
ink with the "best" unicast routing metric to the RP \(as reported by t\
he MRIB\).)72 371.4 Q(When comparing metrics from dif)72 384.4 Q
(ferent unicast routing protocols, we use the same comparison)-.275 E
(rules used by the PIM-SM assert process [9].)72 397.4 Q
(The election process needs to tak)72 414 Q 2.75(ep)-.11 G
(lace when information on a ne)-2.75 E 2.75(wR)-.275 G 2.75(Pi)-2.75 G
(nitially becomes)-2.75 E -.22(av)72 427 S
(ailable, and can be re-used as ne)-.055 E 2.75(wb)-.275 G
(idir groups for the same RP are encountered. There are)-2.75 E(ho)72
440 Q(we)-.275 E -.165(ve)-.275 G 2.75(rs).165 G
(ome conditions where an update to the election is required:)-2.75 E
7.15<8354>97 456.6 S
(here is a change in unicast metric to reach the RP for an)-7.15 E 2.75
(yo)-.165 G 2.75(ft)-2.75 G(he routers on the link.)-2.75 E 7.15<8354>97
473.2 S(he interf)-7.15 E
(ace on which the RP is reachable changes to an interf)-.11 E
(ace for which the router)-.11 E -.11(wa)108 486.2 S 2.75(sp).11 G(re)
-2.75 E(viously the DF)-.275 E(.)-.88 E 7.15<8341>97 502.8 S(ne)-4.4 E
2.75(wP)-.275 G(IM neighbor starts up on a link.)-2.75 E 7.15<8354>97
519.4 S(he elected DF dies.)-7.15 E(The election process has to be rob)
72 536 Q(ust enough to ensure with v)-.22 E
(ery high probability that all routers)-.165 E(on the link ha)72 549 Q
.33 -.165(ve a c)-.22 H(onsistent vie).165 E 2.75(wo)-.275 G 2.75(ft)
-2.75 G(he DF)-2.75 E 2.75(.T)-.88 G(his is because with the forw)-2.75
E(arding rules described)-.11 E
(in section 3.3 if multiple routers end-up thinking that the)72 562 Q
2.75(ys)-.165 G(hould be responsible for forw)-2.75 E(arding,)-.11 E
(loops may result. T)72 575 Q 2.75(or)-.88 G
(educe the possibility of this occurrence to a minimum, the election)
-2.75 E(algorithm has been biased to)72 588 Q -.11(wa)-.275 G
(rds discarding DF information and suspending forw).11 E(arding during)
-.11 E(periods of ambiguity)72 601 Q(.)-.715 E F2 2.75(3.5.2. DF)72
630.6 R(Election description)2.75 E F0(This section does not pro)72
647.2 Q(vide the de\214niti)-.165 E .33 -.165(ve s)-.275 H
(peci\214cation for the DF election process. If an).165 E(y)-.165 E
(discrepanc)72 660.2 Q 2.75(ye)-.165 G(xists between section 3.5.3 and \
this section, the speci\214cation in section 3.5.3 is to be)-2.915 E
(assumed correct.)72 673.2 Q 1.76 -.88(To p)72 689.8 T
(erform the election of the DF for a particular RP).88 E 2.75(,r)-1.221
G(outers on a link need to e)-2.75 E(xchange their)-.165 E(unicast rout\
ing metric information \(as reported by the MRIB\) for reaching the RP)
72 702.8 Q(.)-1.221 E(Handle)72 769 Q(y/K)-.165 E(ouv)-.385 E
(elas/Speakman/V)-.165 E 149.41(icisano Section)-.66 F 2.75(3.5.2. [P)
2.75 F(age 13])-.165 E EP
%%Page: 14 14
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E
(In the election protocol described belo)72 85 Q 1.43 -.715(w, m)-.275 H
(an).715 E 2.75(ym)-.165 G(essage e)-2.75 E(xchanges are repeated)-.165
E/F1 11/Courier@0 SF(Election_Robustness)72 98 Q F0
(times for reliability)2.75 E 2.75(.I)-.715 G 2.75(na)-2.75 G
(ll those cases the message retransmissions)-2.75 E
(are spaced in time by a small random interv)72 111 Q(al.)-.275 E/F2 11
/Times-Bold@0 SF 2.75(3.5.2.1. Bootstrap)72 140.6 R(Election)2.75 E F0(\
Initially when no DF has been elected, routers \214nding out about a ne)
72 157.2 Q 2.75(wR)-.275 G 2.75(Ps)-2.75 G(tart participating in)-2.75 E
(the election by sending Of)72 170.2 Q(fer messages.)-.275 E(Of)5.5 E
(fer messages include the router')-.275 E 2.75(sm)-.605 G
(etric to reach the)-2.75 E(RP)72 183.2 Q 2.75(.O)-1.221 G -.275(ff)
-2.75 G(ers are periodically retransmitted with a period of).275 E F1
(Offer_Interval)2.75 E F0(.)A(If a router hears a better of)72 199.8 Q
(fer than its o)-.275 E(wn from a neighbor)-.275 E 2.75(,i)-.44 G 2.75
(ts)-2.75 G(tops participating in the election)-2.75 E(for a period of)
72 212.8 Q F1(Election_Robustness * Offer_Interval)2.75 E F0 2.75(.I)C
2.75(fd)-2.75 G(uring this period no)-2.75 E
(winner is elected, then the router restarts the election from the be)72
225.8 Q(ginning. If a router recei)-.165 E -.165(ve)-.275 G 2.75(sa).165
G(n)-2.75 E(of)72 238.8 Q(fer with w)-.275 E(orse metrics than its o)
-.11 E(wn, then it restarts the election from the be)-.275 E(ginning.)
-.165 E(The result should be that all routers e)72 255.4 Q
(xcept the best candidate stop adv)-.165 E(ertising their of)-.165 E
(fers.)-.275 E 2.75(Ar)72 272 S
(outer assumes the role of the DF after ha)-2.75 E(ving adv)-.22 E
(ertised its metrics)-.165 E F1(Election_Robustness)72 285 Q F0
(times without recei)2.75 E(ving an)-.275 E 2.75(yo)-.165 G -.275(ff)
-2.75 G(er from an).275 E 2.75(yo)-.165 G(ther neighbor)-2.75 E 2.75(.A)
-.605 G 2.75(tt)-2.75 G(hat)-2.75 E(point it transmits a W)72 298 Q
(inner message which declares to e)-.44 E -.165(ve)-.275 G
(ry other router on the link the identity).165 E
(of the winner and the metrics it is using.)72 311 Q(Routers hearing a \
winner message stop participating in the election and record the identi\
ty and)72 327.6 Q(metrics of the winner)72 340.6 Q 2.75(.I)-.605 G 2.75
(ft)-2.75 G
(he local metrics are better than those of the winner then the router)
-2.75 E(records the identity of the winner b)72 353.6 Q
(ut reinitiates the election.)-.22 E F2 2.75(3.5.2.2. Loser)72 383.2 R
(Metric Changes)2.75 E F0(Whene)72 399.8 Q -.165(ve)-.275 G 2.75(rt).165
G(he unicast metric to a RP changes for a non-DF router to a v)-2.75 E
(alue that is better than that)-.275 E(pre)72 412.8 Q(viously adv)-.275
E(ertised by the acting DF)-.165 E 2.75(,t)-.88 G(he router with the ne)
-2.75 E 2.75(wm)-.275 G(etric should tak)-2.75 E 2.75(ea)-.11 G
(ction to)-2.75 E -2.365 -.275(ev e)72 425.8 T(ntually assume forw).275
E(arding responsibility)-.11 E 2.75(.A)-.715 G
(fter the metric change is detected, the non-DF)-2.75 E
(router with the no)72 438.8 Q 2.75(wb)-.275 G
(etter metric restarts the DF election process by sending Of)-2.75 E
(fer messages with)-.275 E(this ne)72 451.8 Q 2.75(wm)-.275 G
(etric. If no response is recei)-2.75 E -.165(ve)-.275 G 2.75(da).165 G
(fter)-2.75 E F1(Election_Robustness)2.75 E F0(retransmissions, the)2.75
E(router assumes the role of the DF follo)72 464.8 Q(wing the usual W)
-.275 E(inner announcement procedure.)-.44 E(Upon receipt of an of)72
481.4 Q(fer that is w)-.275 E
(orse than its current metric, the DF will respond with a W)-.11 E
(inner)-.44 E(message declaring its status and adv)72 494.4 Q
(ertising its metric. Upon recei)-.165 E(ving this message, the)-.275 E
(originator of the Of)72 507.4 Q
(fer records the identity of the DF and aborts the election.)-.275 E
(Upon receipt of an of)72 524 Q(fer that is better than its current met\
ric, the DF records the identity and)-.275 E(metrics of the of)72 537 Q
(fering router and responds with a Back)-.275 E(of)-.11 E 2.75(fm)-.275
G(essage. This instructs the of)-2.75 E(fering)-.275 E
(router to hold of)72 550 Q 2.75(ff)-.275 G(or a short period of time w\
hile the unicast routing stabilises. The Back)-2.75 E(of)-.11 E(f)-.275
E(message includes the of)72 563 Q(fering router')-.275 E 2.75(sn)-.605
G .55 -.275(ew m)-2.75 H(etric and address.).275 E
(All routers on the link who ha)5.5 E -.165(ve)-.22 G(pending of)72 576
Q(fers with metrics w)-.275 E(orse than those in the back)-.11 E(of)-.11
E 2.75(fm)-.275 G(essage \(including the original)-2.75 E(of)72 589 Q
(fering router\) will hold further of)-.275 E
(fers for a period of time de\214ned in the Back)-.275 E(of)-.11 E 2.75
(fm)-.275 G(essage.)-2.75 E(If during the)72 605.6 Q F1(Backoff_Period)
2.75 E F0 2.75(,at)C(hird router sends a ne)-2.75 E 2.75(wb)-.275 G
(etter of)-2.75 E(fer)-.275 E 2.75(,t)-.44 G(he Back)-2.75 E(of)-.11 E
2.75(fm)-.275 G(essage is)-2.75 E(repeated for the ne)72 618.6 Q 2.75
(wo)-.275 G -.275(ff)-2.75 G(er and the).275 E F1(Backoff_Period)2.75 E
F0(restarted.)2.75 E(Before the)72 635.2 Q F1(Backoff_Period)2.75 E F0
-.165(ex)2.75 G(pires, the acting DF nominates the router ha).165 E
(ving made the best)-.22 E(of)72 648.2 Q(fer as the ne)-.275 E 2.75(wD)
-.275 G 2.75(Fu)-2.75 G(sing a P)-2.75 E(ass message.)-.165 E
(This message includes the IDs and metrics of both the)5.5 E(old and ne)
72 661.2 Q 2.75(wD)-.275 G 2.75(Fs. The)-2.75 F
(old DF stops performing its tasks as soon as the transmission is made.)
2.75 E(The ne)72 674.2 Q 2.75(wD)-.275 G 2.75(Fa)-2.75 G
(ssumes the role of the DF as soon as it recei)-2.75 E -.165(ve)-.275 G
2.75(st).165 G(he P)-2.75 E(ass message. All other routers)-.165 E
(on the link tak)72 687.2 Q 2.75(en)-.11 G(ote of the ne)-2.75 E 2.75
(wD)-.275 G 2.75(Fa)-2.75 G(nd its metric.)-2.75 E(Handle)72 769 Q(y/K)
-.165 E(ouv)-.385 E(elas/Speakman/V)-.165 E 141.16(icisano Section)-.66
F 2.75(3.5.2.2. [P)2.75 F(age 14])-.165 E EP
%%Page: 15 15
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E/F1 11/Times-Bold@0 SF 2.75
(3.5.2.3. W)72 85 R(inner Metric Changes)-.198 E F0(If the DF')72 101.6
Q 2.75(sr)-.605 G(outing metric to reach the RP changes to a w)-2.75 E
(orse v)-.11 E(alue, it sends a set of)-.275 E/F2 11/Courier@0 SF
(Election_Robustness)72 114.6 Q F0(randomly spaced W)2.75 E
(inner messages on the link, adv)-.44 E(ertising the ne)-.165 E(w)-.275
E(metric. Routers who recei)72 127.6 Q .33 -.165(ve t)-.275 H
(his announcement b).165 E(ut ha)-.22 E .33 -.165(ve a b)-.22 H
(etter metric may respond with an).165 E(Of)72 140.6 Q
(fer message which results in the same handof)-.275 E 2.75(fp)-.275 G
(rocedure described abo)-2.75 E -.165(ve)-.165 G 5.5(.A).165 G
(ll routers assume)-5.5 E(the DF has not changed until the)72 153.6 Q
2.75(ys)-.165 G(ee a P)-2.75 E(ass or W)-.165 E
(inner message indicating the change.)-.44 E
(There is no pressure to mak)72 170.2 Q 2.75(et)-.11 G(his handof)-2.75
E 2.75(fq)-.275 G(uickly if the acting DF still has a path to the RP)
-2.75 E 2.75(.T)-1.221 G(he)-2.75 E(old path may no)72 183.2 Q 2.75(wb)
-.275 G 2.75(es)-2.75 G(uboptimal b)-2.75 E(ut it will still w)-.22 E
(ork while the re-election is in progress.)-.11 E
(If the routing metric at the DF changes to a better v)72 199.8 Q
(alue, a single W)-.275 E(inner message is sent)-.44 E(adv)72 212.8 Q
(ertising the ne)-.165 E 2.75(wm)-.275 G(etric.)-2.75 E F1 2.75
(3.5.2.4. W)72 242.4 R(inner Loses P)-.198 E(ath)-.11 E F0(If a router')
72 259 Q 2.75(sR)-.605 G(PF_interf)-2.75 E(ace to the RP switches to be\
 on a link for which it is acting as the DF)-.11 E 2.75(,t)-.88 G(hen)
-2.75 E(it can no longer pro)72 272 Q(vide forw)-.165 E(arding services\
 for that link. It therefore immediately stops being the)-.11 E(DF and \
restarts the election. As its path to the RP is through the link, an in\
\214nite metric is used in)72 285 Q(the Of)72 298 Q
(fer message it sends.)-.275 E(Note: At this stage the old DF will ha)72
314.6 Q .33 -.165(ve a n)-.22 H .55 -.275(ew R).165 H
(PF neighbor on the link \(indicated by unicast).275 E
(routing\) which it could use in a P)72 327.6 Q(ass message b)-.165 E
(ut this adds unnecessary complication to the)-.22 E(election process.)
72 340.6 Q F1 2.75(3.5.2.5. Late)72 370.2 R(Router Starting Up)2.75 E F0
2.75(Al)72 386.8 S(ate router starting up after the DF election process\
 has completed will ha)-2.75 E .33 -.165(ve n)-.22 H 2.75(oi).165 G
(mmediate)-2.75 E(kno)72 399.8 Q
(wledge of the election outcome. As a result, it will start adv)-.275 E
(ertising its metric in Of)-.165 E(fer)-.275 E(messages. As soon as thi\
s happens, the currently elected DF will respond with a W)72 412.8 Q
(inner message)-.44 E(if its metric is better than the metric in the Of)
72 425.8 Q(fer message, or with a Back)-.275 E(of)-.11 E 2.75(fm)-.275 G
(essage if its metric)-2.75 E -.11(wo)72 438.8 S
(rse than the metric in the Of).11 E(fer message.)-.275 E F1 2.75
(3.5.2.6. W)72 468.4 R(inner Dies)-.198 E F0(Whene)72 485 Q -.165(ve)
-.275 G 2.75(rt).165 G(he DF dies, a ne)-2.75 E 2.75(wD)-.275 G 2.75(Fh)
-2.75 G(as to be elected. The speed at which this can be achie)-2.75 E
-.165(ve)-.275 G(d).165 E(depends on whether there are an)72 498 Q 2.75
(yd)-.165 G -.275(ow)-2.75 G(nstream routers on the link.).275 E
(If there are do)72 514.6 Q(wnstream routers, typically their RPF_neigh\
bor as reported by the MRIB before the)-.275 E
(DF dies will be the DF itself. The)72 527.6 Q 2.75(yw)-.165 G
(ill therefore notice either a change in the metric for the route)-2.75
E(to the RP or a change in RPF_neighbor a)72 540.6 Q -.11(wa)-.165 G
2.75(yf).11 G(rom the DF and will restart the election by)-2.75 E
(transmitting Of)72 553.6 Q(fer messages.)-.275 E
(If according to the MRIB the RP is no)5.5 E 2.75(wr)-.275 G
(eachable through the same)-2.75 E(link via another upstream router)72
566.6 Q 2.75(,a)-.44 G 2.75(ni)-2.75 G
(n\214nite metric will be used in the Of)-2.75 E(fer)-.275 E(.)-.605 E
(If no do)72 583.2 Q(wnstream routers are present, the only w)-.275 E
(ay for other upstream routers to detect a DF)-.11 E -.11(fa)72 596.2 S
(ilure is by the timeout of the PIM neighbor information, which will ta\
k).11 E 2.75(es)-.11 G(igni\214cantly longer)-2.75 E(.)-.605 E F1 2.75
(3.5.3. Election)72 625.8 R(Pr)2.75 E(otocol Speci\214cation)-.198 E F0
(This section pro)72 642.4 Q(vides the de\214niti)-.165 E .33 -.165
(ve s)-.275 H(peci\214cation for the DF election process. If an).165 E
2.75(yd)-.165 G(iscrepanc)-2.75 E(y)-.165 E -.165(ex)72 655.4 S(ists be\
tween section 3.5.2 and this section, the speci\214cation in this secti\
on is to be assumed).165 E(correct.)72 668.4 Q(Handle)72 769 Q(y/K)-.165
E(ouv)-.385 E(elas/Speakman/V)-.165 E 149.41(icisano Section)-.66 F 2.75
(3.5.3. [P)2.75 F(age 15])-.165 E EP
%%Page: 16 16
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E/F1 11/Times-Bold@0 SF 2.75
(3.5.3.1. Election)72 85 R(State)2.75 E F0(The DF election state is mai\
ntained per RP for each multicast enabled interf)72 101.6 Q
(ace on the router as)-.11 E(introduced in section 3.1:)72 114.6 Q
(The state machine has the follo)72 131.2 Q(wing four states:)-.275 E/F2
11/Courier@0 SF(Offer)97 147.8 Q F0
(Initial election state. When in the Of)122 160.8 Q
(fer state a router thinks it can e)-.275 E -.165(ve)-.275 G
(ntually become).165 E(the winner and periodically generates Of)122
173.8 Q(fer messages.)-.275 E F2(Lose)97 190.4 Q F0
(In this state the router kno)122 203.4 Q(ws that there either is a dif)
-.275 E(ferent election winner or that no)-.275 E
(router on the link has a path to the RP)122 216.4 Q(.)-1.221 E F2
(Winner)97 233 Q F0(The router is the acting DF without an)122 246 Q
2.75(yc)-.165 G(ontest.)-2.75 E F2(Backoff)97 262.6 Q F0
(The router is the acting DF b)122 275.6 Q
(ut another router has made a bid to tak)-.22 E 2.75(eo)-.11 G -.165(ve)
-2.915 G -.605(r.).165 G(In the state machine a router is considered to\
 be an acting DF if it is in the)72 292.2 Q F2(Win)2.75 E F0(or)2.75 E
F2(Backoff)2.75 E F0(states.)72 305.2 Q
(The operation of the election protocol mak)72 321.8 Q(es use of the v)
-.11 E(ariables and timers described belo)-.275 E(w:)-.275 E F2
(Acting DF information)97 338.4 Q F0
(Used to store the election winner who is the currently acting DF)122
351.4 Q(.)-.88 E F2(Election-Timer \(DFT\))97 368 Q F0
(Used to schedule transmission of Of)122 381 Q(fer)-.275 E 2.75(,W)-.44
G(inner and P)-3.19 E(ass messages.)-.165 E F2(Offer-Count \(OC\))97
397.6 Q F0(Used to maintain the number of times an Of)122 410.6 Q
(fer or W)-.275 E(inner message has been)-.44 E(transmitted.)122 423.6 Q
F2(Best-Offer)97 440.2 Q F0
(Used by the DF to record who has made the last of)122 453.2 Q
(fer for sending the P)-.275 E(ass message.)-.165 E F1 2.75
(3.5.3.2. Election)72 482.8 R(Messages)2.75 E F0
(The election process uses the follo)72 499.4 Q
(wing PIM control messages the pack)-.275 E(et format of which is)-.11 E
(described in section 3.7:)72 512.4 Q F2(Offer \(OfferingID, Metric\))97
529 Q F0(Sent by routers that belie)122 542 Q .33 -.165(ve t)-.275 H(he)
.165 E 2.75(yh)-.165 G -2.475 -.22(av e)-2.75 H 2.75(ab)2.97 G
(etter metric to the RP than the metric that has)-2.75 E(been on of)122
555 Q(fer so f)-.275 E(ar)-.11 E(.)-.605 E F2
(Winner \(DF-ID, DF-Metric\))97 571.6 Q F0(Sent by a router when assumi\
ng the role of the DF or when re-asserting in response to)122 584.6 Q
-.11(wo)122 597.6 S(rse of).11 E(fers.)-.275 E F2
(Backoff \(DF-ID, DF-Metric, OfferingID, OfferMetric,)97 614.2 Q
(BackoffInterval\))122 627.2 Q F0(Used by the DF to ackno)122 640.2 Q
(wledge better of)-.275 E
(fers. It instructs other routers with equal or)-.275 E -.11(wo)122
653.2 S(rse of).11 E(fers to w)-.275 E
(ait till the DF passes responsibility to the sender of the of)-.11 E
(fer)-.275 E(.)-.605 E F2
(Pass \(Old-DF-ID, Old-DF-Metric, New-DF-ID, New-DF-Metric\))97 669.8 Q
F0(Used by the old DF to pass forw)122 682.8 Q
(arding responsibility to a router that has pre)-.11 E(viously)-.275 E
(made an of)122 695.8 Q(fer)-.275 E 5.5(.T)-.605 G
(he Old-DF-Metric is the current metric of the DF at the time the pass)
-5.5 E(is sent.)122 708.8 Q(Handle)72 769 Q(y/K)-.165 E(ouv)-.385 E
(elas/Speakman/V)-.165 E 141.16(icisano Section)-.66 F 2.75(3.5.3.2. [P)
2.75 F(age 16])-.165 E EP
%%Page: 17 17
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E/F1 11/Times-Bold@0 SF 2.75
(3.5.3.3. Election)72 85 R(Ev)2.75 E(ents)-.11 E F0
(During protocol operation, in addition to the e)72 101.6 Q
(xpiration of the)-.165 E/F2 11/Courier@0 SF(Election-Timer)2.75 E F0
(and the)2.75 E(reception of the four control messages, the follo)72
114.6 Q(wing e)-.275 E -.165(ve)-.275 G(nts can tak).165 E 2.75(ep)-.11
G(lace:)-2.75 E 7.15<8344>97 131.2 S(isco)-7.15 E -.165(ve)-.165 G
(ry of ne).165 E 2.75(wR)-.275 G(P)-2.75 E 7.15<834d>97 147.8 S
(etric reported by the MRIB to reach the RP changes)-7.15 E 7.15<8344>97
164.4 S 2.75(Fl)-7.15 G(oses path to RP)-2.75 E 7.15<8344>97 181 S
(etection of DF f)-7.15 E(ailure)-.11 E F1 2.75(3.5.3.4. Election)72 207
R(Notation)2.75 E F0
(The DF election state machine description uses the follo)72 223.6 Q
(wing notation in addition to the)-.275 E
(pseudocode notation described earlier in this spec.)72 236.6 Q 8.162
(?= denotes)97 253.2 R(the operation of lo)2.75 E
(wering a timer to a ne)-.275 E 2.75(wv)-.275 G
(alue. If the timer is not running)-3.025 E
(then it is started using the ne)119 266.2 Q 2.75(wv)-.275 G
(alue. If the timer is running with an e)-3.025 E(xpiration lo)-.165 E
(wer)-.275 E(than the ne)119 279.2 Q 2.75(wv)-.275 G
(alue, then the timer is not altered.)-3.025 E
(When a control message is recei)72 295.8 Q -.165(ve)-.275 G 2.75(da)
.165 G(nd actions are speci\214ed on a condition that metrics are)-2.75
E(Better or W)72 308.8 Q(orse the comparison must be performed as follo)
-.88 E(ws:)-.275 E 7.15<834f>97 325.4 S 2.75(nr)-7.15 G(eceipt of an Of)
-2.75 E(fer or W)-.275 E
(inner message compare our current metrics for the DF with)-.44 E
(the metrics adv)108 338.4 Q(ertised for the sender of the message.)
-.165 E 7.15<834f>97 355 S 2.75(nr)-7.15 G(eceipt of a Back)-2.75 E(of)
-.11 E 2.75(fo)-.275 G 2.75(rP)-2.75 G
(ass message compare our current metrics for the DF with the)-2.915 E
(metrics adv)108 368 Q(ertised for the tar)-.165 E(get of the message.)
-.198 E(When an action of "set DF to Sender or T)72 384.6 Q(ar)-.88 E
(get" is encountered during receipt of a W)-.198 E(inner)-.44 E 2.75(,P)
-.44 G(ass or)-2.915 E(Back)72 397.6 Q(of)-.11 E 2.75(fm)-.275 G
(essage it means the follo)-2.75 E(wing:)-.275 E 7.15<834f>97 414.2 S
2.75(nr)-7.15 G(eceipt of a W)-2.75 E(inner message set the DF to be th\
e originator of the message and record)-.44 E(its metrics.)108 427.2 Q
7.15<834f>97 443.8 S 2.75(nr)-7.15 G(eceipt of a P)-2.75 E
(ass message set the DF to be the tar)-.165 E
(get of the message and record its)-.198 E(metrics.)108 456.8 Q 7.15
<834f>97 473.4 S 2.75(nr)-7.15 G(eceipt of a Back)-2.75 E(of)-.11 E 2.75
(fm)-.275 G
(essage set the DF to be the originator of the message and record)-2.75
E(its metrics.)108 486.4 Q(Handle)72 769 Q(y/K)-.165 E(ouv)-.385 E
(elas/Speakman/V)-.165 E 141.16(icisano Section)-.66 F 2.75(3.5.3.5. [P)
2.75 F(age 17])-.165 E EP
%%Page: 18 18
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E/F1 11/Times-Bold@0 SF 2.75
(3.5.3.5. Election)72 85 R(State T)2.75 E(ransitions)-.814 E 6 218 396
596 -307.631 463 108 415.231 PBEGIN
%%BeginDocument: dfelect.ps
%%Creator: idraw
%%DocumentFonts: Helvetica
%%Pages: 1
%%BoundingBox: 6 218 602 681
%%EndComments

%%BeginIdrawPrologue
/arrowhead {
0 begin
transform originalCTM itransform
/taily exch def
/tailx exch def
transform originalCTM itransform
/tipy exch def
/tipx exch def
/dy tipy taily sub def
/dx tipx tailx sub def
/angle dx 0 ne dy 0 ne or { dy dx atan } { 90 } ifelse def
gsave
originalCTM setmatrix
tipx tipy translate
angle rotate
newpath
arrowHeight neg arrowWidth 2 div moveto
0 0 lineto
arrowHeight neg arrowWidth 2 div neg lineto
patternNone not {
originalCTM setmatrix
/padtip arrowHeight 2 exp 0.25 arrowWidth 2 exp mul add sqrt brushWidth mul
arrowWidth div def
/padtail brushWidth 2 div def
tipx tipy translate
angle rotate
padtip 0 translate
arrowHeight padtip add padtail add arrowHeight div dup scale
arrowheadpath
ifill
} if
brushNone not {
originalCTM setmatrix
tipx tipy translate
angle rotate
arrowheadpath
istroke
} if
grestore
end
} dup 0 9 dict put def

/arrowheadpath {
newpath
arrowHeight neg arrowWidth 2 div moveto
0 0 lineto
arrowHeight neg arrowWidth 2 div neg lineto
} def

/leftarrow {
0 begin
y exch get /taily exch def
x exch get /tailx exch def
y exch get /tipy exch def
x exch get /tipx exch def
brushLeftArrow { tipx tipy tailx taily arrowhead } if
end
} dup 0 4 dict put def

/rightarrow {
0 begin
y exch get /tipy exch def
x exch get /tipx exch def
y exch get /taily exch def
x exch get /tailx exch def
brushRightArrow { tipx tipy tailx taily arrowhead } if
end
} dup 0 4 dict put def

%%EndIdrawPrologue

/arrowHeight 8 def
/arrowWidth 4 def

/IdrawDict 51 dict def
IdrawDict begin

/reencodeISO {
dup dup findfont dup length dict begin
{ 1 index /FID ne { def }{ pop pop } ifelse } forall
/Encoding ISOLatin1Encoding def
currentdict end definefont
} def

/ISOLatin1Encoding [
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/space/exclam/quotedbl/numbersign/dollar/percent/ampersand/quoteright
/parenleft/parenright/asterisk/plus/comma/minus/period/slash
/zero/one/two/three/four/five/six/seven/eight/nine/colon/semicolon
/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N
/O/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright
/asciicircum/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m
/n/o/p/q/r/s/t/u/v/w/x/y/z/braceleft/bar/braceright/asciitilde
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/dotlessi/grave/acute/circumflex/tilde/macron/breve
/dotaccent/dieresis/.notdef/ring/cedilla/.notdef/hungarumlaut
/ogonek/caron/space/exclamdown/cent/sterling/currency/yen/brokenbar
/section/dieresis/copyright/ordfeminine/guillemotleft/logicalnot
/hyphen/registered/macron/degree/plusminus/twosuperior/threesuperior
/acute/mu/paragraph/periodcentered/cedilla/onesuperior/ordmasculine
/guillemotright/onequarter/onehalf/threequarters/questiondown
/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE/Ccedilla
/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute
/Thorn/germandbls/agrave/aacute/acircumflex/atilde/adieresis
/aring/ae/ccedilla/egrave/eacute/ecircumflex/edieresis/igrave
/iacute/icircumflex/idieresis/eth/ntilde/ograve/oacute/ocircumflex
/otilde/odieresis/divide/oslash/ugrave/uacute/ucircumflex/udieresis
/yacute/thorn/ydieresis
] def
/Helvetica reencodeISO def

/none null def
/numGraphicParameters 17 def
/stringLimit 65535 def

/Begin {
save
numGraphicParameters dict begin
} def

/End {
end
restore
} def

/SetB {
dup type /nulltype eq {
pop
false /brushRightArrow idef
false /brushLeftArrow idef
true /brushNone idef
} {
/brushDashOffset idef
/brushDashArray idef
0 ne /brushRightArrow idef
0 ne /brushLeftArrow idef
/brushWidth idef
false /brushNone idef
} ifelse
} def

/SetCFg {
/fgblue idef
/fggreen idef
/fgred idef
} def

/SetCBg {
/bgblue idef
/bggreen idef
/bgred idef
} def

/SetF {
/printSize idef
/printFont idef
} def

/SetP {
dup type /nulltype eq {
pop true /patternNone idef
} {
dup -1 eq {
/patternGrayLevel idef
/patternString idef
} {
/patternGrayLevel idef
} ifelse
false /patternNone idef
} ifelse
} def

/BSpl {
0 begin
storexyn
newpath
n 1 gt {
0 0 0 0 0 0 1 1 true subspline
n 2 gt {
0 0 0 0 1 1 2 2 false subspline
1 1 n 3 sub {
/i exch def
i 1 sub dup i dup i 1 add dup i 2 add dup false subspline
} for
n 3 sub dup n 2 sub dup n 1 sub dup 2 copy false subspline
} if
n 2 sub dup n 1 sub dup 2 copy 2 copy false subspline
patternNone not brushLeftArrow not brushRightArrow not and and { ifill } if
brushNone not { istroke } if
0 0 1 1 leftarrow
n 2 sub dup n 1 sub dup rightarrow
} if
end
} dup 0 4 dict put def

/Circ {
newpath
0 360 arc
patternNone not { ifill } if
brushNone not { istroke } if
} def

/CBSpl {
0 begin
dup 2 gt {
storexyn
newpath
n 1 sub dup 0 0 1 1 2 2 true subspline
1 1 n 3 sub {
/i exch def
i 1 sub dup i dup i 1 add dup i 2 add dup false subspline
} for
n 3 sub dup n 2 sub dup n 1 sub dup 0 0 false subspline
n 2 sub dup n 1 sub dup 0 0 1 1 false subspline
patternNone not { ifill } if
brushNone not { istroke } if
} {
Poly
} ifelse
end
} dup 0 4 dict put def

/Elli {
0 begin
newpath
4 2 roll
translate
scale
0 0 1 0 360 arc
patternNone not { ifill } if
brushNone not { istroke } if
end
} dup 0 1 dict put def

/Line {
0 begin
2 storexyn
newpath
x 0 get y 0 get moveto
x 1 get y 1 get lineto
brushNone not { istroke } if
0 0 1 1 leftarrow
0 0 1 1 rightarrow
end
} dup 0 4 dict put def

/MLine {
0 begin
storexyn
newpath
n 1 gt {
x 0 get y 0 get moveto
1 1 n 1 sub {
/i exch def
x i get y i get lineto
} for
patternNone not brushLeftArrow not brushRightArrow not and and { ifill } if
brushNone not { istroke } if
0 0 1 1 leftarrow
n 2 sub dup n 1 sub dup rightarrow
} if
end
} dup 0 4 dict put def

/Poly {
3 1 roll
newpath
moveto
-1 add
{ lineto } repeat
closepath
patternNone not { ifill } if
brushNone not { istroke } if
} def

/Rect {
0 begin
/t exch def
/r exch def
/b exch def
/l exch def
newpath
l b moveto
l t lineto
r t lineto
r b lineto
closepath
patternNone not { ifill } if
brushNone not { istroke } if
end
} dup 0 4 dict put def

/Text {
ishow
} def

/idef {
dup where { pop pop pop } { exch def } ifelse
} def

/ifill {
0 begin
gsave
patternGrayLevel -1 ne {
fgred bgred fgred sub patternGrayLevel mul add
fggreen bggreen fggreen sub patternGrayLevel mul add
fgblue bgblue fgblue sub patternGrayLevel mul add setrgbcolor
eofill
} {
eoclip
originalCTM setmatrix
pathbbox /t exch def /r exch def /b exch def /l exch def
/w r l sub ceiling cvi def
/h t b sub ceiling cvi def
/imageByteWidth w 8 div ceiling cvi def
/imageHeight h def
bgred bggreen bgblue setrgbcolor
eofill
fgred fggreen fgblue setrgbcolor
w 0 gt h 0 gt and {
l w add b translate w neg h scale
w h true [w 0 0 h neg 0 h] { patternproc } imagemask
} if
} ifelse
grestore
end
} dup 0 8 dict put def

/istroke {
gsave
brushDashOffset -1 eq {
[] 0 setdash
1 setgray
} {
brushDashArray brushDashOffset setdash
fgred fggreen fgblue setrgbcolor
} ifelse
brushWidth setlinewidth
originalCTM setmatrix
stroke
grestore
} def

/ishow {
0 begin
gsave
fgred fggreen fgblue setrgbcolor
/fontDict printFont printSize scalefont dup setfont def
/descender fontDict begin 0 [FontBBox] 1 get FontMatrix end
transform exch pop def
/vertoffset 1 printSize sub descender sub def {
0 vertoffset moveto show
/vertoffset vertoffset printSize sub def
} forall
grestore
end
} dup 0 3 dict put def
/patternproc {
0 begin
/patternByteLength patternString length def
/patternHeight patternByteLength 8 mul sqrt cvi def
/patternWidth patternHeight def
/patternByteWidth patternWidth 8 idiv def
/imageByteMaxLength imageByteWidth imageHeight mul
stringLimit patternByteWidth sub min def
/imageMaxHeight imageByteMaxLength imageByteWidth idiv patternHeight idiv
patternHeight mul patternHeight max def
/imageHeight imageHeight imageMaxHeight sub store
/imageString imageByteWidth imageMaxHeight mul patternByteWidth add string def
0 1 imageMaxHeight 1 sub {
/y exch def
/patternRow y patternByteWidth mul patternByteLength mod def
/patternRowString patternString patternRow patternByteWidth getinterval def
/imageRow y imageByteWidth mul def
0 patternByteWidth imageByteWidth 1 sub {
/x exch def
imageString imageRow x add patternRowString putinterval
} for
} for
imageString
end
} dup 0 12 dict put def

/min {
dup 3 2 roll dup 4 3 roll lt { exch } if pop
} def

/max {
dup 3 2 roll dup 4 3 roll gt { exch } if pop
} def

/midpoint {
0 begin
/y1 exch def
/x1 exch def
/y0 exch def
/x0 exch def
x0 x1 add 2 div
y0 y1 add 2 div
end
} dup 0 4 dict put def

/thirdpoint {
0 begin
/y1 exch def
/x1 exch def
/y0 exch def
/x0 exch def
x0 2 mul x1 add 3 div
y0 2 mul y1 add 3 div
end
} dup 0 4 dict put def

/subspline {
0 begin
/movetoNeeded exch def
y exch get /y3 exch def
x exch get /x3 exch def
y exch get /y2 exch def
x exch get /x2 exch def
y exch get /y1 exch def
x exch get /x1 exch def
y exch get /y0 exch def
x exch get /x0 exch def
x1 y1 x2 y2 thirdpoint
/p1y exch def
/p1x exch def
x2 y2 x1 y1 thirdpoint
/p2y exch def
/p2x exch def
x1 y1 x0 y0 thirdpoint
p1x p1y midpoint
/p0y exch def
/p0x exch def
x2 y2 x3 y3 thirdpoint
p2x p2y midpoint
/p3y exch def
/p3x exch def
movetoNeeded { p0x p0y moveto } if
p1x p1y p2x p2y p3x p3y curveto
end
} dup 0 17 dict put def

/storexyn {
/n exch def
/y n array def
/x n array def
n 1 sub -1 0 {
/i exch def
y i 3 2 roll put
x i 3 2 roll put
} for
} def

/SSten {
fgred fggreen fgblue setrgbcolor
dup true exch 1 0 0 -1 0 6 -1 roll matrix astore
} def

/FSten {
dup 3 -1 roll dup 4 1 roll exch
newpath
0 0 moveto
dup 0 exch lineto
exch dup 3 1 roll exch lineto
0 lineto
closepath
bgred bggreen bgblue setrgbcolor
eofill
SSten
} def

/Rast {
exch dup 3 1 roll 1 0 0 -1 0 6 -1 roll matrix astore
} def


%I Idraw 10 Grid 29.6207 29.6207 


Begin
%I b u
%I cfg u
%I cbg u
%I f u
%I p u
%I t
[ 0.956649 0 0 0.956649 0 0 ] concat
/originalCTM matrix currentmatrix def

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -138.048 89.0308 ] concat
%I 4
472 536
538 472
583 453
604 425
4 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -33.0114 78.027 ] concat
%I 4
371 283
529 259
546 305
523 406
4 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -15.0052 53.0183 ] concat
%I 3
495 431
459 332
355 317
3 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 1 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -8.00277 128.045 ] concat
%I 5
286 232
98 171
28 194
16 330
100 370
5 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -17.0059 53.0183 ] concat
%I 3
342 327
392 403
470 441
3 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -17.0059 53.0183 ] concat
%I 4
353 586
476 603
531 569
509 464
4 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -9.00307 95.0328 ] concat
%I 4
146 390
180 290
266 297
295 286
4 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -58.0201 89.0308 ] concat
%I 5
161 399
128 335
145 286
192 275
332 280
5 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -9.00307 95.0328 ] concat
%I 3
135 389
107 281
286 280
3 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -41.0142 84.029 ] concat
%I 3
320 540
232 492
185 429
3 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -41.0142 84.029 ] concat
%I 3
316 548
188 523
167 434
3 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 1 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -58.0201 89.0308 ] concat
%I 5
153 404
83 352
85 275
178 258
333 273
5 BSpl
%I 1
End

Begin %I Elli
%I b 65535
0 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 19.4931 205.005 ] concat
%I
209 592 64 32 Elli
End

Begin %I Elli
%I b 65535
0 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 378.55 205.005 ] concat
%I
209 592 64 32 Elli
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 113.995 504.507 ] concat
%I
[
(Lose)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 476.12 504.506 ] concat
%I
[
(Win)
] Text
End

Begin %I Elli
%I b 65535
0 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 202.49 337.051 ] concat
%I
209 592 64 32 Elli
End

Begin %I Elli
%I b 65535
0 0 0 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
1 SetP
%I t
[ 0.5 -0 -0 0.5 202.49 70.9582 ] concat
%I
209 592 64 32 Elli
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 291.056 636.552 ] concat
%I
[
(Backoff)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 295.057 369.459 ] concat
%I
[
(Offer)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 15.9612 577.531 ] concat
%I
[
(Recv better)
(Pass / Win / Backoff)
(DF = Sender or Target)
] Text
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -65.0225 87.0301 ] concat
%I 5
390 266
408 219
425 228
421 248
396 268
5 BSpl
%I 1
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 540.143 560.525 ] concat
%I
[
(Recv worse)
(Offer)
(Send Winner)
] Text
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -7.00247 54.0187 ] concat
%I 5
322 594
336 617
313 638
297 619
308 595
5 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -7.00247 54.0187 ] concat
%I 3
483 461
438 566
347 578
3 BSpl
%I 1
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 164.011 461.492 ] concat
%I
[
(Recv better)
(Pass / Win)
(DF = Sender or Target)
] Text
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -42.0146 123.043 ] concat
%I 5
333 230
290 175
292 153
304 161
339 229
5 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -42.0146 123.043 ] concat
%I 5
342 227
321 156
331 147
341 156
347 226
5 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -42.0146 123.043 ] concat
%I 5
353 227
369 159
378 157
382 170
357 229
5 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 98.0334 145.051 ] concat
%I 4
200 237
161 290
76 309
47 343
4 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 98.0334 145.051 ] concat
%I 3
57 350
172 317
205 240
3 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -17.0059 53.0183 ] concat
%I 2
487 433
353 323
2 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -15.0052 53.0183 ] concat
%I 3
467 451
312 471
171 455
3 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -15.0052 53.0183 ] concat
%I 3
324 562
332 413
328 330
3 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -8.00277 128.045 ] concat
%I 5
289 228
252 202
254 194
266 194
293 226
5 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 3.00103 95.0328 ] concat
%I 5
102 419
100 447
74 452
71 432
94 417
5 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -40.0138 74.0256 ] concat
%I 5
539 440
557 471
576 470
573 459
546 439
5 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -80.0277 57.0197 ] concat
%I 5
593 450
618 460
629 449
619 440
596 444
5 BSpl
%I 1
End

Begin %I BSpl
%I b 65535
0 0 1 [] 0 SetB
%I cfg Black
0 0 0 SetCFg
%I cbg White
1 1 1 SetCBg
%I p
0 SetP
%I t
[ 1.00035 -0 -0 1.00035 -80.0277 57.0197 ] concat
%I 5
590 434
614 417
607 407
595 411
585 431
5 BSpl
%I 1
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 56.9753 454.49 ] concat
%I
[
(Recv worse)
(Offer)
(DFT = OPlow)
(OC = 0)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 106.992 422.479 ] concat
%I
[
(Recv better)
(Offer)
(DFT = OPhigh)
(OC = 0)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 191.021 421.478 ] concat
%I
[
(DF failure)
(DF = None)
(DFT = OPlow)
(OC = 0)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 56.9756 366.459 ] concat
%I
[
(DFT Expires &&)
(OC == Robustness &&)
(no path to RP)
(DF = None)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 29.9661 321.444 ] concat
%I
[
(Recv worse or for us)
(Pass / Win / Backoff)
(DF = Sender or Target)
(DFT = OPlow)
(OC = 0)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 193.022 325.445 ] concat
%I
[
(Recv better)
(Offer)
(DFT = OPhigh)
(OC = 0)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 179.017 279.429 ] concat
%I
[
(DFT Expires &&)
(C < Robustness)
(Send Offer)
(DFT = OPlow)
(OC = OC + 1)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 364.081 330.445 ] concat
%I
[
(Recv better or for us)
(Backoff)
(DFT = BOper + OPlow)
(OC = 0)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 330.07 521.512 ] concat
%I
[
(Recv better)
(Pass / Win / Backoff)
(DF = Sender or Target)
(Stop DFT)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 332.07 447.486 ] concat
%I
[
(Recv for us)
(Pass)
(Stop DFT)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 549.145 517.51 ] concat
%I
[
(Metric changes)
(and is now worse)
(DFT = OPlow)
(OC = 0)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 524.137 461.491 ] concat
%I
[
(DFT Expires &&)
(C < Robustness)
(Send Winner)
(DFT = OPlow)
(OC = OC + 1)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 231.035 708.578 ] concat
%I
[
(Recv better)
(Offer)
(Best = Sender)
(Send Backoff)
(DFT = BOper)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 392.091 566.528 ] concat
%I
[
(Recv worse)
(Offer)
(Send Winner)
(Stop DFT)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 487.124 612.543 ] concat
%I
[
(Metric changes)
(and and now is)
(better than Best)
(Stop DFT)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 261.049 268.425 ] concat
%I
[
(Recv worse)
(Offer)
(DFT ?= OPlow)
(OC = 0)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 337.072 278.428 ] concat
%I
[
(Recv worse)
(Pass / Win / Backoff)
(DF = Sender or Target)
(DFT ?= OPlow)
(OC = 0)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 134.002 638.552 ] concat
%I
[
(Recv better)
(Pass / Win / Backoff)
(DF = Sender or Target)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 392.091 416.475 ] concat
%I
[
(Recv worse or for us)
(Pass / Win / Backoff)
(DF = Sender or Target)
(DFT = OPlow)
(OC = 0)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 404.096 631.551 ] concat
%I
[
(Recv better)
(Offer)
(Best = Sender)
(Send Backoff)
(DFT = BOper)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 167.013 576.531 ] concat
%I
[
(DFT Expires)
(Send Pass)
(DF=Best)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 254.043 596.538 ] concat
%I
[
(Recv worse or for us)
(Pass / Win / Backoff)
(DF = Sender or Target)
(DFT = OPlow)
(OC = 0)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 402.095 465.493 ] concat
%I
[
(No path to RP)
(DF = None)
(DFT = OPlow)
(OC = 0)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 460.114 378.462 ] concat
%I
[
(DFT Expires &&)
(OC == Robustness &&)
(have path to RP)
(Send Winner)
] Text
End

Begin %I Text
%I cfg Black
0 0 0 SetCFg
%I f -adobe-helvetica-medium-r-normal--10-100-75-75-p-56-iso8859-1
Helvetica 10 SetF
%I t
[ 1 0 0 1 232.036 500.505 ] concat
%I
[
(Metric changes)
(and now is)
(better than DF)
(DFT = OPlow)
(OC = 0)
] Text
End

End %I eop

showpage


end
%%EndDocument
end PEND(Figur)176.86 441.231 Q 2.75(e3)-.198 G 2.75(:D)-2.75 G
(esignated F)-2.75 E(orwarder election state-machine)-.275 E F0(In tab)
72 463.831 Q(ular form, the state machine is:)-.22 E .44 LW 503.992
474.581 72 474.581 DL F1(Ev)316.034 484.831 Q(ent)-.11 E 503.992 489.581
148.589 489.581 DL(Pr)83.755 498.831 Q .33 -.165(ev S)-.198 H(tate).165
E(Recv better P)167.222 499.831 Q(ass /)-.11 E -.198(Wi)167.222 512.831
S(n).198 E(Recv better)285.768 499.831 Q(Back)285.768 512.831 Q(off)
-.165 E(Recv better Offer)405.854 499.831 Q 503.992 517.581 72 517.581
DL 503.992 519.581 72 519.581 DL F0(-> Lose)167.222 529.831 Q 116.423
(--)84.545 G F1(Offer)83.755 542.831 Q F0(DF = Sender or)167.222 542.831
Q -.88(Ta)167.222 555.831 S -.198(rg).88 G(et; Stop DFT).198 E
(DFT = BOperiod +)285.768 542.831 Q(OPlo)285.768 555.831 Q(w; OC = 0)
-.275 E(DFT = OPhigh;)405.854 542.831 Q(OC = 0)405.854 555.831 Q 503.992
560.581 72 560.581 DL -116.093 114.883(-- -)167.222 570.831 T 2.75(>O)
-114.883 G -.275(ff)-2.75 G(er).275 E F1(Lose)83.755 583.831 Q F0
(DF = Sender or)167.222 583.831 Q -.88(Ta)167.222 596.831 S -.198(rg).88
G(et).198 E(DF = Sender)285.768 583.831 Q(DFT = OPhigh;)405.854 583.831
Q(OC = 0)405.854 596.831 Q 503.992 601.581 72 601.581 DL(-> Lose)167.222
611.831 Q(-> Lose)84.545 E(-> Back)86.085 E(of)-.11 E(f)-.275 E F1 -.198
(Wi)83.755 631.331 S(n).198 E F0(DF = Sender or)167.222 624.831 Q -.88
(Ta)167.222 637.831 S -.198(rg).88 G(et; Stop DFT).198 E
(DF = Sender; Stop)285.768 624.831 Q(DFT)285.768 637.831 Q
(Set Best to Sender;)405.854 624.831 Q(Send Back)405.854 637.831 Q(of)
-.11 E(f; DFT)-.275 E 2.75(=B)405.854 650.831 S(Operiod)-2.75 E 503.992
655.581 72 655.581 DL(-> Lose)167.222 665.831 Q(-> Lose)84.545 E(-)
86.085 E F1(Back)83.755 685.331 Q(off)-.165 E F0(DF = Sender or)167.222
678.831 Q -.88(Ta)167.222 691.831 S -.198(rg).88 G(et; Stop DFT).198 E
(DF = Sender; Stop)285.768 678.831 Q(DFT)285.768 691.831 Q
(Set Best to Sender;)405.854 678.831 Q(Send Back)405.854 691.831 Q(of)
-.11 E(f; DFT)-.275 E 2.75(=B)405.854 704.831 S(Operiod)-2.75 E 503.992
709.581 72 709.581 DL 388.221 489.581 388.221 709.581 DL 268.135 489.581
268.135 709.581 DL 148.589 474.581 148.589 709.581 DL 150.589 474.581
150.589 709.581 DL 503.992 474.581 503.992 709.581 DL 72 474.581 72
709.581 DL(Handle)72 769 Q(y/K)-.165 E(ouv)-.385 E(elas/Speakman/V)-.165
E 141.16(icisano Section)-.66 F 2.75(3.5.3.5. [P)2.75 F(age 18])-.165 E
EP
%%Page: 19 19
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E .44 LW 503.992 76.75 72 76.75
DL/F1 11/Times-Bold@0 SF(Ev)310.199 87 Q(ent)-.11 E 503.992 91.75
138.864 91.75 DL(Pr)79.865 107.5 Q .33 -.165(ev S)-.198 H(tate).165 E
(Recv Back)151.662 102 Q(off)-.165 E -.275(fo)151.662 115 S 2.75(ru).275
G(s)-2.75 E(Recv P)243.831 102 Q(ass f)-.11 E(or)-.275 E(us)243.831 115
Q(Recv W)333.25 102 Q(orse)-.825 E -.11(Pa)333.25 115 S(ss / W).11 E
(in /)-.198 E(Back)333.25 128 Q(off)-.165 E(Recv w)425.419 102 Q(orse)
-.11 E(Offer)425.419 115 Q 503.992 132.75 72 132.75 DL 503.992 134.75 72
134.75 DL F0 88.506(--)151.662 145 S 2.75(>W)-88.506 G 55.55(in -)-3.19
F(-)88.506 E F1(Offer)79.865 171 Q F0(DFT =)151.662 158 Q(BOperiod +)
151.662 171 Q(OPlo)151.662 184 Q(w; OC = 0)-.275 E(Stop DFT)243.831 158
Q(Set DF to)333.25 158 Q(Sender or)333.25 171 Q -.88(Ta)333.25 184 S
-.198(rg).88 G(et; DFT ?=).198 E(OPlo)333.25 197 Q(w; OC = 0)-.275 E
(DFT ?= OPlo)425.419 158 Q(w;)-.275 E(OC = 0)425.419 171 Q 503.992
201.75 72 201.75 DL(-> Of)151.662 212 Q 53.262(fer ->)-.275 F(Of)2.75 E
50.512(fer ->)-.275 F(Of)2.75 E 53.262(fer ->)-.275 F(Of)2.75 E(fer)
-.275 E F1(Lose)79.865 231.5 Q F0(DF = Sender;)151.662 225 Q(DFT = OPlo)
151.662 238 Q(w;)-.275 E(OC = 0)151.662 251 Q(DF = Sender;)243.831 225 Q
(DFT = OPlo)243.831 238 Q(w;)-.275 E(OC = 0)243.831 251 Q
(DF = Sender or)333.25 225 Q -.88(Ta)333.25 238 S -.198(rg).88 G
(et; DFT =).198 E(OPlo)333.25 251 Q(w; OC = 0)-.275 E(DFT = OPlo)425.419
225 Q(w;)-.275 E(OC = 0)425.419 238 Q 503.992 255.75 72 255.75 DL(-> Of)
151.662 266 Q 53.262(fer ->)-.275 F(Of)2.75 E 50.512(fer ->)-.275 F(Of)
2.75 E 53.262(fer -)-.275 F F1 -.198(Wi)79.865 285.5 S(n).198 E F0
(DF = Sender;)151.662 279 Q(DFT = OPlo)151.662 292 Q(w;)-.275 E(OC = 0)
151.662 305 Q(DF = Sender;)243.831 279 Q(DFT = OPlo)243.831 292 Q(w;)
-.275 E(OC = 0)243.831 305 Q(DF = Sender or)333.25 279 Q -.88(Ta)333.25
292 S -.198(rg).88 G(et; DFT =).198 E(OPlo)333.25 305 Q(w; OC = 0)-.275
E(Send W)425.419 279 Q(inner)-.44 E 503.992 309.75 72 309.75 DL(-> Of)
151.662 320 Q 53.262(fer ->)-.275 F(Of)2.75 E 50.512(fer ->)-.275 F(Of)
2.75 E 53.262(fer ->)-.275 F -.44(Wi)2.75 G(n).44 E F1(Back)79.865 339.5
Q(off)-.165 E F0(DF = Sender;)151.662 333 Q(DFT = OPlo)151.662 346 Q(w;)
-.275 E(OC = 0)151.662 359 Q(DF = Sender;)243.831 333 Q(DFT = OPlo)
243.831 346 Q(w;)-.275 E(OC = 0)243.831 359 Q(DF = Sender or)333.25 333
Q -.88(Ta)333.25 346 S -.198(rg).88 G(et; DFT =).198 E(OPlo)333.25 359 Q
(w; OC = 0)-.275 E(Send W)425.419 333 Q(inner;)-.44 E(Stop DFT)425.419
346 Q 503.992 363.75 72 363.75 DL 413.621 91.75 413.621 363.75 DL
321.452 91.75 321.452 363.75 DL 232.033 91.75 232.033 363.75 DL 138.864
76.75 138.864 363.75 DL 140.864 76.75 140.864 363.75 DL 503.992 76.75
503.992 363.75 DL 72 76.75 72 363.75 DL 504 388.75 72 388.75 DL F1
(In Offer State)255.313 399 Q 504 403.75 72 403.75 DL 504 405.75 72
405.75 DL(DFT Expir)86.62 416 Q(es and OC)-.198 E(is less than Rob)86.62
429 Q(ustness)-.22 E(DFT Expir)236.916 416 Q(es and OC)-.198 E
(is equal to Rob)236.916 429 Q(ustness)-.22 E(and we ha)236.916 442 Q
.22 -.11(ve p)-.275 H(ath to).11 E(RP)236.916 455 Q(DFT Expir)384.154
416 Q(es and OC)-.198 E(is equal to Rob)384.154 429 Q(ustness)-.22 E
(and ther)384.154 442 Q 2.75(ei)-.198 G 2.75(sn)-2.75 G 2.75(op)-2.75 G
(ath to)-2.75 E(RP)384.154 455 Q 504 459.75 72 459.75 DL 504 461.75 72
461.75 DL F0 146.633(--)86.62 472 S 2.75(>W)-146.633 G 113.369(in ->)
-3.19 F(Lose)2.75 E(Send Of)86.62 485 Q(fer; DFT =)-.275 E(OPlo)86.62
498 Q(w; OC = OC + 1)-.275 E(Send W)236.916 485 Q(inner)-.44 E
(Set DF to None)384.154 485 Q 504 502.75 72 502.75 DL 362.224 405.75
362.224 502.75 DL 214.986 405.75 214.986 502.75 DL 504 388.75 504 502.75
DL 72 388.75 72 502.75 DL 503.999 527.75 72 527.75 DL F1(In Lose State)
257.139 538 Q 503.999 542.75 72 542.75 DL 503.999 544.75 72 544.75 DL
(Detect DF F)105.822 555 Q(ailur)-.275 E(e)-.198 E
(Metric changes and no)345.624 555 Q 2.75(wi)-.11 G(s)-2.75 E
(better than DF)345.624 568 Q 503.999 572.75 72 572.75 DL 503.999 574.75
72 574.75 DL F0(-> Of)105.822 585 Q 200.895(fer ->)-.275 F(Of)2.75 E
(fer)-.275 E(DF = None; DFT = OPlo)105.822 598 Q(w_int;)-.275 E(OC = 0)
105.822 611 Q(DFT = OPlo)345.624 598 Q(w_int; OC = 0)-.275 E 503.999
615.75 72 615.75 DL 294.891 544.75 294.891 615.75 DL 503.999 527.75
503.999 615.75 DL 72 527.75 72 615.75 DL(Handle)72 769 Q(y/K)-.165 E
(ouv)-.385 E(elas/Speakman/V)-.165 E 141.16(icisano Section)-.66 F 2.75
(3.5.3.5. [P)2.75 F(age 19])-.165 E EP
%%Page: 20 20
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E .44 LW 503.995 76.75 72 76.75
DL/F1 11/Times-Bold@0 SF(In W)258.149 87 Q(in State)-.198 E 503.995
91.75 72 91.75 DL 503.995 93.75 72 93.75 DL(Metric changes and is)88.224
104 Q(no)88.224 117 Q 2.75(ww)-.11 G(orse)-2.86 E -.198(Ti)239.251 104 S
(mer Expir).198 E(es and)-.198 E(Count is less than)239.251 117 Q(Rob)
239.251 130 Q(ustness)-.22 E(No path to RP)383.48 104 Q 503.995 134.75
72 134.75 DL 503.995 136.75 72 136.75 DL F0 147.364(--)88.224 147 S
(-> Of)-6.798 E(fer)-.275 E(DFT = OPlo)88.224 160 Q(w; OC = 0)-.275 E
(Send W)239.251 160 Q(inner; DFT =)-.44 E(OPlo)239.251 173 Q
(w; OC = OC + 1)-.275 E(Set DF to None; DFT =)383.48 160 Q(OPlo)383.48
173 Q(w; OC = 0)-.275 E 503.995 177.75 72 177.75 DL 359.144 93.75
359.144 177.75 DL 214.915 93.75 214.915 177.75 DL 503.995 76.75 503.995
177.75 DL 72 76.75 72 177.75 DL 503.997 202.75 72 202.75 DL F1(In Back)
249.889 213 Q(off State)-.165 E 503.997 217.75 72 217.75 DL 503.997
219.75 72 219.75 DL(Metric changes and is no)109.137 230 Q(w)-.11 E
(better than Best)109.137 243 Q -.198(Ti)345.101 230 S(mer Expir).198 E
(es)-.198 E 503.997 247.75 72 247.75 DL 503.997 249.75 72 249.75 DL F0
(-> W)109.137 260 Q 202.095(in ->)-.44 F(Lose)2.75 E(Stop T)109.137 273
Q(imer)-.385 E(Send P)345.101 273 Q(ass; Set DF to stored)-.165 E(Best)
345.101 286 Q 503.997 290.75 72 290.75 DL 289.395 219.75 289.395 290.75
DL 503.997 202.75 503.997 290.75 DL 72 202.75 72 290.75 DL F1(3.6.)72
318 Q/F2 13/Times-Bold@0 SF -.234(Ti)5.5 G(mers and Constants).234 E F0
(BIDIR-PIM maintains the follo)72 334.6 Q
(wing timers, as discussed in section 3.1. All timers are countdo)-.275
E(wn)-.275 E(timers - the)72 347.6 Q 2.75(ya)-.165 G(re set to a v)-2.75
E(alue and count do)-.275 E(wn to zero, at which point the)-.275 E 2.75
(yt)-.165 G(ypically trigger an)-2.75 E 2.75(action. Of)72 360.6 R
(course the)2.75 E 2.75(yc)-.165 G(an just as easily be implemented as \
count-up timers, where the absolute)-2.75 E -.165(ex)72 373.6 S
(piry time is stored and compared ag).165 E(ainst a real-time clock, b)
-.055 E(ut the language in this speci\214cation)-.22 E(assumes that the)
72 386.6 Q 2.75(yc)-.165 G(ount do)-2.75 E(wnw)-.275 E(ards to zero.)
-.11 E(Per Rendezv)72 416.2 Q(ous-Point \(RP\):)-.22 E(Per interf)97
432.8 Q(ace \(I\):)-.11 E F1(DF Election T)122 449.4 Q(imer: DFT\(RP)
-.198 E(,I\))-1.012 E F0(Per Group \(G\):)72 466 Q F1(Upstr)97 482.6 Q
(eam J)-.198 E(oin T)-.165 E(imer: JT\(G\))-.198 E F0(Per interf)97
499.2 Q(ace \(I\):)-.11 E F1 -.165(Jo)122 515.8 S(in Expiry T).165 E
(imer: ET\(G,I\))-.198 E(PruneP)122 532.4 Q(ending T)-.22 E
(imer: PPT\(G,I\))-.198 E F0(When timers are started or restarted, the)
72 549 Q 2.75(ya)-.165 G(re set to def)-2.75 E(ault v)-.11 E 2.75
(alues. This)-.275 F(section summarizes those)2.75 E(def)72 562 Q
(ault v)-.11 E(alues.)-.275 E(Handle)72 769 Q(y/K)-.165 E(ouv)-.385 E
(elas/Speakman/V)-.165 E 157.66(icisano Section)-.66 F 2.75(3.6. [P)2.75
F(age 20])-.165 E EP
%%Page: 21 21
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E/F1 11/Times-Bold@0 SF -.198
(Ti)72 85 S(mer Name: DF Election T).198 E(imer \(DFT\))-.198 E .44 LW
503.998 99.35 72 99.35 DL -1.012(Va)91.468 109.6 S(lue Name)1.012 E
-1.012(Va)70.944 G 129.475(lue Explanation)1.012 F 503.998 114.35 72
114.35 DL 503.998 116.35 72 116.35 DL F0(Of)91.468 126.6 Q 67.16
(fer_Period 100)-.275 F(ms)2.75 E(Interv)377.852 126.6 Q(al to w)-.275 E
(ait between)-.11 E(repeated Of)377.852 139.6 Q(fer and)-.275 E -.44(Wi)
377.852 152.6 S(nner messages.).44 E 503.998 157.35 72 157.35 DL(Back)
91.468 167.6 Q(of)-.11 E 55.654(f_Period 1)-.275 F(sec)2.75 E
(Period that acting DF)377.852 167.6 Q -.11(wa)377.852 180.6 S
(its between recei).11 E(ving)-.275 E 2.75(ab)377.852 193.6 S(etter Of)
-2.75 E(fer and)-.275 E(sending the P)377.852 206.6 Q(ass)-.165 E
(message to transfer DF)377.852 219.6 Q(responsibility)377.852 232.6 Q
(.)-.715 E 503.998 237.35 72 237.35 DL(OPLo)91.468 247.6 Q(w)-.275 E
(rand\(0.5, 1\) *)219.139 247.6 Q(Of)219.139 260.6 Q(fer_Period)-.275 E
(Range of actual)377.852 247.6 Q(randomised v)377.852 260.6 Q(alue used)
-.275 E(between repeated)377.852 273.6 Q(messages.)377.852 286.6 Q
503.998 291.35 72 291.35 DL(OPHigh)91.468 301.6 Q(Election_Rob)219.139
301.6 Q(ustness *)-.22 E(Of)219.139 314.6 Q(fer_Period)-.275 E(Interv)
377.852 301.6 Q(al to w)-.275 E(ait in order)-.11 E(to gi)377.852 314.6
Q .33 -.165(ve a c)-.275 H(hance to a).165 E(router with a better)
377.852 327.6 Q(Of)377.852 340.6 Q(fer to become the DF)-.275 E(.)-.88 E
503.998 345.35 72 345.35 DL 348.65 99.35 348.65 345.35 DL 189.937 99.35
189.937 345.35 DL 503.998 99.35 503.998 345.35 DL 72 99.35 72 345.35 DL
F1 -.198(Ti)72 372.6 S(mer Names: J).198 E(oin Expiry T)-.165 E
(imer \(ET\(G,I\)\))-.198 E 504 386.95 72 386.95 DL -1.012(Va)90.349
397.2 S(lue Name)1.012 E -1.012(Va)59.359 G 87.211(lue Explanation)1.012
F 504 401.95 72 401.95 DL 504 403.95 72 403.95 DL F0(J/P HoldT)90.349
414.2 Q 52.297(ime from)-.385 F 52.297(message Hold)2.75 F -.385(Ti)2.75
G(me from Join/Prune Message).385 E 504 418.95 72 418.95 DL 295.36
386.95 295.36 418.95 DL 178.911 386.95 178.911 418.95 DL 504 386.95 504
418.95 DL 72 386.95 72 418.95 DL F1 -.198(Ti)72 446.2 S
(mer Names: Prune P).198 E(ending T)-.22 E(imer \(PPT\(G,I\)\))-.198 E
503.998 460.55 72 460.55 DL -1.012(Va)93.228 470.8 S(lue Name)1.012 E
-1.012(Va)98.774 G 99.709(lue Explanation)1.012 F 503.998 475.55 72
475.55 DL 503.998 477.55 72 477.55 DL F0(J/P Ov)93.228 487.8 Q
(erride Interv)-.165 E 60.934(al Def)-.275 F(ault: 3 secs)-.11 E
(Short period after a join)377.676 487.8 Q(or prune to allo)377.676
500.8 Q 2.75(wo)-.275 G(ther)-2.75 E(routers on the LAN to)377.676 513.8
Q -.165(ove)377.676 526.8 S(rride the join or).165 E(prune)377.676 539.8
Q 503.998 544.55 72 544.55 DL 345.834 460.55 345.834 544.55 DL 216.887
460.55 216.887 544.55 DL 503.998 460.55 503.998 544.55 DL 72 460.55 72
544.55 DL(Handle)72 769 Q(y/K)-.165 E(ouv)-.385 E(elas/Speakman/V)-.165
E 157.66(icisano Section)-.66 F 2.75(3.6. [P)2.75 F(age 21])-.165 E EP
%%Page: 22 22
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E/F1 11/Times-Bold@0 SF -.198
(Ti)72 85 S(mer Names: Upstr).198 E(eam J)-.198 E(oin T)-.165 E
(imer \(JT\(G\)\))-.198 E .44 LW 503.996 99.35 72 99.35 DL -1.012(Va)
86.207 109.6 S(lue Name)1.012 E -1.012(Va)42.72 G 108.698
(lue Explanation)1.012 F 503.996 114.35 72 114.35 DL 503.996 116.35 72
116.35 DL F0 52.092(t_periodic Def)86.207 126.6 R(ault: 60 secs)-.11 E
(Period between Join/Prune Messages)67.173 E 503.996 131.35 72 131.35 DL
(t_suppressed)86.207 141.6 Q(rand\(1.1 * t_periodic,)185.654 141.6 Q
(1.4 * t_periodic\))185.654 154.6 Q(Suppression period when someone)
323.59 141.6 Q(else sends a J/P message so we don')323.59 154.6 Q(t)
-.198 E(need to do so.)323.59 167.6 Q 503.996 172.35 72 172.35 DL(t_o)
86.207 182.6 Q -.165(ve)-.165 G(rride).165 E(rand\(0, 0.9 * J/P)185.654
182.6 Q(Ov)185.654 195.6 Q(erride Interv)-.165 E(al\))-.275 E
(Randomized delay to pre)323.59 182.6 Q -.165(ve)-.275 G(nt).165 E
(response implosion when sending a)323.59 195.6 Q(join message to o)
323.59 208.6 Q -.165(ve)-.165 G(rride someone).165 E(else')323.59 221.6
Q 2.75(sp)-.605 G(rune message.)-2.75 E 503.996 226.35 72 226.35 DL
302.279 99.35 302.279 226.35 DL 164.343 99.35 164.343 226.35 DL 503.996
99.35 503.996 226.35 DL 72 99.35 72 226.35 DL -.165(Fo)72 244.2 S 2.75
(rm).165 G(ore information about these v)-2.75 E
(alues refer to the PIM-SM [9] documentation.)-.275 E F1
(Constant Name: DF Election Rob)72 270.2 Q(ustness)-.22 E 504 284.55 72
284.55 DL(Constant Name)95.717 294.8 Q -1.012(Va)90.192 G 86.1
(lue Explanation)1.012 F 504 299.55 72 299.55 DL 504 301.55 72 301.55 DL
F0(Election_Rob)95.717 311.8 Q(ustness)-.22 E(Def)258.927 311.8 Q
(ault: 3)-.11 E(Minimum number of)374.265 311.8 Q
(election messages that)374.265 324.8 Q(must be lost in order for)
374.265 337.8 Q(election to f)374.265 350.8 Q(ail.)-.11 E 504 355.55 72
355.55 DL 338.689 284.55 338.689 355.55 DL 223.351 284.55 223.351 355.55
DL 504 284.55 504 355.55 DL 72 284.55 72 355.55 DL F1(3.7.)72 382.8 Q/F2
13/Times-Bold@0 SF(BIDIR PIM P)5.5 E(ack)-.13 E(et F)-.13 E(ormats)-.325
E F0(This section describes the details of the pack)72 399.4 Q
(et formats for BIDIR-PIM control messages. BIDIR-)-.11 E(PIM shares a \
number of control messages in common with PIM-SM [9] well as the format\
 for the)72 412.4 Q(Encoded-Unicast address. F)72 425.4 Q
(or details on the format of these pack)-.165 E
(ets please refer to the PIM-SM)-.11 E 2.75(documentation. Here)72 438.4
R(we will only de\214ne the additional pack)2.75 E
(ets that are introduced by BIDIR-)-.11 E(PIM. These are the pack)72
451.4 Q
(ets used in the DF election process as well as the Bidir_Capable PIM-)
-.11 E(Hello option.)72 464.4 Q F1 2.75(3.7.1. DF)72 490.4 R(Election P)
2.75 E(ack)-.11 E(et F)-.11 E(ormats)-.275 E F0
(All PIM control messages ha)72 507 Q .33 -.165(ve I)-.22 H 2.75(Pp).165
G(rotocol number 103.)-2.75 E
(BIDIR-PIM messages are multicast with TTL 1 to the `)72 523.6 Q
(ALL-PIM-R)-.88 E(OUTERS' group)-.44 E(`224.0.0.13'.)72 536.6 Q(All DF \
election BIDIR-PIM control messages share the common header belo)72
553.2 Q(w:)-.275 E/F3 11/Courier@0 SF 125.4(0123)78.6 572.2 S 6.6
(01234567890123456789012345678901)78.6 585.2 S
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72
598.2 Q(|PIM Ver| Type)72 611.2 Q(|Subtype| Rsvd)13.2 E 72.6(|C)13.2 G
72.6(hecksum |)-72.6 F
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72
624.2 Q 118.8(|E)72 637.2 S 118.8(ncoded-Unicast-RP-Address |)-118.8 F
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72
650.2 Q 125.4(|S)72 663.2 S(ender Metric Preference)-125.4 E(|)132 E
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72
676.2 Q 158.4(|S)72 689.2 S(ender Metric)-158.4 E(|)171.6 E
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72
702.2 Q F0(Handle)72 769 Q(y/K)-.165 E(ouv)-.385 E(elas/Speakman/V)-.165
E 149.41(icisano Section)-.66 F 2.75(3.7.1. [P)2.75 F(age 22])-.165 E EP
%%Page: 23 23
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E/F1 11/Times-Bold@0 SF(PIM V)72
85 Q(er)-1.1 E F0(PIM V)97 98 Q(ersion number is 2.)-1.221 E F1 -.814
(Ty)72 114.6 S(pe).814 E F0
(All DF-Election PIM control messages share the PIM message T)97 127.6 Q
(ype of 10.)-.88 E F1(Subtype)72 144.2 Q F0
(Subtypes for DF election messages are:)97 157.2 Q 2.75(1=O)158 176.2 S
-.275(ff)-2.75 G(er).275 E 2.75(2=W)158 189.2 S(inner)-3.19 E 2.75(3=B)
158 202.2 S(ack)-2.75 E(of)-.11 E(f)-.275 E 2.75(4=P)158 215.2 S(ass)
-2.915 E F1(Rsvd)72 237.8 Q F0(Set to zero on transmission.)97 250.8 Q
(Ignored upon receipt.)5.5 E F1(Checksum)72 267.4 Q F0
(The checksum is standard IP checksum, i.e.)97 280.4 Q(the 16-bit one')
5.5 E 2.75(sc)-.605 G(omplement of the one')-2.75 E(s)-.605 E
(complement sum of the entire PIM message.)97 293.4 Q -.165(Fo)5.5 G
2.75(rc).165 G(omputing the checksum, the checksum)-2.75 E
(\214eld is zeroed.)97 306.4 Q F1(RP-Addr)72 323 Q(ess)-.198 E F0(The a\
ddress of the bidir RP for which the election is taking place \(note th\
at the length of)97 336 Q(this \214eld is more than 32 bits\).)97 349 Q
F1(Sender Metric Pr)72 365.6 Q(efer)-.198 E(ence)-.198 E F0
(Preference v)97 378.6 Q(alue assigned to the unicast routing protocol \
that the message sender used to)-.275 E
(obtain the route to the RP-address.)97 391.6 Q F1(Sender Metric)72
408.2 Q F0(The unicast routing table metric used by the message sender \
to reach the RP)97 421.2 Q 2.75(.T)-1.221 G(he metric is)-2.75 E
(in units applicable to the unicast routing protocol used.)97 434.2 Q
(In addition to the \214elds de\214ned abo)72 450.8 Q .33 -.165(ve t)
-.165 H(he Back).165 E(of)-.11 E 2.75(fa)-.275 G(nd P)-2.75 E
(ass messages ha)-.165 E .33 -.165(ve t)-.22 H(he e).165 E
(xtra \214elds)-.165 E(described belo)72 463.8 Q -.715(w.)-.275 G F1
2.75(3.7.2. Back)72 502.8 R(off Message)-.165 E F0(The Back)72 519.4 Q
(of)-.11 E 2.75(fm)-.275 G(essage uses the follo)-2.75 E
(wing \214elds in addition to the common election message)-.275 E
(format described abo)72 532.4 Q -.165(ve)-.165 G(.).165 E/F2 11
/Courier@0 SF 125.4(0123)78.6 551.4 S 6.6
(01234567890123456789012345678901)78.6 564.4 S
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72
577.4 Q 99(|E)72 590.4 S 99(ncoded-Unicast-Offering-Address |)-99 F
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72
603.4 Q 118.8(|O)72 616.4 S(ffering Metric Preference)-118.8 E(|)125.4 E
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72
629.4 Q 151.8(|O)72 642.4 S(ffering Metric)-151.8 E(|)165 E
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72
655.4 Q 79.2(|I)72 668.4 S 66(nterval |)-79.2 F
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72 681.4 Q F1(Offering Addr)72 704 Q
(ess)-.198 E F0
(The address of the router that made the last \(best\) Of)97 717 Q
(fer \(note that the length of this \214eld is)-.275 E(Handle)72 769 Q
(y/K)-.165 E(ouv)-.385 E(elas/Speakman/V)-.165 E 149.41(icisano Section)
-.66 F 2.75(3.7.2. [P)2.75 F(age 23])-.165 E EP
%%Page: 24 24
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E(more than 32 bits\).)97 85 Q
/F1 11/Times-Bold@0 SF(Offering Metric Pr)72 101.6 Q(efer)-.198 E(ence)
-.198 E F0(Preference v)97 114.6 Q
(alue assigned to the unicast routing protocol that the of)-.275 E
(fering router used to)-.275 E(obtain the route to RP-address.)97 127.6
Q F1(Offering Metric)72 144.2 Q F0
(The unicast routing table metric used by the of)97 157.2 Q
(fering router to reach the RP)-.275 E 2.75(.T)-1.221 G(he metric is in)
-2.75 E(units applicable to the unicast routing protocol used.)97 170.2
Q F1(Inter)72 186.8 Q -.11(va)-.11 G(l).11 E F0(The back)97 199.8 Q(of)
-.11 E 2.75(fi)-.275 G(nterv)-2.75 E
(al in milliseconds to be used by routers with w)-.275 E
(orse metrics than the)-.11 E(of)97 212.8 Q(fering router)-.275 E(.)
-.605 E F1 2.75(3.7.3. P)72 251.8 R(ass Message)-.11 E F0(The P)72 268.4
Q(ass message uses the follo)-.165 E
(wing \214elds in addition to the common election \214elds described)
-.275 E(abo)72 281.4 Q -.165(ve)-.165 G(.).165 E/F2 11/Courier@0 SF
125.4(0123)78.6 300.4 S 6.6(01234567890123456789012345678901)78.6 313.4
S(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72
326.4 Q 92.4(|E)72 339.4 S 92.4(ncoded-Unicast-New-Winner-Address |)
-92.4 F
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72
352.4 Q 112.2(|N)72 365.4 S(ew Winner Metric Preference)-112.2 E(|)118.8
E(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72
378.4 Q 145.2(|N)72 391.4 S(ew Winner Metric)-145.2 E(|)158.4 E
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72
404.4 Q F1(New W)72 427 Q(inner Addr)-.198 E(ess)-.198 E F0
(The address of the router that made the last \(best\) Of)97 440 Q
(fer \(note that the length of this \214eld is)-.275 E
(more than 32 bits\).)97 453 Q F1(New W)72 469.6 Q(inner Metric Pr)-.198
E(efer)-.198 E(ence)-.198 E F0(Preference v)97 482.6 Q
(alue assigned to the unicast routing protocol that the of)-.275 E
(fering router used to)-.275 E(obtain the route to RP-address.)97 495.6
Q F1(New W)72 512.2 Q(inner Metric)-.198 E F0
(The unicast routing table metric used by the of)97 525.2 Q
(fering router to reach the RP)-.275 E 2.75(.T)-1.221 G(he metric is in)
-2.75 E(units applicable to the unicast routing protocol used.)97 538.2
Q F1 2.75(3.7.4. Bidir)72 564.2 R(Capable PIM-Hello Option)2.75 E F0
(BIDIR-PIM introduces one ne)72 580.8 Q 2.75(wP)-.275 G
(IM-Hello option.)-2.75 E 7.15<834f>72 597.4 S(ptionT)-7.15 E
(ype 22: Bidir Capable)-.88 E F2 125.4(0123)89.6 616.4 S 6.6
(01234567890123456789012345678901)89.6 629.4 S
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)83
642.4 Q 66(|T)83 655.4 S(ype = 22)-66 E 59.4(|L)79.2 G(ength = 0)-59.4 E
(|)79.2 E
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)83
668.4 Q F0(Handle)72 769 Q(y/K)-.165 E(ouv)-.385 E(elas/Speakman/V)-.165
E 149.41(icisano Section)-.66 F 2.75(3.7.4. [P)2.75 F(age 24])-.165 E EP
%%Page: 25 25
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E/F1 11/Times-Bold@0 SF(4.)72 85
Q/F2 14/Times-Bold@0 SF(RP Disco)5.5 E -.14(ve)-.14 G(ry).14 E F0
(Routers disco)72 101.6 Q -.165(ve)-.165 G 2.75(rt).165 G(hat a range o\
f multicast group addresses operates in bi-directional mode and the)
-2.75 E(address of the Rendezv)72 114.6 Q(ous-Point serving the group r\
ange either through static con\214guration or)-.22 E
(using an automatic RP disco)72 127.6 Q -.165(ve)-.165 G
(ry mechanism lik).165 E 2.75(et)-.11 G
(he PIM Bootsrtap mechanism \(BSR\).)-2.75 E([12].)5.5 E(By def)72 144.2
Q(ault the BSR protocol adv)-.11 E
(ertises RPs that operate the PIM-SM protocol. In order to)-.165 E(iden\
tify a RP as operating in BIDIR mode, the Encoded-Group Address \214eld\
 in Bootstrap and)72 157.2 Q(Candidate-RP Adv)72 170.2 Q
(ertisement messages has been e)-.165 E
(xtended by adding the BIDIR bit \(B-bit\) as)-.165 E(speci\214ed belo)
72 183.2 Q(w:)-.275 E/F3 11/Courier@0 SF 125.4(0123)78.6 202.2 S 6.6
(01234567890123456789012345678901)78.6 215.2 S
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72
228.2 Q 6.6(|A)72 241.2 S(ddr Family)-6.6 E 6.6(|E)19.8 G
(ncoding Type |B|)-6.6 E 6.6(Reserved | Mask)19.8 F 26.4(Len |)6.6 F
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72
254.2 Q 125.4(|G)72 267.2 S(roup Multicast Address)-125.4 E(|)138.6 E
(+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+)72
280.2 Q F1(B-bit)72 302.8 Q F0(When the Bidir)97 315.8 Q(-bit is set, a\
ll BIDIR capable PIM routers will operate the protocol described)-.22 E
(in this document for the speci\214ed group range.)97 328.8 Q F1(5.)72
354.8 Q F2(Security Considerations)5.5 E F0(All PIM control messages MA)
72 371.4 Q 2.75(Yu)-1.155 G(se IPsec [6] to address security concerns.)
-2.75 E(The authentication)5.5 E
(methods are addressed in a companion document [7]. K)72 384.4 Q -.165
(ey)-.275 G 2.75(sm).165 G(ay be distrib)-2.75 E
(uted as described in [8].)-.22 E F1(5.1.)72 423.4 Q/F4 13/Times-Bold@0
SF -.325(Ap)5.5 G(pendix A: Election Reliability Enhancements).325 E F0
-.165(Fo)72 440 S 2.75(rt).165 G
(he correct operation of bi-directional PIM it is v)-2.75 E
(ery important to a)-.165 E -.22(vo)-.22 G(id situations where tw).22 E
(o)-.11 E(routers consider themselv)72 453 Q(es to be Designated F)-.165
E(orw)-.165 E(arders for the same link. The tw)-.11 E 2.75(op)-.11 G
(recautions)-2.75 E(belo)72 466 Q 2.75(wa)-.275 G
(re not required for correct operation b)-2.75 E
(ut can help diagnose anomalies and correct them.)-.22 E F1 2.75
(5.1.1. A.1)72 492 R(Missing P)2.75 E(ass)-.11 E F0(After a DF has been\
 elected, a router whose metrics change to become better than the DF wi\
ll)72 508.6 Q(attempt to tak)72 521.6 Q 2.75(eo)-.11 G -.165(ve)-2.915 G
1.21 -.605(r. I).165 H 2.75(fd).605 G(uring the re-election the acting \
DF has a condition that causes it to lose)-2.75 E
(all of the election messages \(lik)72 534.6 Q 2.75(eaC)-.11 G(PU o)
-2.75 E -.165(ve)-.165 G(rload\), the ne).165 E 2.75(wc)-.275 G
(andidate will transmit three of)-2.75 E(fers)-.275 E
(and assume the role of the forw)72 547.6 Q(arder resulting in tw)-.11 E
2.75(oD)-.11 G(Fs on the link. This situation is)-2.75 E
(pathological and should be corrected by \214xing the o)72 560.6 Q -.165
(ve)-.165 G(rloaded router).165 E 2.75(.I)-.605 G 2.75(ti)-2.75 G 2.75
(sd)-2.75 G(esirable that such an)-2.75 E -2.365 -.275(ev e)72 573.6 T
(nt can be detected by a netw).275 E(ork administrator)-.11 E(.)-.605 E
(When a router becomes the DF for a link without recei)72 590.2 Q
(ving a P)-.275 E(ass message from the kno)-.165 E(wn old)-.275 E(DF)72
603.2 Q 2.75(,t)-.88 G
(he PIM neighbor information for the old DF can be mark)-2.75 E
(ed to this ef)-.11 E(fect. Upon recei)-.275 E(ving the)-.275 E(ne)72
616.2 Q(xt PIM Hello message from the old DF)-.165 E 2.75(,t)-.88 G
(he router can retransmit W)-2.75 E(inner messages for all the)-.44 E
(RPs for which it acting as the DF)72 629.2 Q 2.75(.T)-.88 G
(he anomaly may also be logged by the router to alert the)-2.75 E
(operator)72 642.2 Q(.)-.605 E F1 2.75(5.1.2. A.2)72 671.8 R -.22(Pe)
2.75 G(riodic W).22 E(inner Announcement)-.198 E F0(An additional de)72
688.4 Q(gree of safety can be achie)-.165 E -.165(ve)-.275 G 2.75(db)
.165 G 2.75(yh)-2.75 G -.22(av)-2.75 G
(ing the DF for each RP periodically).22 E(announce its status in a W)72
701.4 Q(inner message.)-.44 E -.385(Tr)5.5 G
(ansmission of the periodic W).385 E(inner message can be)-.44 E
(restricted to occur only for RPs which ha)72 714.4 Q .33 -.165(ve a)
-.22 H(cti).165 E .33 -.165(ve g)-.275 H(roups, thus a).165 E -.22(vo)
-.22 G(iding the periodic control).22 E(Handle)72 769 Q(y/K)-.165 E(ouv)
-.385 E(elas/Speakman/V)-.165 E 149.41(icisano Section)-.66 F 2.75
(5.1.2. [P)2.75 F(age 25])-.165 E EP
%%Page: 26 26
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E(traf)72 85 Q
(\214c in areas of the netw)-.275 E(ork without senders or recei)-.11 E
-.165(ve)-.275 G(rs for a particular RP).165 E(.)-1.221 E/F1 11
/Times-Bold@0 SF(5.2.)72 114.6 Q/F2 13/Times-Bold@0 SF -.325(Ap)5.5 G
(pendix B: Inter).325 E(operability with legacy code)-.234 E F0
(The rules pro)72 131.2 Q(vided in [10] for interoperating between le)
-.165 E -.055(ga)-.165 G .33 -.165(cy P).055 H(IM-SM routers and ne).165
E 2.75(wb)-.275 G(i-)-2.75 E
(directional capable routers change only slightly to support this ne)72
144.2 Q 2.75(wp)-.275 G(roposal. The only dif)-2.75 E(ference)-.275 E(i\
s in the de\214nition of a boundary between a bi-directional capable ar\
ea and a le)72 157.2 Q -.055(ga)-.165 G .33 -.165(cy a).055 H
(rea of the).165 E(netw)72 170.2 Q 2.75(ork. In)-.11 F
([10], a bidir capable router forw)2.75 E(arding upstream, re)-.11 E
(gister encapsulates the data)-.165 E(pack)72 183.2 Q
(et to the RP if its RPF neighbor is not bidir capable.)-.11 E(In our p\
roposal, since all the routers on a link need to co-operate to elect th\
e Designated)72 199.8 Q -.165(Fo)72 212.8 S(rw).165 E(arder)-.11 E 2.75
(,i)-.44 G 2.75(fe)-2.75 G -.165(ve)-3.025 G 2.75(no).165 G
(ne of the routers on the link is a le)-2.75 E -.055(ga)-.165 G .33
-.165(cy r).055 H(outer).165 E 2.75(,t)-.44 G(he election cannot tak)
-2.75 E 2.75(ep)-.11 G(lace.)-2.75 E(As a result re)72 225.8 Q(gister e\
ncapsulation is necessary if one or more routers on the RPF interf)-.165
E(ace are not)-.11 E(bi-directional capable.)72 238.8 Q
(As in [10], a Hello option must be used to dif)72 255.4 Q
(ferentiate between bi-directional capable and le)-.275 E -.055(ga)-.165
G -.165(cy).055 G
(routers, and \(S,G\) state must be created on the router doing the re)
72 268.4 Q(gister encapsulation to pre)-.165 E -.165(ve)-.275 G(nt).165
E(loops.)72 281.4 Q F1(5.3.)72 311 Q F2 -.325(Ap)5.5 G
(pendix C: Comparison with PIM-SM).325 E F0
(This section describes the main dif)72 327.6 Q
(ferences between Bidir PIM and sparse-mode PIM:)-.275 E 7.15<8342>97
344.2 S(idir PIM uses a single shared tree for distrib)-7.15 E
(uting the data for all the sources of a)-.22 E(multicast group. The us\
e of a single tree signi\214cantly reduces state requirements on a)108
357.2 Q(router)108 370.2 Q 2.75(.T)-.605 G(he dra)-2.75 E
(wback is that it may produce suboptimal paths from sources to recei)
-.165 E -.165(ve)-.275 G(rs).165 E(possibly resulting in higher netw)108
383.2 Q(ork latenc)-.11 E 2.75(ya)-.165 G(nd less ef)-2.75 E
(\214cient bandwidth utilisation.)-.275 E 7.15<8349>97 399.8 S 2.75(nB)
-7.15 G(idir PIM, pack)-2.75 E(ets tra)-.11 E -.165(ve)-.22 G
(ling from a source to the RP).165 E 2.75(,a)-1.221 G(re nati)-2.75 E
-.165(ve)-.275 G(ly forw).165 E(arded on the)-.11 E(shared tree. In con\
trast sparse-mode PIM uses unicast encapsulation or source-speci\214c)
108 412.8 Q(state.)108 425.8 Q 7.15<8349>97 442.4 S 2.75(nB)-7.15 G
(idir PIM, sender)-2.75 E(-only branches do not need to k)-.22 E
(eep group state. Data from the source)-.11 E(can be nati)108 455.4 Q
-.165(ve)-.275 G(ly forw).165 E(arded to)-.11 E -.11(wa)-.275 G
(rds the RP using RP-speci\214c forw).11 E(arding state.)-.11 E 7.15
<8354>97 472 S(he Bidir Designated F)-7.15 E(orw)-.165 E
(arder \(DF\) assumes all the responsibilities of the sparse-mode)-.11 E
(DR. In a multi-access link, the DF responds to IGMP noti\214cations. D\
o)108 485 Q(wnstream routers)-.275 E(on the link use the DF as their up\
stream neighbor and direct all Join/Prune messages)108 498 Q(to)108 511
Q -.11(wa)-.275 G(rds it.).11 E 7.15<8354>97 527.6 S 2.75(oe)-8.03 G
(nforce a single forw)-2.75 E
(arder on multi-access links, sparse-mode PIM uses the Assert)-.11 E
(mechanism which requires data-pack)108 540.6 Q
(ets to trigger protocol e)-.11 E -.165(ve)-.275 G
(nts. In Bidir PIM, data-).165 E(dri)108 553.6 Q -.165(ve)-.275 G 2.75
(ne).165 G -.165(ve)-3.025 G
(nts are completely eliminated as a correct route is al).165 E -.11(wa)
-.11 G(ys a).11 E -.275(va)-.22 G(ilable at pack).275 E(et)-.11 E(forw)
108 566.6 Q(arding time.)-.11 E(The DF election problem is easier than \
the assert problem because there is a small number)97 583.2 Q
(of RPs and the per RP DF election can be done in adv)97 596.2 Q
(ance. W)-.275 E(ith the assert mechanism, in)-.44 E
(addition to each RP)97 609.2 Q 2.75(,af)-1.221 G(orw)-2.75 E
(arder has to be elected for each possible source to a group. This)-.11
E(can not be done before data is a)97 622.2 Q -.275(va)-.22 G(ilable.)
.275 E 7.15<8357>97 638.8 S(ith sparse-mode PIM, when forw)-7.59 E
(arding pack)-.11 E(ets using shared-tree \(*,G\) state, a)-.11 E
(directly-connected-source check has to be made on e)108 651.8 Q -.165
(ve)-.275 G(ry pack).165 E 2.75(et. This)-.11 F(is done to)2.75 E
(determine if the pack)108 664.8 Q(et w)-.11 E
(as originated by a source which is directly connected to the)-.11 E
(router)108 677.8 Q 2.75(.F)-.605 G
(or a connected source, source-speci\214c state has to be created to re)
-2.915 E(gister pack)-.165 E(ets)-.11 E
(to the RP and prune the source of)108 690.8 Q 2.75(ft)-.275 G
(he shared tree.)-2.75 E -.44(Wi)97 707.4 S
(th Bidir PIM directly connected sources do not need an).44 E 2.75(ys)
-.165 G(pecial handling. The DF for the)-2.75 E
(RP of the group the source is sending to, seamlessly picks-up and forw)
97 720.4 Q(ards upstream)-.11 E(Handle)72 769 Q(y/K)-.165 E(ouv)-.385 E
(elas/Speakman/V)-.165 E 157.66(icisano Section)-.66 F 2.75(5.3. [P)2.75
F(age 26])-.165 E EP
%%Page: 27 27
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E(tra)97 85 Q -.165(ve)-.22 G
(ling pack).165 E(ets.)-.11 E/F1 11/Times-Bold@0 SF(6.)72 127.6 Q/F2 14
/Times-Bold@0 SF -1.288(To)5.5 G(do list...)1.288 E F0 7.15<8355>72
144.2 S(pdate le)-7.15 E -.055(ga)-.165 G .33 -.165(cy i).055 H
(nteroperability section to remo).165 E .33 -.165(ve d)-.165 H(ependenc)
.165 E 2.75(yo)-.165 G 2.75(n1)-2.75 G(0.)-2.75 E 7.15<8349>72 160.8 S
(ncorporate BSR mods into BSR spec.)-7.15 E 7.15<8349>72 177.4 S 2.75
(nt)-7.15 G(he state machine, perhaps add an arc from NI to NI, labelle\
d "\(*,G\) Join b)-2.75 E(ut not DF" just to)-.22 E(mak)83 190.4 Q 2.75
(ei)-.11 G 2.75(tr)-2.75 G(eally clear)-2.75 E(.)-.605 E F1(7.)72 229.4
Q F2 -.7(Au)5.5 G(thors' Addr).7 E(esses)-.252 E F0(Mark Handle)108
248.4 Q(y)-.165 E(ICIR/ICSI)108 261.4 Q(1947 Center St, Suite 600)108
274.4 Q(Berk)108 287.4 Q(ele)-.11 E 1.43 -.715(y, C)-.165 H 2.75(A9).715
G(4708)-2.75 E(mjh@icir)108 300.4 Q(.or)-.605 E(g)-.198 E(Isidor K)108
325.4 Q(ouv)-.385 E(elas)-.165 E(Cisco Systems)108 338.4 Q -.11(ko)108
351.4 S(uv).11 E(elas@cisco.com)-.165 E -.88(To)108 376.4 S .33 -.165
(ny S).88 H(peakman).165 E(Cisco Systems)108 389.4 Q(speakman@cisco.com)
108 402.4 Q(Lorenzo V)108 427.4 Q(icisano)-.66 E(Cisco Systems)108 440.4
Q(lorenzo@cisco.com)108 453.4 Q F1(8.)72 485.4 Q F2(Ackno)5.5 E
(wledgments)-.14 E F0(The bidir proposal in this draft is hea)72 502 Q
(vily based on the ideas and te)-.22 E(xt presented by Estrin and)-.165
E -.165(Fa)72 515 S(rinacci in [10]. The main dif).165 E
(ference between the tw)-.275 E 2.75(op)-.11 G
(roposals is in the method chosen for)-2.75 E(upstream forw)72 528 Q
(arding.)-.11 E 1.76 -.88(We w)72 544.6 T(ould also lik).77 E 2.75(et)
-.11 G 2.75(ot)-2.75 G
(hank Deborah Estrin at ISI/USC as well as Nidhi Bhaskar)-2.75 E 2.75
(,Y)-.44 G(iqun Cai,)-3.355 E(Apoorv)72 557.6 Q 2.75(aK)-.275 G
(aran, Rajitha Sumanasek)-2.75 E(era and Beau W)-.11 E
(illiamson at cisco for their contrib)-.44 E(utions and)-.22 E
(comments to this draft.)72 570.6 Q F1(9.)72 600.2 Q F2(Refer)5.5 E
(ences)-.252 E F0([1] T)72 616.8 Q 2.75(.B)-.814 G
(ates , R. Chandra , D. Katz , Y)-2.75 E 2.75(.R)-1.419 G(ekhter)-2.75 E
2.75(,")-.44 G(Multiprotocol Extensions for BGP-4", RFC)-2.75 E(2283)97
629.8 Q([2] S.E. Deering, "Host e)72 646.4 Q
(xtensions for IP multicasting", RFC 1112, Aug 1989.)-.165 E([3] W)72
663 Q 2.75(.F)-1.012 G(enner)-2.75 E 2.75(,")-.44 G
(Internet Group Management Protocol, V)-2.75 E(ersion 2", RFC 2236.)
-1.221 E([4] IAN)72 679.6 Q(A, "Address F)-.385 E(amily Numbers", link)
-.165 E(ed from http://www)-.11 E(.iana.or)-.715 E(g/numbers.html)-.198
E([5] T)72 696.2 Q 2.75(.N)-.814 G(arten , H. Alv)-2.75 E
(estrand, "Guidelines for Writing an IAN)-.165 E 2.75(AC)-.385 G
(onsiderations Section in RFCs",)-2.75 E(RFC 2434.)97 709.2 Q(Handle)72
769 Q(y/K)-.165 E(ouv)-.385 E(elas/Speakman/V)-.165 E 165.91
(icisano Section)-.66 F 2.75(9. [P)2.75 F(age 27])-.165 E EP
%%Page: 28 28
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E([6] S. K)72 85 Q(ent, R. Atki\
nson, "Security Architecture for the Internet Protocol.", RFC 2401.)
-.275 E([7] L. W)72 101.6 Q(ei, "Authenticating PIM v)-.88 E
(ersion 2 messages", draft-ietf-pim-v2-auth-01.txt, w)-.165 E(ork in)
-.11 E(progress.)97 114.6 Q([8] T)72 131.2 Q 2.75(.H)-.814 G
(ardjono, B. Cain, "Simple K)-2.75 E .33 -.165(ey M)-.275 H
(anagement Protocol for PIM", draft-ietf-pim-).165 E
(simplekmp-01.txt, w)97 144.2 Q(ork in progress.)-.11 E([9] B. Fenner)72
160.8 Q 2.75(,M)-.44 G 2.75(.H)-2.75 G(andle)-2.75 E 1.43 -.715(y, H)
-.165 H 2.75(.H).715 G(olbrook, I. K)-2.75 E(ouv)-.385 E
(elas "Protocol Independent Multicast - Sparse)-.165 E(Mode \(PIM-SM\):)
97 173.8 Q(Protocol Speci\214cation \(Re)5.5 E(vised\)", W)-.275 E
(ork In Progress, <draft-ietf-pim-sm-)-.88 E(v2-ne)97 186.8 Q
(w-05.txt>, 2002.)-.275 E([10] D. Estrin, D. F)72 203.4 Q
(arinacci, "Bi-directional Shared T)-.165 E(rees in PIM-SM", W)-.385 E
(ork In Progress, <draft-)-.88 E -.11(fa)97 216.4 S(rinacci-bidir).11 E
(-pim-01.txt>, May 1999.)-.22 E([11] D. Estrin et al, "Protocol Indepen\
dent Multicast-Sparse Mode \(PIM-SM\): Protocol)72 233 Q
(Speci\214cation", RFC 2362, No)97 246 Q 2.75(v1)-.165 G(999.)-2.75 E
([12] W)72 262.6 Q 2.75(.F)-1.012 G(enner)-2.75 E 2.75(,M)-.44 G 2.75
(.H)-2.75 G(andle)-2.75 E 1.43 -.715(y, R)-.165 H 2.75(.K).715 G
(ermode and D. Thaler)-3.025 E 2.75(,")-.44 G
(Bootstrap Router \(BSR\) Mechanism for)-2.75 E
(PIM Sparse Mode", draft-ietf-pim-sm-bsr)97 275.6 Q(-00.txt, w)-.22 E
(ork in progress.)-.11 E(Handle)72 769 Q(y/K)-.165 E(ouv)-.385 E
(elas/Speakman/V)-.165 E 165.91(icisano Section)-.66 F 2.75(9. [P)2.75 F
(age 28])-.165 E EP
%%Page: 29 29
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(INTERNET)72 49 Q 66.092(-DRAFT Expires:)-1.012 F
(December 2002)2.75 E(June 2002)116.406 E/F1 11/Times-Bold@0 SF(10.)72
85 Q/F2 14/Times-Bold@0 SF(Index)5.5 E/F3 10/Times-Roman@0 SF(Do)72 97 Q
(wnstreamJPState\(G,I\))-.25 E F0 11(......................)12.99 G F3
(7)11.5 E(ET\(G,I\))72 109 Q F0 11(...........................)12.32 G
F3(6,9,21)-8.5 E(ET\(RP)72 121 Q(,I\))-1.11 E F0 11
(...........................)8.42 G F3(6)11.5 E(I_am_DF\(RP)72 133 Q
(,I\))-1.11 E F0 11(.........................)9.81 G/F4 10/Times-Bold@0
SF(7)-8.5 E F3(,8,11)A(J/P_HoldT)72 145 Q(ime)-.35 E F0 11
(..........................).01 G F3(21)6.5 E(J/P_Ov)72 157 Q
(erride_Interv)-.15 E(al)-.25 E F0 11(.......................)10.78 G F3
(11,21)-6 E(JoinDesired\(G\))72 169 Q F0 11(.........................)
10.1 G F3(12)6.5 E(joins\(G\))72 181 Q F0 11
(...........................)10.92 G F4(7)11.5 E F3(JT\(*,G\))72 193 Q
F0 11(...........................)12.87 G F3(11)6.5 E(JT\(G\))72 205 Q
F0 11(............................)6.62 G F3(6,22)-1 E(local_recei)72
217 Q -.15(ve)-.25 G(r_include\(G,I\)).15 E F0 11
(......................)2.61 G F3(7)11.5 E(NL)72 229 Q(T\(N,I\))-.92 E
F0 11(...........................)6.02 G F3(5)11.5 E(Of)72 241 Q
(fer_Period)-.25 E F0 11(..........................)5.49 G F3(21)6.5 E
(olist\(G\))72 253 Q F0 11(...........................)13.14 G F4(7)-8.5
E F3(,8,12)A -.4(OT)72 265 S F0 11(.............................)4.22 G
F3(21)6.5 E(pim_include\(G\))72 277 Q F0 11(.........................)
7.87 G F4(7)11.5 E F3(PPT\(G,I\))72 289 Q F0 11
(...........................)7.31 G F3(6,9,21)-8.5 E(RPF_interf)72 301 Q
(ace\(RP\))-.1 E F0 11(........................)8.94 G F4(7)4 E F3(,8)A
(t_o)72 313 Q -.15(ve)-.15 G(rride).15 E F0 11
(...........................)3.45 G F3(12,22)-6 E(t_periodic)72 325 Q F0
11(...........................)3.7 G F3(12,22)-6 E(t_suppressed)72 337 Q
F0 11(..........................)6.34 G F3(12,22)-6 E F0(Handle)72 769 Q
(y/K)-.165 E(ouv)-.385 E(elas/Speakman/V)-.165 E 160.41(icisano Section)
-.66 F 2.75(10. [P)2.75 F(age 29])-.165 E EP
%%Trailer
end
%%EOF
